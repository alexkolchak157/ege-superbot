"""AI-–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –∑–∞–¥–∞–Ω–∏—è 19 - –§–ò–ù–ê–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø V2.1."""

import logging
import os
import json
import re
from enum import Enum
from typing import Dict, List, Any, Optional
from core.types import (
    UserID,
    TaskType,
    EvaluationResult,
    CallbackData,
    TaskRequirements,
)

logger = logging.getLogger(__name__)

# –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏–º–ø–æ—Ä—Ç
try:
    from core.ai_evaluator import BaseAIEvaluator
    from core.ai_service import create_ai_service, AIServiceConfig, AIModel
    AI_EVALUATOR_AVAILABLE = True
except ImportError as e:
    logger.warning(f"AI evaluator components not available: {e}")
    AI_EVALUATOR_AVAILABLE = False

    class BaseAIEvaluator:
        def __init__(self, requirements: TaskRequirements):
            self.requirements = requirements

    def create_ai_service(config):
        return None

    class AIServiceConfig:
        pass

    class AIModel:
        LITE = "lite"
        PRO = "pro"


class StrictnessLevel(Enum):
    """–£—Ä–æ–≤–Ω–∏ —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏."""
    LENIENT = "–ú—è–≥–∫–∏–π"
    STANDARD = "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π" 
    STRICT = "–°—Ç—Ä–æ–≥–∏–π"
    EXPERT = "–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π"


class Task19AIEvaluator(BaseAIEvaluator if AI_EVALUATOR_AVAILABLE else object):
    """AI-–ø—Ä–æ–≤–µ—Ä—â–∏–∫ –¥–ª—è –∑–∞–¥–∞–Ω–∏—è 19 —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç–∏."""
    
    def __init__(self, strictness: StrictnessLevel = StrictnessLevel.STANDARD):
        self.strictness = strictness
        
        if AI_EVALUATOR_AVAILABLE:
            requirements = TaskRequirements(
                task_number=19,
                task_name="–ü—Ä–∏–º–µ—Ä—ã —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤",
                max_score=3,
                criteria=[
                    {
                        "name": "–ö1",
                        "max_score": 3,
                        "description": "–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ—Ä–æ–≤ (–ø–æ 1 –±–∞–ª–ª—É –∑–∞ –∫–∞–∂–¥—ã–π)"
                    }
                ],
                description="–ü—Ä–∏–≤–µ–¥–∏—Ç–µ —Ç—Ä–∏ –ø—Ä–∏–º–µ—Ä–∞, –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ –æ–±—â–µ—Å—Ç–≤–æ–≤–µ–¥—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ"
            )
            super().__init__(requirements)
        else:
            self.requirements = TaskRequirements(
                task_number=19,
                task_name="–ü—Ä–∏–º–µ—Ä—ã —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤",
                max_score=3,
                criteria=[{"name": "–ö1", "max_score": 3, "description": "–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ—Ä–æ–≤"}],
                description="–ü—Ä–∏–≤–µ–¥–∏—Ç–µ —Ç—Ä–∏ –ø—Ä–∏–º–µ—Ä–∞, –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ –æ–±—â–µ—Å—Ç–≤–æ–≤–µ–¥—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ"
            )
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–µ—Ä–≤–∏—Å –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
        self.ai_service = None
        if AI_EVALUATOR_AVAILABLE:
            try:
                config = AIServiceConfig.from_env()
                if strictness in [StrictnessLevel.STRICT, StrictnessLevel.EXPERT]:
                    config.model = AIModel.PRO
                else:
                    config.model = AIModel.LITE
                
                if strictness == StrictnessLevel.LENIENT:
                    config.temperature = 0.4
                elif strictness == StrictnessLevel.STANDARD:
                    config.temperature = 0.3
                else:
                    config.temperature = 0.2
                    
                self.config = config
                logger.info(f"Task19 AI evaluator configured with {strictness.value} strictness")
            except Exception as e:
                logger.error(f"Failed to configure AI service: {e}")
                self.config = None
    
    def _check_russia_requirement(self, task_text: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ç—Ä–µ–±—É—é—Ç—Å—è –ª–∏ –≤ –∑–∞–¥–∞–Ω–∏–∏ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ –†–æ—Å—Å–∏—é."""
        russia_keywords = [
            r'\b–†–æ—Å—Å–∏[–∏—è—é]',
            r'\b–†–§\b',
            r'\b–†–æ—Å—Å–∏–π—Å–∫[–æ–π–∏–µ—É—é]{1,3}',
            r'\b–≤\s+–Ω–∞—à–µ–π\s+—Å—Ç—Ä–∞–Ω–µ',
        ]
        for pattern in russia_keywords:
            if re.search(pattern, task_text, re.IGNORECASE):
                return True
        return False
    
    def _check_structure_requirement(self, task_text: str) -> Optional[str]:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –æ—Å–æ–±–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞."""
        # –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
        structure_patterns = [
            (r'—Å–Ω–∞—á–∞–ª–∞\s+\w+\s*,\s*–∑–∞—Ç–µ–º\s+–ø—Ä–∏–º–µ—Ä', '—Å–Ω–∞—á–∞–ª–∞_–∑–∞—Ç–µ–º'),
            (r'–≤\s+–∫–∞–∂–¥–æ–º\s+—Å–ª—É—á–∞–µ\s+\w+\s+–ø—Ä–∏–º–µ—Ä', '—ç–ª–µ–º–µ–Ω—Ç_–ø—Ä–∏–º–µ—Ä'),
            (r'–ø—Ä–∏–≤–µ–¥–∏—Ç–µ\s+–ø—Ä–∏–º–µ—Ä[^.]+–∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É', '—ç–ª–µ–º–µ–Ω—Ç_–ø—Ä–∏–º–µ—Ä'),
        ]
        
        for pattern, struct_type in structure_patterns:
            if re.search(pattern, task_text, re.IGNORECASE):
                return struct_type
        
        return None
    
    def get_system_prompt(self) -> str:
        """–£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å —á–µ—Ç–∫–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç–∏."""
        base_prompt = """–¢—ã - –æ–ø—ã—Ç–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç –ï–ì–≠ –ø–æ –æ–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏—é, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏–π—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ –∑–∞–¥–∞–Ω–∏—è 19.

–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û: –ü—Ä–∏–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ö–û–ù–ö–†–ï–¢–ù–´–ú, –∞ –Ω–µ –æ–±—â–∏–º —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ–º!

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ò–ó–ù–ê–ö–ò –ö–û–ù–ö–†–ï–¢–ù–û–ì–û –ü–†–ò–ú–ï–†–ê:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

1. –ö–û–ù–ö–†–ï–¢–ù–û–ï –õ–ò–¶–û –ò–õ–ò –û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø:
   ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
   - "–ì—Ä–∞–∂–¥–∞–Ω–∏–Ω –ê –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ –∑–∞–∫–ª—é—á–∏–ª –±—Ä–∞–∫"
   - "–ì—Ä–∞–∂–¥–∞–Ω–∫–∞ –¢., —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–Ω–∞—è –≤ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–º –∫—É—Ä—Å–µ, –∞–∫—Ç–∏–≤–Ω–æ —É—á–∞—Å—Ç–≤—É–µ—Ç"
   - "–°—É–ø—Ä—É–≥–∏ –ü–µ—Ç—Ä–æ–≤—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ç–µ"
   - "–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è BMW –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª–∏"
   - "–ö–æ–º–ø–∞–Ω–∏—è ¬´–ì–∞–∑–ø—Ä–æ–º¬ª –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –¥–æ–±—ã—á–µ–π –≥–∞–∑–∞"
   - "–û–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç–∏–∫–ª–∞—Å—Å–Ω–∏—Ü–∞ –°–æ—Ñ—å—è –ø–æ—Å—Ç—É–ø–∏–ª–∞ –≤ –≤—É–∑"
   - "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z —Å–æ–∫—Ä–∞—Ç–∏–ª–æ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ 7%" (–µ—Å–ª–∏ –Ω–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–æ –†–æ—Å—Å–∏—é)
   - "–í —Å—Ç—Ä–∞–Ω–µ Z –±—ã–ª–∞ —Å–Ω–∏–∂–µ–Ω–∞ —Å—Ç–∞–≤–∫–∞ –Ω–∞–ª–æ–≥–∞" (–µ—Å–ª–∏ –Ω–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–æ –†–æ—Å—Å–∏—é)
   
   ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (—Å–ª–∏—à–∫–æ–º –æ–±—â–æ):
   - "–ú–Ω–æ–≥–∏–µ –ª—é–¥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç" 
   - "–°—Ç—É–¥–µ–Ω—Ç—ã —É—á–∞—Ç—Å—è –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞—Ö"
   - "–ö–æ–º–ø–∞–Ω–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç —Ç–æ–≤–∞—Ä—ã"
   - "–ì—Ä–∞–∂–¥–∞–Ω–µ –ø–ª–∞—Ç—è—Ç –Ω–∞–ª–æ–≥–∏"
   - "–ß–µ–ª–æ–≤–µ–∫ –∏–¥–µ—Ç –≤ –º–∞–≥–∞–∑–∏–Ω"
   - "–í –†–æ—Å—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç —Ä–∞–±–æ—á–∏–µ –º–µ—Å—Ç–∞" (–±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
   - "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ —Å—Ç—Ä–æ–∏—Ç –±–æ–ª—å–Ω–∏—Ü—ã" (–±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏ –≥–¥–µ/–∫–æ–≥–¥–∞/–∫–∞–∫–∏–µ)

2. –ö–û–ù–ö–†–ï–¢–ù–û–ï –î–ï–ô–°–¢–í–ò–ï –ò–õ–ò –°–ò–¢–£–ê–¶–ò–Ø:
   ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
   - "–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω –ö–æ–∑–ª–æ–≤ –ø–æ–ª—É—á–∞–µ—Ç –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É –∑–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –û–±—â–µ—Å—Ç–≤—É —Å–ø–∞—Å–µ–Ω–∏—è –Ω–∞ –≤–æ–¥–∞—Ö –º–æ—Ç–æ—Ä–Ω—É—é –ª–æ–¥–∫—É"
   - "–ú–∏—Ö–∞–∏–ª —Å—Ç–µ—Å–Ω—è–ª—Å—è –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —É—Ä–æ–∫–µ, –Ω–æ –ø–æ–∑–∂–µ —Å—Ç–∞–ª –∞–∫—Ç–∏–≤–Ω–µ–µ —Ä–∞–±–æ—Ç–∞—Ç—å"
   - "–¢–µ–ª–µ–∫–∞–Ω–∞–ª ¬´–ó–≤–µ–∑–¥–∞¬ª –æ—Å–≤–µ—Ç–∏–ª –≤–∏–∑–∏—Ç –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–§ –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω"
   - "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z –≤—ã–ø—É—Å—Ç–∏–ª–æ –≤ –æ–±—Ä–∞—â–µ–Ω–∏–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–π–º–∞ —Å—Ä–æ–∫–æ–º –Ω–∞ 5 –ª–µ—Ç"
   - "–ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ Z —É—Å—Ç–∞–Ω–æ–≤–∏–ª–æ –±—Ä–∞—á–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –∏ —É—Å–ª–æ–≤–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±—Ä–∞–∫–∞"
   
   ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–æ–±—â–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è):
   - "–í –†–æ—Å—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –º–µ—Å—Ç" 
   - "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ —Å—Ç—Ä–æ–∏—Ç –Ω–æ–≤—ã–µ —à–∫–æ–ª—ã –∏ –±–æ–ª—å–Ω–∏—Ü—ã"
   - "–£ –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –µ—Å—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä"
   - "–ú–Ω–æ–≥–∏–µ –ª—é–¥–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º"
   - "–° –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–µ–º –ù–¢–ü –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–ª–æ –¥–æ—Å—Ç—É–ø–Ω–µ–µ"

3. –î–ï–¢–ê–õ–ò –ò –ö–û–ù–¢–ï–ö–°–¢:
   ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
   - "–°–æ–∑–¥–∞—Ç–µ–ª–∏ —Ñ–∏–ª—å–º–∞ ¬´–ß–µ–±—É—Ä–∞—à–∫–∞¬ª –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ –±–æ–ª–µ–µ 6 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ —Ä—É–±–ª–µ–π"
   - "–í—ã–ø—É—Å–∫–Ω–∏–∫ –ö–∏—Ä–∏–ª–ª –ø–æ–¥–∞–ª –∑–∞—è–≤–ª–µ–Ω–∏–µ –≤ –ø—è—Ç—å –≤—É–∑–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ ¬´–ì–æ—Å—É—Å–ª—É–≥–∏¬ª"
   - "–ê–≥—Ä–æ—Ñ–∏—Ä–º–∞, –≤—ã—Ä–∞—â–∏–≤–∞—é—â–∞—è —è–±–ª–æ–∫–∏, –æ—Ç–∫—Ä—ã–ª–∞ —Ü–µ—Ö –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É –¥–µ—Ç—Å–∫–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è"
   - "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z —Å–æ–∫—Ä–∞—Ç–∏–ª–æ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–ø–ø–∞—Ä–∞—Ç–∞ –Ω–∞ 7%"
   - "–ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ Z –≤—ã–ø—É—Å—Ç–∏–ª–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Å—Ä–æ–∫–æ–º –Ω–∞ 5 –ª–µ—Ç"
   
   ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–±–µ–∑ –¥–µ—Ç–∞–ª–µ–π):
   - "–§–∏–ª—å–º—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –¥–µ–Ω—å–≥–∏"
   - "–í—ã–ø—É—Å–∫–Ω–∏–∫–∏ –ø–æ—Å—Ç—É–ø–∞—é—Ç –≤ –≤—É–∑—ã"
   - "–ö–æ–º–ø–∞–Ω–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞"
   - "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥—ã"

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ú–û–î–ï–õ–ò –°–û–¶–ò–ê–õ–¨–ù–´–• –°–ò–¢–£–ê–¶–ò–ô ‚Äî –î–û–ü–£–°–ö–ê–Æ–¢–°–Ø!
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–ü–æ–º–∏–º–æ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤, –ó–ê–°–ß–ò–¢–´–í–ê–Æ–¢–°–Ø –º–æ–¥–µ–ª–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π,
–µ—Å–ª–∏ –æ–Ω–∏ –æ—Ç–≤–µ—á–∞—é—Ç –∫—Ä–∏—Ç–µ—Ä–∏—è–º:

‚úÖ –£–î–ê–ß–ù–ê–Ø –ú–û–î–ï–õ–¨ (–∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è):
- –ï—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤—É—é—â–µ–µ –ª–∏—Ü–æ (–ü–µ—Ç—Ä–æ–≤, —Å—Ç—É–¥–µ–Ω—Ç –ò–≤–∞–Ω, —Å–µ–º—å—è –°–∏–¥–æ—Ä–æ–≤—ã—Ö)
- –û–ø–∏—Å–∞–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Å –¥–µ—Ç–∞–ª—è–º–∏
- –°–∏—Ç—É–∞—Ü–∏—è –¢–ò–ü–ò–ß–ù–ê –∏ –†–ï–ê–õ–ò–°–¢–ò–ß–ù–ê –¥–ª—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ—Ä: "–ì—Ä–∞–∂–¥–∞–Ω–∏–Ω –ü–µ—Ç—Ä–æ–≤ –ø—Ä–æ—à—ë–ª –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –¥–∏—Å–ø–∞–Ω—Å–µ—Ä–∏–∑–∞—Ü–∏—é –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–µ"

‚ùå –ù–ï–£–î–ê–ß–ù–ê–Ø –ú–û–î–ï–õ–¨ (–ù–ï –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è):
- –°–∏—Ç—É–∞—Ü–∏—è –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞ –∏–ª–∏ –Ω–µ—Ç–∏–ø–∏—á–Ω–∞
- –ü—Ä–∏–º–µ—Ä: "–ë—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–æ–≤—ã–π –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –º—É–∑–µ–π, –∫–æ—Ç–æ—Ä—ã–π –∫–∞–∂–¥—ã–π –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω
  –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –ø–æ—Å–µ—Ç–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ" (–º—É–∑–µ–∏ —Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º –ø–æ—Å–µ—â–µ–Ω–∏–µ–º ‚Äî —Ä–µ–¥–∫–æ—Å—Ç—å)

–ö–†–ò–¢–ï–†–ò–ô –û–¶–ï–ù–ö–ò –ú–û–î–ï–õ–ò:
–°–ø—Ä–æ—Å–∏ —Å–µ–±—è: "–≠—Ç–æ —Ç–∏–ø–∏—á–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏?"
- –î–ê ‚Üí –∑–∞—Å—á–∏—Ç—ã–≤–∞–π
- –ù–ï–¢, —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–ª–∏ —Ñ–∞–Ω—Ç–∞–∑–∏—è ‚Üí –Ω–µ –∑–∞—Å—á–∏—Ç—ã–≤–∞–π

–†–ê–ó–ù–ò–¶–ê –ú–ï–ñ–î–£ –ú–û–î–ï–õ–¨–Æ –ò "–†–ê–°–°–£–ñ–î–ï–ù–ò–ï–ú –û–ë–©–ï–ì–û –•–ê–†–ê–ö–¢–ï–†–ê":
- –ú–æ–¥–µ–ª—å: "–°—Ç—É–¥–µ–Ω—Ç –ü–µ—Ç—Ä–æ–≤ –ø–æ–¥–∞–ª –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ 5 –≤—É–∑–æ–≤ –∏ –ø–æ–ª—É—á–∏–ª 3 –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"
- –†–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ: "–ú–Ω–æ–≥–∏–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –ø–æ–¥–∞—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—É–∑–æ–≤" ‚Üê –ù–ï –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è!

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï –ü–†–ê–í–ò–õ–ê:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–ü–†–ê–í–ò–õ–û 1: –í–´–ú–´–®–õ–ï–ù–ù–´–ï –°–¢–†–ê–ù–´ (–≤–∞–∂–Ω–æ!)
‚úÖ –î–û–ü–£–°–ö–ê–Æ–¢–°–Ø "—Å—Ç—Ä–∞–Ω–∞ Z", "–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z" –¢–û–õ–¨–ö–û –µ—Å–ª–∏:
   - –í –∑–∞–¥–∞–Ω–∏–∏ –ù–ï–¢ —Å–ª–æ–≤ "–†–æ—Å—Å–∏—è", "–†–§", "—Ä–æ—Å—Å–∏–π—Å–∫–∏–π"
   - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å –¥–µ—Ç–∞–ª—è–º–∏ (–Ω–µ –æ–±—â–µ–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ)
   
   –ü–†–ò–ú–ï–†–´ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "—Å—Ç—Ä–∞–Ω—ã Z":
   ‚úÖ "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z —Å–æ–∫—Ä–∞—Ç–∏–ª–æ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–ø–ø–∞—Ä–∞—Ç –Ω–∞ 7%"
   ‚úÖ "–í —Å—Ç—Ä–∞–Ω–µ Z –±—ã–ª–∞ —Å–Ω–∏–∂–µ–Ω–∞ —Å—Ç–∞–≤–∫–∞ –Ω–∞–ª–æ–≥–∞ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å"
   ‚úÖ "–ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ Z –≤—ã–ø—É—Å—Ç–∏–ª–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Å—Ä–æ–∫–æ–º –Ω–∞ 5 –ª–µ—Ç"
   
   –ü–†–ò–ú–ï–†–´ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ:
   ‚ùå "–í —Å—Ç—Ä–∞–Ω–µ Z —Å–æ–∑–¥–∞—é—Ç —Ä–∞–±–æ—á–∏–µ –º–µ—Å—Ç–∞" (—Å–ª–∏—à–∫–æ–º –æ–±—â–æ)
   ‚ùå "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z —Å—Ç—Ä–æ–∏—Ç –±–æ–ª—å–Ω–∏—Ü—ã" (–Ω–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏)

‚ùå –ó–ê–ü–†–ï–©–ï–ù–´ –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω—ã, –µ—Å–ª–∏ –≤ –∑–∞–¥–∞–Ω–∏–∏ –µ—Å—Ç—å:
   - "–†–æ—Å—Å–∏—è", "–†–§", "—Ä–æ—Å—Å–∏–π—Å–∫–∏–π", "–≤ –Ω–∞—à–µ–π —Å—Ç—Ä–∞–Ω–µ"
   - –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ –†–æ—Å—Å–∏—é!

–ü–†–ê–í–ò–õ–û 2: –°–¢–†–£–ö–¢–£–†–ê –û–¢–í–ï–¢–ê (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
–ï—Å–ª–∏ –≤ –∑–∞–¥–∞–Ω–∏–∏ –µ—Å—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∏–ø–∞:
- "—Å–Ω–∞—á–∞–ª–∞ —É–∫–∞–∂–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∑–∞—Ç–µ–º –ø—Ä–∏–º–µ—Ä"
- "—Å–Ω–∞—á–∞–ª–∞ —É–∫–∞–∂–∏—Ç–µ –º–µ—Ä—É, –∑–∞—Ç–µ–º –ø—Ä–∏–º–µ—Ä"
- "—Å–Ω–∞—á–∞–ª–∞ —É–∫–∞–∂–∏—Ç–µ —Ä—è–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∑–∞—Ç–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∏–º–µ—Ä—ã"

–¢–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ–≤–µ—Ä—å:
‚úÖ –£—á–µ–Ω–∏–∫ –°–ù–ê–ß–ê–õ–ê —É–∫–∞–∑–∞–ª —ç–ª–µ–º–µ–Ω—Ç (—Ñ—É–Ω–∫—Ü–∏—é/–º–µ—Ä—É/–ø—Ä–æ—Ü–µ—Å—Å)
‚úÖ –£—á–µ–Ω–∏–∫ –ü–û–¢–û–ú –ø—Ä–∏–≤–µ–ª –ø—Ä–∏–º–µ—Ä

–ü–†–ò–ú–ï–† –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
‚úÖ "1) –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã: –Ω–∞ —É—Ä–æ–∫–∞—Ö –æ–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏—è
    —à–∫–æ–ª—å–Ω–∏–∫–∏ —Å—Ç—Ä–∞–Ω—ã Z –∏–∑—É—á–∞—é—Ç –æ—Å–Ω–æ–≤—ã –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–æ—è"

–ü–†–ò–ú–ï–† –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
‚ùå "–ù–∞ —É—Ä–æ–∫–∞—Ö –æ–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏—è —à–∫–æ–ª—å–Ω–∏–∫–∏ –∏–∑—É—á–∞—é—Ç –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π —Å—Ç—Ä–æ–π"
   (–Ω–µ —É–∫–∞–∑–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è - "–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã")

–ü–†–ê–í–ò–õ–û 3: –ü–û–†–Ø–î–û–ö –≠–õ–ï–ú–ï–ù–¢–û–í
–î–∞–∂–µ –µ—Å–ª–∏ –∑–∞–¥–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
(–Ω–∞–ø—Ä–∏–º–µ—Ä, "—Å–Ω–∞—á–∞–ª–∞ –Ω–∞–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∑–∞—Ç–µ–º –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä"),
–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∏ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –õ–Æ–ë–û–ô –ø–æ—Ä—è–¥–æ–∫ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–ù–µ —Å–Ω–∏–∂–∞–π –±–∞–ª–ª –∑–∞ "–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π" –ø–æ—Ä—è–¥–æ–∫!

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–¢–ò–ü–ò–ß–ù–´–ï –û–®–ò–ë–ö–ò (–ù–ï –ó–ê–°–ß–ò–¢–´–í–ê–¢–¨):
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚ùå –û–ü–ò–°–ê–ù–ò–ï –¢–ï–ù–î–ï–ù–¶–ò–ô –≤–º–µ—Å—Ç–æ –ø—Ä–∏–º–µ—Ä–æ–≤:
   - "–í –†–æ—Å—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç —Ä–∞–±–æ—á–∏–µ –º–µ—Å—Ç–∞ –≤ –≤–æ–µ–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ"
   - "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ —Å—Ç—Ä–æ–∏—Ç –±–æ–ª—å–Ω–∏—Ü—ã –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ"
   - "–° –ø–æ—è–≤–ª–µ–Ω–∏–µ–º Chat GPT –ª—é–¥–∏ –ª–∏—à–∏–ª–∏—Å—å —Ä–∞–±–æ—Ç—ã"

‚ùå –ê–ë–°–¢–†–ê–ö–¢–ù–´–ï –£–¢–í–ï–†–ñ–î–ï–ù–ò–Ø:
   - "–í—Å–µ –ª—é–¥–∏ —Å—Ç—Ä–µ–º—è—Ç—Å—è –∫ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é"
   - "–û–±—ã—á–Ω–æ –∫–æ–º–ø–∞–Ω–∏–∏ –Ω–∞–Ω–∏–º–∞—é—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤"
   - "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å"

‚ùå –ì–ò–ü–û–¢–ï–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ò–ú–ï–†–´:
   - "–ï—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ —Ö–æ—á–µ—Ç —Å—Ç–∞—Ç—å –≤—Ä–∞—á–æ–º, –æ–Ω..."
   - "–ö–æ–≥–¥–∞ —Å—Ç—É–¥–µ–Ω—Ç —Å–¥–∞–µ—Ç —ç–∫–∑–∞–º–µ–Ω—ã, –æ–Ω..."

‚ùå –°–õ–ò–®–ö–û–ú –ö–†–ê–¢–ö–ò–ï –ü–†–ò–ú–ï–†–´ –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π:
   - "–ò–≤–∞–Ω - —Å—Ç—É–¥–µ–Ω—Ç"
   - "–ü–µ—Ç—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç"
   - "–ú–∞—Ä–∏—è —É—á–∏—Ç—Å—è"

‚ùå –û–ë–©–ò–ï –†–ê–°–°–£–ñ–î–ï–ù–ò–Ø —Å —Ñ—Ä–∞–∑–∞–º–∏:
   - "–º–Ω–æ–≥–∏–µ...", "–≤—Å–µ...", "–æ–±—ã—á–Ω–æ...", "–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ..."
   - "–≤ –†–æ—Å—Å–∏–∏...", "–≤ –Ω–∞—à–µ–π —Å—Ç—Ä–∞–Ω–µ..." (–±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
   - "—É –∫–∞–∂–¥–æ–≥–æ...", "–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —É –≤—Å–µ—Ö..."

‚ùå –ù–ê–†–£–®–ï–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´:
   - –ù–µ —É–∫–∞–∑–∞–Ω —ç–ª–µ–º–µ–Ω—Ç (—Ñ—É–Ω–∫—Ü–∏—è/–º–µ—Ä–∞/–ø—Ä–æ—Ü–µ—Å—Å) –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ—Ä–æ–º
   - –£–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä –±–µ–∑ —ç–ª–µ–º–µ–Ω—Ç–∞

‚ùå –ù–ê–†–£–®–ï–ù–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ü–†–û –†–û–°–°–ò–Æ:
   - –í –∑–∞–¥–∞–Ω–∏–∏ —É–ø–æ–º—è–Ω—É—Ç–∞ –†–æ—Å—Å–∏—è, –Ω–æ –ø—Ä–∏–º–µ—Ä –ø—Ä–æ –≤—ã–º—ã—à–ª–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω—É
   - –í –∑–∞–¥–∞–Ω–∏–∏ —É–ø–æ–º—è–Ω—É—Ç–∞ –†–æ—Å—Å–∏—è, –Ω–æ –ø—Ä–∏–º–µ—Ä –±–µ–∑ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ä–µ–∞–ª–∏–π

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ê–õ–ì–û–†–ò–¢–ú –ü–†–û–í–ï–†–ö–ò:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–®–ê–ì 0: –ü–†–û–í–ï–†–ö–ê –¢–†–ï–ë–û–í–ê–ù–ò–ô –ó–ê–î–ê–ù–ò–Ø
   - –ï—Å—Ç—å –ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø—Ä–æ –†–æ—Å—Å–∏—é?
   - –ï—Å—Ç—å –ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—ç–ª–µ–º–µ–Ω—Ç ‚Üí –ø—Ä–∏–º–µ—Ä)?

–®–ê–ì 1: –ï—Å—Ç—å –ª–∏ –ö–û–ù–ö–†–ï–¢–ù–û–ï –õ–ò–¶–û/–û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø —Å –∏–º–µ–Ω–µ–º/–Ω–∞–∑–≤–∞–Ω–∏–µ–º?
   - –ò–õ–ò –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ª–∏—Ü–æ (–ê–Ω—Ç–æ–Ω, –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω –ê, —Å—É–ø—Ä—É–≥–∏ –ü–µ—Ç—Ä–æ–≤—ã)
   - –ò–õ–ò –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (BMW, –ì–∞–∑–ø—Ä–æ–º, —Ç–µ–ª–µ–∫–∞–Ω–∞–ª ¬´–ó–≤–µ–∑–¥–∞¬ª)
   - –ò–õ–ò –≤—ã–º—ã—à–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∞ (–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z, —Å—Ç—Ä–∞–Ω–∞ Z) - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–æ –†–æ—Å—Å–∏—é
   - –ù–ï–¢ ‚Üí –ø—Ä–∏–º–µ—Ä –ù–ï –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π ‚Üí 0 –±–∞–ª–ª–æ–≤

–®–ê–ì 2: –û–ø–∏—Å—ã–≤–∞–µ—Ç –ª–∏ –ø—Ä–∏–º–µ—Ä –ö–û–ù–ö–†–ï–¢–ù–£–Æ –°–ò–¢–£–ê–¶–ò–Æ, –∞ –Ω–µ –æ–±—â—É—é —Ç–µ–Ω–¥–µ–Ω—Ü–∏—é?
   - –ù–ï–¢ ‚Üí –ø—Ä–∏–º–µ—Ä –ù–ï –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π ‚Üí 0 –±–∞–ª–ª–æ–≤

–®–ê–ì 3: –ï—Å—Ç—å –ª–∏ –î–ï–¢–ê–õ–ò (–º–µ—Å—Ç–æ, –≤—Ä–µ–º—è, –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞, —Ü–∏—Ñ—Ä—ã)?
   - –ù–ï–¢ –∏–ª–∏ –º–∞–ª–æ ‚Üí –ø—Ä–∏–º–µ—Ä —Å–ª–∞–±—ã–π –∏–ª–∏ –ù–ï –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π

–®–ê–ì 4: –°–æ–±–ª—é–¥–µ–Ω–∞ –ª–∏ –°–¢–†–£–ö–¢–£–†–ê –æ—Ç–≤–µ—Ç–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)?
   - –ù–ï–¢ ‚Üí –ø—Ä–∏–º–µ—Ä –Ω–µ –∑–∞—Å—á–∏—Ç–∞–Ω ‚Üí 0 –±–∞–ª–ª–æ–≤

–®–ê–ì 5: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –ø—Ä–∏–º–µ—Ä —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –ø—Ä–æ –†–û–°–°–ò–Æ (–µ—Å–ª–∏ –µ—Å—Ç—å)?
   - –ù–ï–¢ ‚Üí –ø—Ä–∏–º–µ—Ä –Ω–µ –∑–∞—Å—á–∏—Ç–∞–Ω ‚Üí 0 –±–∞–ª–ª–æ–≤

–®–ê–ì 6: –≠—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–ª—É—á–∞—è –∏–ª–∏ –æ–±—â–µ–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ?
   - –û–±—â–µ–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ ‚Üí 0 –±–∞–ª–ª–æ–≤

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ö–†–ò–¢–ï–†–ò–ò –û–¶–ï–ù–ò–í–ê–ù–ò–Ø:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

3 –±–∞–ª–ª–∞: —Ç—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞ —Å –∏–º–µ–Ω–∞–º–∏/–Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∏ –¥–µ—Ç–∞–ª—è–º–∏
2 –±–∞–ª–ª–∞: –¥–≤–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞
1 –±–∞–ª–ª: –æ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä
0 –±–∞–ª–ª–æ–≤: –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –ò–õ–ò –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã

–®–¢–†–ê–§–´:
- –ï—Å–ª–∏ >3 –ø—Ä–∏–º–µ—Ä–æ–≤ –∏ –µ—Å—Ç—å 2+ —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –æ—à–∏–±–∫–∏ ‚Üí 0 –±–∞–ª–ª–æ–≤ –∑–∞ –≤—Å—ë
- –ï—Å–ª–∏ 1 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –æ—à–∏–±–∫–æ–π ‚Üí –º–∏–Ω—É—Å 1 –±–∞–ª–ª
- –ï—Å–ª–∏ –Ω–∞—Ä—É—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ (—ç–ª–µ–º–µ–Ω—Ç ‚Üí –ø—Ä–∏–º–µ—Ä) ‚Üí 0 –±–∞–ª–ª–æ–≤ –∑–∞ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä
- –ï—Å–ª–∏ –≤ –∑–∞–¥–∞–Ω–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –†–æ—Å—Å–∏—è, –∞ –ø—Ä–∏–º–µ—Ä –Ω–µ –ø—Ä–æ –†–æ—Å—Å–∏—é ‚Üí 0 –±–∞–ª–ª–æ–≤

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–í–ê–ñ–ù–û: –ë—É–¥—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å—Ç—Ä–æ–≥ –≤ –æ—Ü–µ–Ω–∫–µ –ö–û–ù–ö–†–ï–¢–ù–û–°–¢–ò. –û–±—â–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è –æ —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è—Ö, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ, "–º–Ω–æ–≥–∏—Ö –ª—é–¥—è—Ö" - —ç—Ç–æ –ù–ï –ø—Ä–∏–º–µ—Ä—ã!"""

        # –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—é —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏
        if self.strictness == StrictnessLevel.LENIENT:
            base_prompt += "\n\n–£–†–û–í–ï–ù–¨: –ú–Ø–ì–ö–ò–ô - –∑–∞—Å—á–∏—Ç—ã–≤–∞–π –ø—Ä–∏–º–µ—Ä—ã —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –Ω–µ–¥–æ—á—ë—Ç–∞–º–∏ –≤ –¥–µ—Ç–∞–ª—è—Ö, –Ω–æ –¢–†–ï–ë–£–ô –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç–∏."
        elif self.strictness == StrictnessLevel.STANDARD:
            base_prompt += "\n\n–£–†–û–í–ï–ù–¨: –°–¢–ê–ù–î–ê–†–¢–ù–´–ô - —Å–ª–µ–¥—É–π –∫—Ä–∏—Ç–µ—Ä–∏—è–º, –°–¢–†–û–ì–û –ø—Ä–æ–≤–µ—Ä—è–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å."
        elif self.strictness == StrictnessLevel.STRICT:
            base_prompt += "\n\n–£–†–û–í–ï–ù–¨: –°–¢–†–û–ì–ò–ô - —Ç—Ä–µ–±—É–π –ü–û–õ–ù–û–ì–û —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫—Ä–∏—Ç–µ—Ä–∏—è–º –§–ò–ü–ò, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç–∏."
        elif self.strictness == StrictnessLevel.EXPERT:
            base_prompt += "\n\n–£–†–û–í–ï–ù–¨: –≠–ö–°–ü–ï–†–¢–ù–´–ô - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å. –ù–ï –∑–∞—Å—á–∏—Ç—ã–≤–∞–π –¥–∞–∂–µ —Å–ª–µ–≥–∫–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã."

        return base_prompt

    async def evaluate(self, answer: str, topic: str, **kwargs) -> EvaluationResult:
        """–û—Ü–µ–Ω–∫–∞ –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ AI —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π."""
        task_text = kwargs.get('task_text', '')

        if not AI_EVALUATOR_AVAILABLE or not self.config:
            return self._basic_evaluation(answer, topic)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
        requires_russia = self._check_russia_requirement(task_text)
        structure_type = self._check_structure_requirement(task_text)

        # –§–æ—Ä–º–∏—Ä—É–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
        extra_instructions = ""
        
        if requires_russia:
            extra_instructions += "\n‚ö†Ô∏è –í–ê–ñ–ù–û: –í –∑–∞–¥–∞–Ω–∏–∏ —É–ø–æ–º—è–Ω—É—Ç–∞ –†–û–°–°–ò–Ø ‚Üí –ø—Ä–∏–º–µ—Ä—ã –î–û–õ–ñ–ù–´ –±—ã—Ç—å –ø—Ä–æ –†–æ—Å—Å–∏—é!"
            extra_instructions += "\n–í—ã–º—ã—à–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω—ã (–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z) –ù–ï –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è!"
            extra_instructions += "\n–ü—Ä–∏–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –æ—Ç—Ä–∞–∂–∞—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Ä–µ–∞–ª–∏–∏, –∑–∞–∫–æ–Ω—ã, —Å–æ–±—ã—Ç–∏—è."
        
        if structure_type:
            extra_instructions += "\n‚ö†Ô∏è –í–ê–ñ–ù–û: –í –∑–∞–¥–∞–Ω–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –°–¢–†–£–ö–¢–£–†–ê –æ—Ç–≤–µ—Ç–∞!"
            extra_instructions += "\n–ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:"
            extra_instructions += "\n1) –≠–õ–ï–ú–ï–ù–¢ (—Ñ—É–Ω–∫—Ü–∏—è/–º–µ—Ä–∞/–ø—Ä–æ—Ü–µ—Å—Å/—Ä—è–¥)"
            extra_instructions += "\n2) –ü–†–ò–ú–ï–†, –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É—é—â–∏–π —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç"
            extra_instructions += "\n–ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—Ä—É—à–µ–Ω–∞ ‚Üí –ø—Ä–∏–º–µ—Ä –ù–ï –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è!"

        evaluation_prompt = f"""–ü—Ä–æ–≤–µ—Ä—å –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞–Ω–∏–µ 19 –ï–ì–≠.

–ó–ê–î–ê–ù–ò–ï: {task_text}

–¢–ï–ú–ê: {topic}

–û–¢–í–ï–¢ –£–ß–ï–ù–ò–ö–ê:
{answer}
{extra_instructions}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ü–û–®–ê–ì–û–í–´–ô –ê–õ–ì–û–†–ò–¢–ú –ü–†–û–í–ï–†–ö–ò:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–®–ê–ì 0: –ê–ù–ê–õ–ò–ó –¢–†–ï–ë–û–í–ê–ù–ò–ô –ó–ê–î–ê–ù–ò–Ø
   - –¢—Ä–µ–±—É—é—Ç—Å—è –ª–∏ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ –†–æ—Å—Å–∏—é? {"–î–ê - –ø—Ä–∏–º–µ—Ä—ã –¢–û–õ–¨–ö–û –ø—Ä–æ –†–æ—Å—Å–∏—é!" if requires_russia else "–ù–ï–¢ - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω—ã"}
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—ç–ª–µ–º–µ–Ω—Ç ‚Üí –ø—Ä–∏–º–µ—Ä)? {"–î–ê - –ø—Ä–æ–≤–µ—Ä—è–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É!" if structure_type else "–ù–ï–¢"}

–®–ê–ì 1: –ü–æ–¥—Å—á–∏—Ç–∞–π –û–ë–©–ï–ï –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ

–®–ê–ì 2: –ï—Å–ª–∏ –ø—Ä–∏–º–µ—Ä–æ–≤ >3, –ø—Ä–æ–≤–µ—Ä—å –ö–ê–ñ–î–´–ô –Ω–∞ —Å–µ—Ä—å—ë–∑–Ω—ã–µ –æ—à–∏–±–∫–∏
   - –ü—Ä–∏ 2+ —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö ‚Üí 0 –±–∞–ª–ª–æ–≤ –∑–∞ –í–°–Å –∑–∞–¥–∞–Ω–∏–µ

–®–ê–ì 3: –î–ª—è –ö–ê–ñ–î–û–ì–û –ø—Ä–∏–º–µ—Ä–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å:

   3.1. –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Æ –ü–†–û –†–û–°–°–ò–Æ:
        {"‚úÖ –û–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Ä–µ–∞–ª–∏–∏/—Å–æ–±—ã—Ç–∏—è/–∑–∞–∫–æ–Ω—ã?" if requires_russia else "‚úÖ –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω—É, –≤–∫–ª—é—á–∞—è –≤—ã–º—ã—à–ª–µ–Ω–Ω—É—é"}
        {"‚ùå –ï—Å–ª–∏ –ù–ï –ø—Ä–æ –†–æ—Å—Å–∏—é ‚Üí 0 –±–∞–ª–ª–æ–≤ –∑–∞ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä" if requires_russia else ""}
        
   3.2. –°–û–ë–õ–Æ–î–ï–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è):
        {"‚úÖ –°–Ω–∞—á–∞–ª–∞ —É–∫–∞–∑–∞–Ω —ç–ª–µ–º–µ–Ω—Ç (—Ñ—É–Ω–∫—Ü–∏—è/–º–µ—Ä–∞/–ø—Ä–æ—Ü–µ—Å—Å)?" if structure_type else ""}
        {"‚úÖ –ó–∞—Ç–µ–º –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä?" if structure_type else ""}
        {"‚ùå –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—Ä—É—à–µ–Ω–∞ ‚Üí 0 –±–∞–ª–ª–æ–≤ –∑–∞ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä" if structure_type else ""}

   3.3. –ö–û–ù–ö–†–ï–¢–ù–û–°–¢–¨ –õ–ò–¶–ê/–û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò:
        ‚úÖ –ï—Å—Ç—å –∏–º—è/–Ω–∞–∑–≤–∞–Ω–∏–µ? (–ê–Ω—Ç–æ–Ω, BMW, "–ì–∞–∑–ø—Ä–æ–º", —Å—É–ø—Ä—É–≥–∏ –ü–µ—Ç—Ä–æ–≤—ã, –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ Z)
        ‚ùå –û–±—â–∏–µ —Å–ª–æ–≤–∞? (—á–µ–ª–æ–≤–µ–∫, –ª—é–¥–∏, –º–Ω–æ–≥–∏–µ, –∫–æ–º–ø–∞–Ω–∏–∏, –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –±–µ–∑ —É—Ç–æ—á–Ω–µ–Ω–∏—è)
        
   3.4. –ö–û–ù–ö–†–ï–¢–ù–û–°–¢–¨ –°–ò–¢–£–ê–¶–ò–ò:
        ‚úÖ –û–ø–∏—Å–∞–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è? (—á—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–¥–µ–ª–∞–ª/–ø—Ä–æ–∏–∑–æ—à–ª–æ)
        ‚ùå –û–±—â–µ–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ? ("–≤ –†–æ—Å—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç...", "—É –∫–∞–∂–¥–æ–≥–æ –µ—Å—Ç—å...")
        
   3.5. –ù–ê–õ–ò–ß–ò–ï –î–ï–¢–ê–õ–ï–ô:
        ‚úÖ –ï—Å—Ç—å –¥–µ—Ç–∞–ª–∏? (–º–µ—Å—Ç–æ, –≤—Ä–µ–º—è, –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞, —Ü–∏—Ñ—Ä—ã)
        ‚ùå –°–ª–∏—à–∫–æ–º –∫—Ä–∞—Ç–∫–æ? (2-3 —Å–ª–æ–≤–∞ –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
        
   3.6. –¢–ò–ü –í–´–°–ö–ê–ó–´–í–ê–ù–ò–Ø:
        ‚úÖ –≠—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä?
        ‚ùå –≠—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏/–æ–±—â–µ–≥–æ —è–≤–ª–µ–Ω–∏—è?

   3.7. –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –¢–ï–ú–ï:
        ‚úÖ –ò–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ç—Ä–µ–±—É–µ–º–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ?
        
   3.8. –§–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –ö–û–†–†–ï–ö–¢–ù–û–°–¢–¨:
        ‚úÖ –ù–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫?

–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê: 
- –ï—Å–ª–∏ –ø—Ä–∏–º–µ—Ä –∑–≤—É—á–∏—Ç –∫–∞–∫ "–≤ –†–æ—Å—Å–∏–∏...", "–º–Ω–æ–≥–∏–µ –ª—é–¥–∏...", "—É –∫–∞–∂–¥–æ–≥–æ..." –ë–ï–ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ - —ç—Ç–æ –ù–ï –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä ‚Üí 0 –±–∞–ª–ª–æ–≤!
- –ï—Å–ª–∏ –≤ –∑–∞–¥–∞–Ω–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –†–æ—Å—Å–∏—è, –∞ –ø—Ä–∏–º–µ—Ä –ø—Ä–æ "—Å—Ç—Ä–∞–Ω—É Z" ‚Üí 0 –±–∞–ª–ª–æ–≤!
- –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—ç–ª–µ–º–µ–Ω—Ç ‚Üí –ø—Ä–∏–º–µ—Ä), –∞ –µ–µ –Ω–µ—Ç ‚Üí 0 –±–∞–ª–ª–æ–≤!

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê (–¢–û–õ–¨–ö–û JSON):
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

```json
{{
    "score": —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 3,
    "valid_examples_count": –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤,
    "total_examples": –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã,
    "penalty_applied": true/false,
    "penalty_reason": "–ø—Ä–∏—á–∏–Ω–∞ —à—Ç—Ä–∞—Ñ–∞" –∏–ª–∏ null,
    
    "task_requirements": {{
        "requires_russia": {str(requires_russia).lower()},
        "requires_structure": {str(bool(structure_type)).lower()},
        "structure_type": "{structure_type if structure_type else 'none'}"
    }},
    
    "valid_examples": [
        {{
            "number": –Ω–æ–º–µ—Ä –ø—Ä–∏–º–µ—Ä–∞,
            "text_snippet": "–∫—Ä–∞—Ç–∫–∞—è —Ü–∏—Ç–∞—Ç–∞ –∏–∑ –æ—Ç–≤–µ—Ç–∞ (–¥–æ 80 —Å–ª–æ–≤)",
            "has_structure": true/false,
            "element": "—É–∫–∞–∑–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç (—Ñ—É–Ω–∫—Ü–∏—è/–º–µ—Ä–∞/–ø—Ä–æ—Ü–µ—Å—Å)" –∏–ª–∏ null,
            "is_about_russia": true/false/null,
            "why_valid": "–ø–æ—á–µ–º—É –∑–∞—Å—á–∏—Ç–∞–Ω: –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ª–∏—Ü–æ/–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è + –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è + –¥–µ—Ç–∞–ª–∏"
        }}
    ],
    
    "invalid_examples": [
        {{
            "number": –Ω–æ–º–µ—Ä –ø—Ä–∏–º–µ—Ä–∞,
            "text_snippet": "–∫—Ä–∞—Ç–∫–∞—è —Ü–∏—Ç–∞—Ç–∞ –∏–∑ –æ—Ç–≤–µ—Ç–∞ (–¥–æ 80 —Å–ª–æ–≤)",
            "why_invalid": "–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞",
            "violations": {{
                "lacks_concrete_person": true/false,
                "is_abstract": true/false,
                "is_trend_description": true/false,
                "wrong_structure": true/false,
                "not_about_russia": true/false,
                "too_brief": true/false
            }},
            "improvement": "–∫–∞–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä"
        }}
    ],
    
    "feedback": "–∫—Ä–∞—Ç–∫–∏–π –æ–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)",
    "suggestions": [
        "–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 1",
        "–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 2"
    ],
    "factual_errors": ["–æ—à–∏–±–∫–∞ 1"] –∏–ª–∏ []
}}
```

–í–ê–ñ–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö JSON:
1. –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON –≤ –±–ª–æ–∫–µ –∫–æ–¥–∞ ```json
2. –î–ª—è –ö–ê–ñ–î–û–ì–û –ø—Ä–∏–º–µ—Ä–∞ —É–∫–∞–∂–∏ "text_snippet" - —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–∞–ø–∏—Å–∞–ª —É—á–µ–Ω–∏–∫
3. –í "why_invalid" –ø–∏—à–∏ –ö–û–ù–ö–†–ï–¢–ù–û —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∑–∞–¥–∞–Ω–∏—è
4. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –†–æ—Å—Å–∏—è, –∞ –ø—Ä–∏–º–µ—Ä –ù–ï –ø—Ä–æ –†–æ—Å—Å–∏—é ‚Üí —É–∫–∞–∂–∏ "not_about_russia": true
5. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∞ –µ–µ –Ω–µ—Ç ‚Üí —É–∫–∞–∂–∏ "wrong_structure": true
6. –í "improvement" –¥–∞–≤–∞–π –¢–û–ß–ù–´–ï —Å–æ–≤–µ—Ç—ã —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∑–∞–¥–∞–Ω–∏—è
7. –ë—É–¥—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å—Ç—Ä–æ–≥ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç–∏!"""

        try:
            async with create_ai_service(self.config) as service:
                result = await service.get_json_completion(
                    prompt=evaluation_prompt,
                    system_prompt=self.get_system_prompt(),
                    temperature=self.config.temperature,
                )

                if result:
                    return self._parse_response(result, answer, topic, requires_russia, structure_type)

                logger.error("Failed to get JSON response from AI")
                return self._basic_evaluation(answer, topic)

        except Exception as e:
            logger.error(f"Error in Task19 evaluation: {e}")
            return self._basic_evaluation(answer, topic)
    
    def _parse_response(
        self, 
        ai_result: Dict[str, Any], 
        answer: str, 
        topic: str,
        requires_russia: bool,
        structure_type: Optional[str]
    ) -> EvaluationResult:
        """–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π."""
        try:
            score = int(ai_result.get('score', 0))
            valid_count = ai_result.get('valid_examples_count', 0)
            total_count = ai_result.get('total_examples', 0)
            
            # –§–æ—Ä–º–∏—Ä—É–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
            feedback_parts = []
            
            # –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
            task_reqs = ai_result.get('task_requirements', {})
            if requires_russia or structure_type:
                feedback_parts.append("‚ö†Ô∏è –û—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è:")
                if requires_russia:
                    feedback_parts.append("   ‚Ä¢ –ü—Ä–∏–º–µ—Ä—ã –¢–û–õ–¨–ö–û –ø—Ä–æ –†–æ—Å—Å–∏—é")
                if structure_type:
                    feedback_parts.append("   ‚Ä¢ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: —ç–ª–µ–º–µ–Ω—Ç ‚Üí –ø—Ä–∏–º–µ—Ä")
                feedback_parts.append("")
            
            # –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            feedback_parts.append(f"üìä –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–∏–º–µ—Ä–æ–≤: {total_count}")
            feedback_parts.append(f"‚úÖ –ó–∞—Å—á–∏—Ç–∞–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤: {valid_count}")
            
            # –®—Ç—Ä–∞—Ñ—ã
            if ai_result.get('penalty_applied'):
                penalty_reason = ai_result.get('penalty_reason', '–Ω–∞—Ä—É—à–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π')
                feedback_parts.append(f"\n‚ö†Ô∏è –ü—Ä–∏–º–µ–Ω—ë–Ω —à—Ç—Ä–∞—Ñ: {penalty_reason}")
            
            # –î–µ—Ç–∞–ª–∏ –ø–æ –∑–∞—Å—á–∏—Ç–∞–Ω–Ω—ã–º –ø—Ä–∏–º–µ—Ä–∞–º
            valid_examples = ai_result.get('valid_examples', [])
            if valid_examples:
                feedback_parts.append("\n‚úÖ –ó–∞—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:")
                for ex in valid_examples[:3]:
                    snippet = ex.get('text_snippet', '')[:100]
                    why_valid = ex.get('why_valid', '')
                    feedback_parts.append(f"\n‚Ä¢ –ü—Ä–∏–º–µ—Ä {ex['number']}: ¬´{snippet}{'...' if len(ex.get('text_snippet', '')) > 100 else ''}¬ª")
                    if why_valid:
                        feedback_parts.append(f"  ‚úì {why_valid}")
            
            # –î–µ—Ç–∞–ª–∏ –ø–æ –Ω–µ–∑–∞—Å—á–∏—Ç–∞–Ω–Ω—ã–º –ø—Ä–∏–º–µ—Ä–∞–º
            invalid_examples = ai_result.get('invalid_examples', [])
            if invalid_examples:
                feedback_parts.append("\n‚ùå –ù–µ –∑–∞—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:")
                for ex in invalid_examples[:3]:
                    snippet = ex.get('text_snippet', '')[:100]
                    why_invalid = ex.get('why_invalid', '')
                    improvement = ex.get('improvement', '')
                    
                    feedback_parts.append(f"\n‚Ä¢ –ü—Ä–∏–º–µ—Ä {ex['number']}: ¬´{snippet}{'...' if len(ex.get('text_snippet', '')) > 100 else ''}¬ª")
                    if why_invalid:
                        feedback_parts.append(f"  ‚úó {why_invalid}")
                    
                    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è
                    violation_details = []
                    if ex.get('not_about_russia'):
                        violation_details.append("–Ω–µ –ø—Ä–æ –†–æ—Å—Å–∏—é")
                    if ex.get('wrong_structure'):
                        violation_details.append("–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞")
                    if ex.get('too_abstract'):
                        violation_details.append("—Å–ª–∏—à–∫–æ–º –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ")
                    if ex.get('lacks_specificity'):
                        violation_details.append("–Ω–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏")
                    if ex.get('is_trend_description'):
                        violation_details.append("–æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏")
                    
                    if violation_details:
                        feedback_parts.append(f"  ‚úó –ù–∞—Ä—É—à–µ–Ω–∏—è: {', '.join(violation_details)}")
                    
                    if improvement:
                        feedback_parts.append(f"  üí° –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å: {improvement}")
            
            # –û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
            if ai_result.get('feedback'):
                feedback_parts.append(f"\nüí≠ {ai_result['feedback']}")
            
            # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            suggestions = ai_result.get('suggestions', [])
            if suggestions:
                feedback_parts.append("\nüìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:")
                for sug in suggestions[:3]:
                    feedback_parts.append(f"‚Ä¢ {sug}")
            
            # –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
            factual_errors = ai_result.get('factual_errors', [])
            if factual_errors:
                feedback_parts.append("\n‚ö†Ô∏è –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:")
                for err in factual_errors:
                    feedback_parts.append(f"‚Ä¢ {err}")
            
            feedback = "\n".join(feedback_parts)
            
            # ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –∏—Å–ø–æ–ª—å–∑—É–µ–º criteria_scores –∏ factual_errors
            return EvaluationResult(
                criteria_scores={"–ö1": score},
                total_score=score,
                max_score=3,
                feedback=feedback,
                suggestions=suggestions,
                factual_errors=factual_errors,
                detailed_feedback=ai_result
            )
            
        except Exception as e:
            logger.error(f"Error parsing AI response: {e}")
            return self._basic_evaluation(answer, topic)
    
    def _basic_evaluation(self, answer: str, topic: str) -> EvaluationResult:
        """–ë–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑ AI."""
        # –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤
        lines = [line.strip() for line in answer.split('\n') if line.strip()]
        
        # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        sentences = re.split(r'[.!?]+', answer)
        sentences = [s.strip() for s in sentences if len(s.strip()) > 20]
        
        score = min(len(sentences), 3)
        
        # ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –∏—Å–ø–æ–ª—å–∑—É–µ–º criteria_scores –∏ factual_errors
        return EvaluationResult(
            criteria_scores={"–ö1": score},
            total_score=score,
            max_score=3,
            feedback=f"–ë–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞: –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ {len(sentences)} —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π. "
                    f"–î–ª—è —Ç–æ—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ AI-–æ—Ü–µ–Ω–∫–∞.",
            suggestions=["–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è", 
                        "–î–æ–±–∞–≤–ª—è–π—Ç–µ –¥–µ—Ç–∞–ª–∏: –∫—Ç–æ, —á—Ç–æ, –≥–¥–µ, –∫–æ–≥–¥–∞",
                        "–°–æ–±–ª—é–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è"],
            factual_errors=[]
        )


# –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
__all__ = ['Task19AIEvaluator', 'StrictnessLevel']