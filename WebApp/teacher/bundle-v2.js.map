{"version":3,"file":"bundle-v2.js","sources":["js/auth.js","js/api.js","js/utils/storage.js","js/utils/validation.js","js/utils/ui.js","js/utils/formatters.js","js/utils/EventEmitter.js","js/components/QuestionBrowser.js","js/components/StudentSelector.js","js/components/PreviewModal.js","js/components/AssignmentForm.js","js/main.js"],"sourcesContent":["/**\r\n * –ú–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram WebApp\r\n * –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —É—á–∏—Ç–µ–ª—è\r\n */\r\n\r\nclass TelegramAuth {\r\n  constructor() {\r\n    this.tg = window.Telegram?.WebApp;\r\n    this.initData = null;\r\n    this.user = null;\r\n  }\r\n\r\n  /**\r\n   * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp\r\n   * @returns {boolean} - —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏\r\n   */\r\n  init() {\r\n    if (!this.tg) {\r\n      console.error('Telegram WebApp SDK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      this.tg.ready();\r\n      this.tg.expand();\r\n\r\n      // –ü–æ–ª—É—á–∞–µ–º initData –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ backend\r\n      this.initData = this.tg.initData;\r\n\r\n      // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ\r\n      this.user = this.tg.initDataUnsafe?.user;\r\n\r\n      if (!this.initData || !this.user) {\r\n        console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');\r\n        return false;\r\n      }\r\n\r\n      // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–º—É Telegram\r\n      this.applyTheme();\r\n\r\n      console.log('Telegram WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω', {\r\n        userId: this.user.id,\r\n        firstName: this.user.first_name\r\n      });\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Telegram WebApp:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É Telegram\r\n   */\r\n  applyTheme() {\r\n    if (!this.tg) return;\r\n\r\n    const themeParams = this.tg.themeParams;\r\n    const root = document.documentElement;\r\n\r\n    // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã\r\n    if (themeParams.bg_color) {\r\n      root.style.setProperty('--tg-theme-bg-color', themeParams.bg_color);\r\n    }\r\n    if (themeParams.text_color) {\r\n      root.style.setProperty('--tg-theme-text-color', themeParams.text_color);\r\n    }\r\n    if (themeParams.hint_color) {\r\n      root.style.setProperty('--tg-theme-hint-color', themeParams.hint_color);\r\n    }\r\n    if (themeParams.link_color) {\r\n      root.style.setProperty('--tg-theme-link-color', themeParams.link_color);\r\n    }\r\n    if (themeParams.button_color) {\r\n      root.style.setProperty('--tg-theme-button-color', themeParams.button_color);\r\n    }\r\n    if (themeParams.button_text_color) {\r\n      root.style.setProperty('--tg-theme-button-text-color', themeParams.button_text_color);\r\n    }\r\n    if (themeParams.secondary_bg_color) {\r\n      root.style.setProperty('--tg-theme-secondary-bg-color', themeParams.secondary_bg_color);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç initData –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ backend\r\n   * @returns {string}\r\n   */\r\n  getInitData() {\r\n    return this.initData;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ\r\n   * @returns {Object}\r\n   */\r\n  getUser() {\r\n    return this.user;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n   * @returns {number}\r\n   */\r\n  getUserId() {\r\n    return this.user?.id;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n   * @returns {string}\r\n   */\r\n  getUserName() {\r\n    const user = this.user;\r\n    if (!user) return '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';\r\n\r\n    return user.first_name + (user.last_name ? ' ' + user.last_name : '');\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç alert —á–µ—Ä–µ–∑ Telegram\r\n   * @param {string} message\r\n   */\r\n  showAlert(message) {\r\n    if (this.tg?.showAlert) {\r\n      this.tg.showAlert(message);\r\n    } else {\r\n      alert(message);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç confirm —á–µ—Ä–µ–∑ Telegram\r\n   * @param {string} message\r\n   * @returns {Promise<boolean>}\r\n   */\r\n  async showConfirm(message) {\r\n    if (this.tg?.showConfirm) {\r\n      return new Promise((resolve) => {\r\n        this.tg.showConfirm(message, resolve);\r\n      });\r\n    } else {\r\n      return confirm(message);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç popup —á–µ—Ä–µ–∑ Telegram\r\n   * @param {Object} params - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã popup\r\n   */\r\n  showPopup(params) {\r\n    if (this.tg?.showPopup) {\r\n      this.tg.showPopup(params);\r\n    } else {\r\n      this.showAlert(params.message);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–∫—Ä—ã–≤–∞–µ—Ç WebApp\r\n   */\r\n  close() {\r\n    if (this.tg?.close) {\r\n      this.tg.close();\r\n    } else {\r\n      window.close();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –í–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç –∫–Ω–æ–ø–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è\r\n   * @param {boolean} enabled\r\n   */\r\n  enableClosingConfirmation(enabled = true) {\r\n    if (this.tg?.enableClosingConfirmation) {\r\n      this.tg.enableClosingConfirmation();\r\n    }\r\n    if (!enabled && this.tg?.disableClosingConfirmation) {\r\n      this.tg.disableClosingConfirmation();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É Telegram\r\n   * @param {Object} options\r\n   */\r\n  setMainButton(options) {\r\n    if (!this.tg?.MainButton) return;\r\n\r\n    const btn = this.tg.MainButton;\r\n\r\n    if (options.text) {\r\n      btn.setText(options.text);\r\n    }\r\n\r\n    if (options.color) {\r\n      btn.setParams({ color: options.color });\r\n    }\r\n\r\n    if (options.onClick) {\r\n      btn.onClick(options.onClick);\r\n    }\r\n\r\n    if (options.show) {\r\n      btn.show();\r\n    } else if (options.hide) {\r\n      btn.hide();\r\n    }\r\n\r\n    if (options.loading !== undefined) {\r\n      if (options.loading) {\r\n        btn.showProgress();\r\n      } else {\r\n        btn.hideProgress();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ –±–æ—Ç–∞\r\n   * @param {Object} data\r\n   */\r\n  sendData(data) {\r\n    if (this.tg?.sendData) {\r\n      this.tg.sendData(JSON.stringify(data));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É\r\n   * @param {string} url\r\n   */\r\n  openLink(url) {\r\n    if (this.tg?.openLink) {\r\n      this.tg.openLink(url);\r\n    } else {\r\n      window.open(url, '_blank');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –í—ã–∑—ã–≤–∞–µ—Ç –≤–∏–±—Ä–∞—Ü–∏—é\r\n   * @param {string} type - 'light', 'medium', 'heavy', 'rigid', 'soft'\r\n   */\r\n  hapticFeedback(type = 'light') {\r\n    if (this.tg?.HapticFeedback) {\r\n      switch (type) {\r\n        case 'light':\r\n        case 'medium':\r\n        case 'heavy':\r\n        case 'rigid':\r\n        case 'soft':\r\n          this.tg.HapticFeedback.impactOccurred(type);\r\n          break;\r\n        case 'success':\r\n        case 'warning':\r\n        case 'error':\r\n          this.tg.HapticFeedback.notificationOccurred(type);\r\n          break;\r\n        default:\r\n          this.tg.HapticFeedback.selectionChanged();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –æ—Ç–∫—Ä—ã—Ç–æ –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram\r\n   * @returns {boolean}\r\n   */\r\n  isInTelegram() {\r\n    return !!this.tg;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –≤–µ—Ä—Å–∏—é Telegram WebApp API\r\n   * @returns {string}\r\n   */\r\n  getVersion() {\r\n    return this.tg?.version || 'unknown';\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (ios, android, etc.)\r\n   * @returns {string}\r\n   */\r\n  getPlatform() {\r\n    return this.tg?.platform || 'unknown';\r\n  }\r\n}\r\n\r\n// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º singleton\r\nexport const telegramAuth = new TelegramAuth();\r\n","/**\r\n * API –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å backend\r\n * –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\r\n */\r\n\r\nimport { telegramAuth } from './auth.js';\r\n\r\nclass APIClient {\r\n  constructor() {\r\n    // TODO: –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π URL –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è\r\n    this.baseURL = window.location.origin + '/api/teacher';\r\n    this.headers = {\r\n      'Content-Type': 'application/json'\r\n    };\r\n  }\r\n\r\n  /**\r\n   * –í—ã–ø–æ–ª–Ω—è–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π\r\n   * @param {string} endpoint\r\n   * @param {Object} options\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async request(endpoint, options = {}) {\r\n    const url = `${this.baseURL}${endpoint}`;\r\n\r\n    // –î–æ–±–∞–≤–ª—è–µ–º initData –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏\r\n    const headers = {\r\n      ...this.headers,\r\n      'X-Telegram-Init-Data': telegramAuth.getInitData(),\r\n      ...options.headers\r\n    };\r\n\r\n    const config = {\r\n      ...options,\r\n      headers\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n\r\n      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ HTTP\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new APIError(\r\n          errorData.detail || errorData.error || `HTTP ${response.status}`,\r\n          response.status,\r\n          errorData\r\n        );\r\n      }\r\n\r\n      // –ü–∞—Ä—Å–∏–º JSON –æ—Ç–≤–µ—Ç\r\n      const data = await response.json();\r\n      return data;\r\n\r\n    } catch (error) {\r\n      if (error instanceof APIError) {\r\n        throw error;\r\n      }\r\n\r\n      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫\r\n      console.error('API Request Error:', error);\r\n      throw new APIError(\r\n        '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.',\r\n        0,\r\n        { originalError: error.message }\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * GET –∑–∞–ø—Ä–æ—Å\r\n   * @param {string} endpoint\r\n   * @param {Object} params - query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async get(endpoint, params = {}) {\r\n    const queryString = new URLSearchParams(params).toString();\r\n    const url = queryString ? `${endpoint}?${queryString}` : endpoint;\r\n\r\n    return this.request(url, {\r\n      method: 'GET'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * POST –∑–∞–ø—Ä–æ—Å\r\n   * @param {string} endpoint\r\n   * @param {Object} data\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async post(endpoint, data = {}) {\r\n    return this.request(endpoint, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * PUT –∑–∞–ø—Ä–æ—Å\r\n   * @param {string} endpoint\r\n   * @param {Object} data\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async put(endpoint, data = {}) {\r\n    return this.request(endpoint, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * DELETE –∑–∞–ø—Ä–æ—Å\r\n   * @param {string} endpoint\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async delete(endpoint) {\r\n    return this.request(endpoint, {\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  // ============================================\r\n  // TEACHER ENDPOINTS\r\n  // ============================================\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —É—á–∏—Ç–µ–ª—è\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getTeacherProfile() {\r\n    return this.get('/profile');\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤\r\n   * @param {Object} params - { search, limit, offset }\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getStudents(params = {}) {\r\n    return this.get('/students', params);\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getModules() {\r\n    return this.get('/modules');\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n   * @param {Object} params - { module, search, limit, offset }\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getQuestions(params = {}) {\r\n    if (!params.module) {\r\n      throw new Error('–ü–∞—Ä–∞–º–µ—Ç—Ä module –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω');\r\n    }\r\n    return this.get('/questions', params);\r\n  }\r\n\r\n  /**\r\n   * –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ\r\n   * @param {Object} assignmentData\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async createAssignment(assignmentData) {\r\n    return this.post('/assignments', assignmentData);\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–π\r\n   * @param {Object} params - { limit, offset, status }\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getAssignments(params = {}) {\r\n    return this.get('/assignments', params);\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ ID\r\n   * @param {number} assignmentId\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getAssignment(assignmentId) {\r\n    return this.get(`/assignments/${assignmentId}`);\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–¥–∞–Ω–∏–µ\r\n   * @param {number} assignmentId\r\n   * @param {Object} data\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async updateAssignment(assignmentId, data) {\r\n    return this.put(`/assignments/${assignmentId}`, data);\r\n  }\r\n\r\n  /**\r\n   * –£–¥–∞–ª—è–µ—Ç –∑–∞–¥–∞–Ω–∏–µ\r\n   * @param {number} assignmentId\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async deleteAssignment(assignmentId) {\r\n    return this.delete(`/assignments/${assignmentId}`);\r\n  }\r\n\r\n  /**\r\n   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–¥–∞–Ω–∏—è\r\n   * @param {Object} draftData\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async saveDraft(draftData) {\r\n    return this.post('/drafts', { draft_data: draftData });\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getDrafts() {\r\n    return this.get('/drafts');\r\n  }\r\n\r\n  /**\r\n   * –£–¥–∞–ª—è–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫\r\n   * @param {string} draftId\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async deleteDraft(draftId) {\r\n    return this.delete(`/drafts/${draftId}`);\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É—á–∏—Ç–µ–ª—è\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getStats() {\r\n    return this.get('/stats');\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —É—á–µ–Ω–∏–∫—É\r\n   * @param {number} studentId\r\n   * @returns {Promise<Object>}\r\n   */\r\n  async getStudentStats(studentId) {\r\n    return this.get(`/students/${studentId}/stats`);\r\n  }\r\n}\r\n\r\n/**\r\n * –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–ª–∞—Å—Å –æ—à–∏–±–∫–∏ API\r\n */\r\nclass APIError extends Error {\r\n  constructor(message, status, data = {}) {\r\n    super(message);\r\n    this.name = 'APIError';\r\n    this.status = status;\r\n    this.data = data;\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ—à–∏–±–∫–∞ –æ—à–∏–±–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏\r\n   * @returns {boolean}\r\n   */\r\n  isAuthError() {\r\n    return this.status === 401 || this.status === 403;\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ—à–∏–±–∫–∞ –æ—à–∏–±–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏\r\n   * @returns {boolean}\r\n   */\r\n  isValidationError() {\r\n    return this.status === 422 || this.data.error === 'validation_error';\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏\r\n   * @returns {Object}\r\n   */\r\n  getValidationErrors() {\r\n    return this.data.details || {};\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ\r\n   * @returns {string}\r\n   */\r\n  getUserMessage() {\r\n    switch (this.status) {\r\n      case 0:\r\n        return '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.';\r\n      case 401:\r\n        return '–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.';\r\n      case 403:\r\n        return '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ.';\r\n      case 404:\r\n        return '–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω.';\r\n      case 422:\r\n        return '–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.';\r\n      case 429:\r\n        return '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';\r\n      case 500:\r\n        return '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ú—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.';\r\n      default:\r\n        return this.message || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';\r\n    }\r\n  }\r\n}\r\n\r\n// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º singleton –∏ –∫–ª–∞—Å—Å –æ—à–∏–±–∫–∏\r\nexport const api = new APIClient();\r\nexport { APIError };\r\n","/**\r\n * –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LocalStorage\r\n * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö\r\n */\r\n\r\nclass Storage {\r\n  constructor(prefix = 'teacher_') {\r\n    this.prefix = prefix;\r\n  }\r\n\r\n  /**\r\n   * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º\r\n   * @param {string} key\r\n   * @returns {string}\r\n   */\r\n  _getKey(key) {\r\n    return `${this.prefix}${key}`;\r\n  }\r\n\r\n  /**\r\n   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ LocalStorage\r\n   * @param {string} key\r\n   * @param {*} value\r\n   * @returns {boolean}\r\n   */\r\n  set(key, value) {\r\n    try {\r\n      const data = JSON.stringify(value);\r\n      localStorage.setItem(this._getKey(key), data);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Storage.set error:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ LocalStorage\r\n   * @param {string} key\r\n   * @param {*} defaultValue - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\r\n   * @returns {*}\r\n   */\r\n  get(key, defaultValue = null) {\r\n    try {\r\n      const data = localStorage.getItem(this._getKey(key));\r\n      return data ? JSON.parse(data) : defaultValue;\r\n    } catch (error) {\r\n      console.error('Storage.get error:', error);\r\n      return defaultValue;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –£–¥–∞–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ LocalStorage\r\n   * @param {string} key\r\n   * @returns {boolean}\r\n   */\r\n  remove(key) {\r\n    try {\r\n      localStorage.removeItem(this._getKey(key));\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Storage.remove error:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞\r\n   * @param {string} key\r\n   * @returns {boolean}\r\n   */\r\n  has(key) {\r\n    return localStorage.getItem(this._getKey(key)) !== null;\r\n  }\r\n\r\n  /**\r\n   * –û—á–∏—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º\r\n   * @returns {boolean}\r\n   */\r\n  clear() {\r\n    try {\r\n      const keys = Object.keys(localStorage);\r\n      keys.forEach(key => {\r\n        if (key.startsWith(this.prefix)) {\r\n          localStorage.removeItem(key);\r\n        }\r\n      });\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Storage.clear error:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∫–ª—é—á–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º\r\n   * @returns {string[]}\r\n   */\r\n  keys() {\r\n    const allKeys = Object.keys(localStorage);\r\n    return allKeys\r\n      .filter(key => key.startsWith(this.prefix))\r\n      .map(key => key.replace(this.prefix, ''));\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ)\r\n   * @returns {number} - —Ä–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö\r\n   */\r\n  getSize() {\r\n    let size = 0;\r\n    const keys = Object.keys(localStorage);\r\n    keys.forEach(key => {\r\n      if (key.startsWith(this.prefix)) {\r\n        const value = localStorage.getItem(key);\r\n        size += key.length + (value?.length || 0);\r\n      }\r\n    });\r\n    return size;\r\n  }\r\n}\r\n\r\n/**\r\n * –ú–µ–Ω–µ–¥–∂–µ—Ä —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ –∑–∞–¥–∞–Ω–∏–π\r\n */\r\nclass DraftManager extends Storage {\r\n  constructor() {\r\n    super('draft_');\r\n    this.currentDraftKey = 'assignment_current';\r\n    this.maxAge = 24 * 60 * 60 * 1000; // 24 —á–∞—Å–∞\r\n  }\r\n\r\n  /**\r\n   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–π —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–¥–∞–Ω–∏—è\r\n   * @param {Object} draftData\r\n   * @returns {boolean}\r\n   */\r\n  saveCurrent(draftData) {\r\n    const draft = {\r\n      timestamp: Date.now(),\r\n      data: draftData\r\n    };\r\n    return this.set(this.currentDraftKey, draft);\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–¥–∞–Ω–∏—è\r\n   * @returns {Object|null}\r\n   */\r\n  loadCurrent() {\r\n    const draft = this.get(this.currentDraftKey);\r\n\r\n    if (!draft) {\r\n      return null;\r\n    }\r\n\r\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑—Ä–∞—Å—Ç —á–µ—Ä–Ω–æ–≤–∏–∫–∞\r\n    const age = Date.now() - draft.timestamp;\r\n    if (age > this.maxAge) {\r\n      console.log('–ß–µ—Ä–Ω–æ–≤–∏–∫ —É—Å—Ç–∞—Ä–µ–ª, —É–¥–∞–ª—è–µ–º');\r\n      this.removeCurrent();\r\n      return null;\r\n    }\r\n\r\n    return draft.data;\r\n  }\r\n\r\n  /**\r\n   * –£–¥–∞–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π —á–µ—Ä–Ω–æ–≤–∏–∫\r\n   * @returns {boolean}\r\n   */\r\n  removeCurrent() {\r\n    return this.remove(this.currentDraftKey);\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞\r\n   * @returns {boolean}\r\n   */\r\n  hasCurrent() {\r\n    return this.has(this.currentDraftKey);\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç —Ç–µ–∫—É—â–µ–≥–æ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö\r\n   * @returns {number|null}\r\n   */\r\n  getCurrentAge() {\r\n    const draft = this.get(this.currentDraftKey);\r\n    if (!draft) return null;\r\n\r\n    return Date.now() - draft.timestamp;\r\n  }\r\n\r\n  /**\r\n   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä–Ω–æ–≤–∏–∫\r\n   * @param {string} name\r\n   * @param {Object} draftData\r\n   * @returns {boolean}\r\n   */\r\n  saveNamed(name, draftData) {\r\n    const draft = {\r\n      name,\r\n      timestamp: Date.now(),\r\n      data: draftData\r\n    };\r\n    return this.set(`named_${name}`, draft);\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä–Ω–æ–≤–∏–∫\r\n   * @param {string} name\r\n   * @returns {Object|null}\r\n   */\r\n  loadNamed(name) {\r\n    return this.get(`named_${name}`);\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤\r\n   * @returns {Array}\r\n   */\r\n  listNamed() {\r\n    const keys = this.keys();\r\n    return keys\r\n      .filter(key => key.startsWith('named_'))\r\n      .map(key => {\r\n        const draft = this.get(key);\r\n        return {\r\n          key,\r\n          name: draft.name,\r\n          timestamp: draft.timestamp,\r\n          age: Date.now() - draft.timestamp\r\n        };\r\n      })\r\n      .sort((a, b) => b.timestamp - a.timestamp);\r\n  }\r\n}\r\n\r\n/**\r\n * –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–µ—à–∞ –¥–∞–Ω–Ω—ã—Ö\r\n */\r\nclass CacheManager extends Storage {\r\n  constructor() {\r\n    super('cache_');\r\n    this.defaultTTL = 5 * 60 * 1000; // 5 –º–∏–Ω—É—Ç\r\n  }\r\n\r\n  /**\r\n   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∫–µ—à\r\n   * @param {string} key\r\n   * @param {*} value\r\n   * @param {number} ttl - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö\r\n   * @returns {boolean}\r\n   */\r\n  setCache(key, value, ttl = this.defaultTTL) {\r\n    const cacheItem = {\r\n      value,\r\n      timestamp: Date.now(),\r\n      ttl\r\n    };\r\n    return this.set(key, cacheItem);\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞\r\n   * @param {string} key\r\n   * @returns {*|null}\r\n   */\r\n  getCache(key) {\r\n    const cacheItem = this.get(key);\r\n\r\n    if (!cacheItem) {\r\n      return null;\r\n    }\r\n\r\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º TTL\r\n    const age = Date.now() - cacheItem.timestamp;\r\n    if (age > cacheItem.ttl) {\r\n      this.remove(key);\r\n      return null;\r\n    }\r\n\r\n    return cacheItem.value;\r\n  }\r\n\r\n  /**\r\n   * –û—á–∏—â–∞–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–µ—à\r\n   * @returns {number} - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤\r\n   */\r\n  clearExpired() {\r\n    let count = 0;\r\n    const keys = this.keys();\r\n\r\n    keys.forEach(key => {\r\n      const cacheItem = this.get(key);\r\n      if (cacheItem) {\r\n        const age = Date.now() - cacheItem.timestamp;\r\n        if (age > cacheItem.ttl) {\r\n          this.remove(key);\r\n          count++;\r\n        }\r\n      }\r\n    });\r\n\r\n    return count;\r\n  }\r\n\r\n  /**\r\n   * –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç (—É–¥–∞–ª—è–µ—Ç) –∫–µ—à –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É\r\n   * @param {string} pattern - –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–ª—é—á–µ–π\r\n   * @returns {number} - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤\r\n   */\r\n  invalidate(pattern) {\r\n    let count = 0;\r\n    const keys = this.keys();\r\n\r\n    keys.forEach(key => {\r\n      if (key.includes(pattern)) {\r\n        this.remove(key);\r\n        count++;\r\n      }\r\n    });\r\n\r\n    return count;\r\n  }\r\n}\r\n\r\n// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä—ã\r\nexport const storage = new Storage();\r\nexport const draftManager = new DraftManager();\r\nexport const cacheManager = new CacheManager();\r\n\r\n// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫–µ—à–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ\r\ncacheManager.clearExpired();\r\n","/**\r\n * –£—Ç–∏–ª–∏—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º\r\n */\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è\r\n * @param {Object} state - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã\r\n * @returns {Object} - –æ–±—ä–µ–∫—Ç —Å –æ—à–∏–±–∫–∞–º–∏ { field: 'error message' }\r\n */\r\nexport function validateAssignmentForm(state) {\r\n  const errors = {};\r\n\r\n  // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–∞ –∑–∞–¥–∞–Ω–∏—è\r\n  if (!state.assignmentType) {\r\n    errors.assignmentType = '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∑–∞–¥–∞–Ω–∏—è';\r\n  }\r\n\r\n  // –ò–°–ü–†–ê–í–õ–ï–ù–û: –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π –¥–ª—è –í–°–ï–• —Ç–∏–ø–æ–≤ –∑–∞–¥–∞–Ω–∏–π, –∫—Ä–æ–º–µ custom –∏ full_exam\r\n  // task19, task20, task24, task25, mixed - –≤—Å–µ —Ç—Ä–µ–±—É—é—Ç –≤—ã–±–æ—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n  const needsModules = ['task19', 'task20', 'task24', 'task25', 'mixed', 'test_part'].includes(state.assignmentType);\r\n\r\n  if (needsModules) {\r\n    if (!state.modules || state.modules.length === 0) {\r\n      errors.modules = '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å';\r\n    }\r\n\r\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å\r\n    if (state.modules && state.modules.length > 0) {\r\n      state.modules.forEach((module, index) => {\r\n        if (!module.module_code) {\r\n          errors[`module_${index}_code`] = '–ù–µ —É–∫–∞–∑–∞–Ω –∫–æ–¥ –º–æ–¥—É–ª—è';\r\n        }\r\n\r\n        if (!module.selection_mode) {\r\n          errors[`module_${index}_mode`] = '–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ—Ç–±–æ—Ä–∞';\r\n        }\r\n\r\n        // –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Ö –Ω–∞–ª–∏—á–∏–µ\r\n        if (module.selection_mode === 'specific') {\r\n          if (!module.question_ids || module.question_ids.length === 0) {\r\n            errors[`module_${index}_questions`] = '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å';\r\n          }\r\n        }\r\n\r\n        // –î–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ\r\n        if (module.selection_mode === 'random') {\r\n          if (!module.question_count || module.question_count < 1) {\r\n            errors[`module_${index}_count`] = '–£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤';\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è\r\n  if (!state.title || state.title.trim().length === 0) {\r\n    errors.title = '–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è';\r\n  } else if (state.title.trim().length < 3) {\r\n    errors.title = '–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞';\r\n  } else if (state.title.length > 100) {\r\n    errors.title = '–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 100 —Å–∏–º–≤–æ–ª–æ–≤';\r\n  }\r\n\r\n  // –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è\r\n  if (state.description && state.description.length > 500) {\r\n    errors.description = '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 500 —Å–∏–º–≤–æ–ª–æ–≤';\r\n  }\r\n\r\n  // –í–∞–ª–∏–¥–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–æ–≤\r\n  if (!state.studentIds || state.studentIds.length === 0) {\r\n    errors.students = '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞';\r\n  } else if (state.studentIds.length > 100) {\r\n    errors.students = '–ú–∞–∫—Å–∏–º—É–º 100 —É—á–µ–Ω–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ –∑–∞–¥–∞–Ω–∏–µ';\r\n  }\r\n\r\n  // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–µ–¥–ª–∞–π–Ω–∞\r\n  if (state.deadline) {\r\n    const deadlineDate = new Date(state.deadline);\r\n    const now = new Date();\r\n\r\n    if (deadlineDate < now) {\r\n      errors.deadline = '–î–µ–¥–ª–∞–π–Ω –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º';\r\n    }\r\n\r\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–µ–¥–ª–∞–π–Ω –Ω–µ —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ –≤ –±—É–¥—É—â–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–æ–ª—å—à–µ –≥–æ–¥–∞)\r\n    const oneYearFromNow = new Date();\r\n    oneYearFromNow.setFullYear(oneYearFromNow.getFullYear() + 1);\r\n\r\n    if (deadlineDate > oneYearFromNow) {\r\n      errors.deadline = '–î–µ–¥–ª–∞–π–Ω –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —á–µ–º —á–µ—Ä–µ–∑ –≥–æ–¥';\r\n    }\r\n  }\r\n\r\n  return errors;\r\n}\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç email\r\n * @param {string} email\r\n * @returns {boolean}\r\n */\r\nexport function validateEmail(email) {\r\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return re.test(email);\r\n}\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫–∏\r\n * @param {string} str\r\n * @param {number} min\r\n * @param {number} max\r\n * @returns {boolean}\r\n */\r\nexport function validateLength(str, min, max) {\r\n  const length = str.trim().length;\r\n  return length >= min && length <= max;\r\n}\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —á–∏—Å–ª–æ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ\r\n * @param {number} num\r\n * @param {number} min\r\n * @param {number} max\r\n * @returns {boolean}\r\n */\r\nexport function validateRange(num, min, max) {\r\n  return num >= min && num <= max;\r\n}\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç URL\r\n * @param {string} url\r\n * @returns {boolean}\r\n */\r\nexport function validateURL(url) {\r\n  try {\r\n    new URL(url);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞—Ç—É\r\n * @param {string|Date} date\r\n * @returns {boolean}\r\n */\r\nexport function validateDate(date) {\r\n  const d = new Date(date);\r\n  return d instanceof Date && !isNaN(d);\r\n}\r\n\r\n/**\r\n * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø—É—Å—Ç–æ–π –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ–±–µ–ª—ã\r\n * @param {string} str\r\n * @returns {boolean}\r\n */\r\nexport function isEmpty(str) {\r\n  return !str || str.trim().length === 0;\r\n}\r\n\r\n/**\r\n * –°–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É (—É–¥–∞–ª—è–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)\r\n * @param {string} str\r\n * @returns {string}\r\n */\r\nexport function sanitize(str) {\r\n  return str\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/\"/g, '&quot;')\r\n    .replace(/'/g, '&#39;')\r\n    .trim();\r\n}\r\n\r\n/**\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –Ω–∞ input —ç–ª–µ–º–µ–Ω—Ç–µ\r\n * @param {HTMLElement} input\r\n * @param {string} message\r\n */\r\nexport function showInputError(input, message) {\r\n  input.classList.add('error');\r\n\r\n  const errorElement = input.parentElement?.querySelector('.form-error');\r\n  if (errorElement) {\r\n    errorElement.textContent = message;\r\n    errorElement.classList.add('show');\r\n  }\r\n}\r\n\r\n/**\r\n * –£–±–∏—Ä–∞–µ—Ç –æ—à–∏–±–∫—É —Å input —ç–ª–µ–º–µ–Ω—Ç–∞\r\n * @param {HTMLElement} input\r\n */\r\nexport function clearInputError(input) {\r\n  input.classList.remove('error');\r\n\r\n  const errorElement = input.parentElement?.querySelector('.form-error');\r\n  if (errorElement) {\r\n    errorElement.textContent = '';\r\n    errorElement.classList.remove('show');\r\n  }\r\n}\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç input –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏\r\n * @param {HTMLElement} input\r\n * @param {Function} validator - —Ñ—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç { valid: boolean, message: string }\r\n */\r\nexport function attachLiveValidation(input, validator) {\r\n  const validate = () => {\r\n    const result = validator(input.value);\r\n\r\n    if (result.valid) {\r\n      clearInputError(input);\r\n    } else if (input.value.length > 0) {\r\n      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á—Ç–æ-—Ç–æ –≤–≤–µ–ª\r\n      showInputError(input, result.message);\r\n    }\r\n  };\r\n\r\n  // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞\r\n  input.addEventListener('blur', validate);\r\n\r\n  // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ (—Å debounce)\r\n  let timeout;\r\n  input.addEventListener('input', () => {\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(validate, 500);\r\n  });\r\n}\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è\r\n * @param {string} value\r\n * @returns {Object}\r\n */\r\nexport function titleValidator(value) {\r\n  if (isEmpty(value)) {\r\n    return { valid: false, message: '–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è' };\r\n  }\r\n\r\n  if (value.trim().length < 3) {\r\n    return { valid: false, message: '–ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞' };\r\n  }\r\n\r\n  if (value.length > 100) {\r\n    return { valid: false, message: '–ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤' };\r\n  }\r\n\r\n  return { valid: true, message: '' };\r\n}\r\n\r\n/**\r\n * –í–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è\r\n * @param {string} value\r\n * @returns {Object}\r\n */\r\nexport function descriptionValidator(value) {\r\n  if (value && value.length > 500) {\r\n    return { valid: false, message: '–ú–∞–∫—Å–∏–º—É–º 500 —Å–∏–º–≤–æ–ª–æ–≤' };\r\n  }\r\n\r\n  return { valid: true, message: '' };\r\n}\r\n","/**\r\n * –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å UI —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏\r\n */\r\n\r\n/**\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ\r\n * @param {string} message\r\n * @param {string} type - 'success', 'error', 'warning', 'info'\r\n * @param {number} duration - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º—Å\r\n */\r\nexport function showToast(message, type = 'info', duration = 3000) {\r\n  const container = document.getElementById('toast-container');\r\n  if (!container) return;\r\n\r\n  const toast = document.createElement('div');\r\n  toast.className = `toast ${type}`;\r\n\r\n  // –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É\r\n  const icon = getToastIcon(type);\r\n  toast.innerHTML = `\r\n    <span class=\"toast-icon\">${icon}</span>\r\n    <span class=\"toast-message\">${message}</span>\r\n  `;\r\n\r\n  container.appendChild(toast);\r\n\r\n  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ duration\r\n  setTimeout(() => {\r\n    toast.style.animation = 'slideOutRight 0.3s ease';\r\n    setTimeout(() => {\r\n      container.removeChild(toast);\r\n    }, 300);\r\n  }, duration);\r\n}\r\n\r\n/**\r\n * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∫–æ–Ω–∫—É –¥–ª—è toast\r\n * @param {string} type\r\n * @returns {string}\r\n */\r\nfunction getToastIcon(type) {\r\n  const icons = {\r\n    success: '‚úì',\r\n    error: '‚úï',\r\n    warning: '‚ö†',\r\n    info: '‚Ñπ'\r\n  };\r\n  return icons[type] || icons.info;\r\n}\r\n\r\n/**\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏\r\n * @param {string} message\r\n */\r\nexport function showLoadingScreen(message = '–ó–∞–≥—Ä—É–∑–∫–∞...') {\r\n  let screen = document.getElementById('loading-screen');\r\n\r\n  if (!screen) {\r\n    screen = document.createElement('div');\r\n    screen.id = 'loading-screen';\r\n    screen.className = 'loading-screen';\r\n    document.body.appendChild(screen);\r\n  }\r\n\r\n  screen.innerHTML = `\r\n    <div class=\"spinner\"></div>\r\n    <p>${message}</p>\r\n  `;\r\n\r\n  screen.style.display = 'flex';\r\n}\r\n\r\n/**\r\n * –°–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏\r\n */\r\nexport function hideLoadingScreen() {\r\n  const screen = document.getElementById('loading-screen');\r\n  if (screen) {\r\n    screen.style.display = 'none';\r\n  }\r\n}\r\n\r\n/**\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n * @param {string} id - ID –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞\r\n */\r\nexport function showModal(id) {\r\n  const modal = document.getElementById(id);\r\n  if (modal) {\r\n    modal.style.display = 'flex';\r\n    document.body.style.overflow = 'hidden';\r\n  }\r\n}\r\n\r\n/**\r\n * –°–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n * @param {string} id - ID –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞\r\n */\r\nexport function hideModal(id) {\r\n  const modal = document.getElementById(id);\r\n  if (modal) {\r\n    modal.style.display = 'none';\r\n    document.body.style.overflow = '';\r\n  }\r\n}\r\n\r\n/**\r\n * –°–æ–∑–¥–∞–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n * @param {Object} options\r\n */\r\nexport function createModal(options) {\r\n  const {\r\n    title,\r\n    content,\r\n    onConfirm,\r\n    onCancel,\r\n    confirmText = 'OK',\r\n    cancelText = '–û—Ç–º–µ–Ω–∞',\r\n    showCancel = true\r\n  } = options;\r\n\r\n  // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n  const modal = document.createElement('div');\r\n  modal.className = 'modal';\r\n  modal.style.display = 'flex';\r\n\r\n  modal.innerHTML = `\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h2>${title}</h2>\r\n        <button class=\"close-btn\" id=\"modal-close\">√ó</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        ${content}\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        ${showCancel ? `<button class=\"btn-secondary\" id=\"modal-cancel\">${cancelText}</button>` : ''}\r\n        <button class=\"btn-primary\" id=\"modal-confirm\">${confirmText}</button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  document.body.appendChild(modal);\r\n  document.body.style.overflow = 'hidden';\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏\r\n  const closeBtn = modal.querySelector('#modal-close');\r\n  const confirmBtn = modal.querySelector('#modal-confirm');\r\n  const cancelBtn = modal.querySelector('#modal-cancel');\r\n\r\n  const removeModal = () => {\r\n    document.body.removeChild(modal);\r\n    document.body.style.overflow = '';\r\n  };\r\n\r\n  closeBtn?.addEventListener('click', () => {\r\n    removeModal();\r\n    onCancel?.();\r\n  });\r\n\r\n  confirmBtn?.addEventListener('click', () => {\r\n    removeModal();\r\n    onConfirm?.();\r\n  });\r\n\r\n  cancelBtn?.addEventListener('click', () => {\r\n    removeModal();\r\n    onCancel?.();\r\n  });\r\n\r\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω\r\n  modal.addEventListener('click', (e) => {\r\n    if (e.target === modal) {\r\n      removeModal();\r\n      onCancel?.();\r\n    }\r\n  });\r\n\r\n  return modal;\r\n}\r\n\r\n/**\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ\r\n * @param {string} message\r\n * @returns {Promise<boolean>}\r\n */\r\nexport function confirm(message) {\r\n  return new Promise((resolve) => {\r\n    createModal({\r\n      title: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ',\r\n      content: `<p>${message}</p>`,\r\n      onConfirm: () => resolve(true),\r\n      onCancel: () => resolve(false)\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏\r\n * @param {HTMLElement} button\r\n * @param {boolean} loading\r\n * @param {string} loadingText\r\n */\r\nexport function setButtonLoading(button, loading, loadingText = '–ó–∞–≥—Ä—É–∑–∫–∞...') {\r\n  if (!button) return;\r\n\r\n  if (loading) {\r\n    button.dataset.originalText = button.textContent;\r\n    button.textContent = loadingText;\r\n    button.disabled = true;\r\n  } else {\r\n    button.textContent = button.dataset.originalText || button.textContent;\r\n    button.disabled = false;\r\n    delete button.dataset.originalText;\r\n  }\r\n}\r\n\r\n/**\r\n * –°–∫—Ä–æ–ª–ª–∏—Ç –∫ —ç–ª–µ–º–µ–Ω—Ç—É\r\n * @param {HTMLElement|string} element - —ç–ª–µ–º–µ–Ω—Ç –∏–ª–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä\r\n * @param {Object} options\r\n */\r\nexport function scrollTo(element, options = {}) {\r\n  const el = typeof element === 'string'\r\n    ? document.querySelector(element)\r\n    : element;\r\n\r\n  if (!el) return;\r\n\r\n  el.scrollIntoView({\r\n    behavior: options.behavior || 'smooth',\r\n    block: options.block || 'start',\r\n    inline: options.inline || 'nearest'\r\n  });\r\n}\r\n\r\n/**\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ\r\n * @param {HTMLElement} container\r\n * @param {Object} options\r\n */\r\nexport function showEmptyState(container, options = {}) {\r\n  const {\r\n    icon = 'üì≠',\r\n    title = '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ',\r\n    description = ''\r\n  } = options;\r\n\r\n  container.innerHTML = `\r\n    <div class=\"empty-state\">\r\n      <div class=\"empty-state-icon\">${icon}</div>\r\n      <div class=\"empty-state-text\">${title}</div>\r\n      ${description ? `<div class=\"empty-state-hint\">${description}</div>` : ''}\r\n    </div>\r\n  `;\r\n}\r\n\r\n/**\r\n * –°–æ–∑–¥–∞–µ—Ç spinner —ç–ª–µ–º–µ–Ω—Ç\r\n * @returns {HTMLElement}\r\n */\r\nexport function createSpinner() {\r\n  const spinner = document.createElement('div');\r\n  spinner.className = 'spinner';\r\n  return spinner;\r\n}\r\n\r\n/**\r\n * –û–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞\r\n * @param {number} current - —Ç–µ–∫—É—â–∏–π —à–∞–≥ (1-5)\r\n * @param {number} total - –≤—Å–µ–≥–æ —à–∞–≥–æ–≤\r\n */\r\nexport function updateProgress(current, total = 5) {\r\n  for (let i = 1; i <= total; i++) {\r\n    const step = document.querySelector(`.progress-step[data-step=\"${i}\"]`);\r\n    if (!step) continue;\r\n\r\n    step.classList.remove('completed', 'active');\r\n\r\n    if (i < current) {\r\n      step.classList.add('completed');\r\n    } else if (i === current) {\r\n      step.classList.add('active');\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * –ö–æ–ø–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞\r\n * @param {string} text\r\n * @returns {Promise<boolean>}\r\n */\r\nexport async function copyToClipboard(text) {\r\n  try {\r\n    await navigator.clipboard.writeText(text);\r\n    showToast('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞', 'success');\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Failed to copy:', error);\r\n    showToast('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * –°–æ–∑–¥–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ HTML —Å—Ç—Ä–æ–∫–∏\r\n * @param {string} html\r\n * @returns {HTMLElement}\r\n */\r\nexport function createElementFromHTML(html) {\r\n  const template = document.createElement('template');\r\n  template.innerHTML = html.trim();\r\n  return template.content.firstChild;\r\n}\r\n\r\n/**\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç/—Å–∫—Ä—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç\r\n * @param {HTMLElement|string} element\r\n * @param {boolean} show\r\n */\r\nexport function toggle(element, show) {\r\n  const el = typeof element === 'string'\r\n    ? document.querySelector(element)\r\n    : element;\r\n\r\n  if (!el) return;\r\n\r\n  if (show) {\r\n    el.style.display = '';\r\n  } else {\r\n    el.style.display = 'none';\r\n  }\r\n}\r\n","/**\r\n * –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö\r\n */\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞—Ç—É –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥\r\n * @param {string|Date} date\r\n * @param {boolean} includeTime - –≤–∫–ª—é—á–∞—Ç—å –ª–∏ –≤—Ä–µ–º—è\r\n * @returns {string}\r\n */\r\nexport function formatDate(date, includeTime = true) {\r\n  if (!date) return '';\r\n\r\n  const d = new Date(date);\r\n  if (isNaN(d)) return '';\r\n\r\n  const options = {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    ...(includeTime && {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    })\r\n  };\r\n\r\n  return new Intl.DateTimeFormat('ru-RU', options).format(d);\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞—Ç—É –≤ –∫–æ—Ä–æ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç\r\n * @param {string|Date} date\r\n * @returns {string} - –Ω–∞–ø—Ä–∏–º–µ—Ä, \"29.12.2025\"\r\n */\r\nexport function formatDateShort(date) {\r\n  if (!date) return '';\r\n\r\n  const d = new Date(date);\r\n  if (isNaN(d)) return '';\r\n\r\n  return new Intl.DateTimeFormat('ru-RU').format(d);\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è\r\n * @param {string|Date} date\r\n * @returns {string} - –Ω–∞–ø—Ä–∏–º–µ—Ä, \"2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥\"\r\n */\r\nexport function formatRelativeTime(date) {\r\n  if (!date) return '';\r\n\r\n  const d = new Date(date);\r\n  if (isNaN(d)) return '';\r\n\r\n  const now = new Date();\r\n  const diff = now - d;\r\n\r\n  const seconds = Math.floor(diff / 1000);\r\n  const minutes = Math.floor(seconds / 60);\r\n  const hours = Math.floor(minutes / 60);\r\n  const days = Math.floor(hours / 24);\r\n  const months = Math.floor(days / 30);\r\n  const years = Math.floor(days / 365);\r\n\r\n  if (seconds < 60) {\r\n    return '—Ç–æ–ª—å–∫–æ —á—Ç–æ';\r\n  } else if (minutes < 60) {\r\n    return `${minutes} ${pluralize(minutes, '–º–∏–Ω—É—Ç–∞', '–º–∏–Ω—É—Ç—ã', '–º–∏–Ω—É—Ç')} –Ω–∞–∑–∞–¥`;\r\n  } else if (hours < 24) {\r\n    return `${hours} ${pluralize(hours, '—á–∞—Å', '—á–∞—Å–∞', '—á–∞—Å–æ–≤')} –Ω–∞–∑–∞–¥`;\r\n  } else if (days < 30) {\r\n    return `${days} ${pluralize(days, '–¥–µ–Ω—å', '–¥–Ω—è', '–¥–Ω–µ–π')} –Ω–∞–∑–∞–¥`;\r\n  } else if (months < 12) {\r\n    return `${months} ${pluralize(months, '–º–µ—Å—è—Ü', '–º–µ—Å—è—Ü–∞', '–º–µ—Å—è—Ü–µ–≤')} –Ω–∞–∑–∞–¥`;\r\n  } else {\r\n    return `${years} ${pluralize(years, '–≥–æ–¥', '–≥–æ–¥–∞', '–ª–µ—Ç')} –Ω–∞–∑–∞–¥`;\r\n  }\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —á–∏—Å–ª–æ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ä–∞–∑—Ä—è–¥–æ–≤\r\n * @param {number} num\r\n * @returns {string} - –Ω–∞–ø—Ä–∏–º–µ—Ä, \"1 000\"\r\n */\r\nexport function formatNumber(num) {\r\n  return new Intl.NumberFormat('ru-RU').format(num);\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç\r\n * @param {number} value - –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 0 –¥–æ 100\r\n * @param {number} decimals - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π\r\n * @returns {string} - –Ω–∞–ø—Ä–∏–º–µ—Ä, \"85.5%\"\r\n */\r\nexport function formatPercent(value, decimals = 1) {\r\n  return `${value.toFixed(decimals)}%`;\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞\r\n * @param {number} bytes\r\n * @returns {string} - –Ω–∞–ø—Ä–∏–º–µ—Ä, \"1.5 MB\"\r\n */\r\nexport function formatFileSize(bytes) {\r\n  if (bytes === 0) return '0 B';\r\n\r\n  const k = 1024;\r\n  const sizes = ['B', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return `${(bytes / Math.pow(k, i)).toFixed(2)} ${sizes[i]}`;\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * @param {Object} user - –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * @returns {string}\r\n */\r\nexport function formatUserName(user) {\r\n  if (!user) return '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';\r\n\r\n  const firstName = user.first_name || user.firstName || '';\r\n  const lastName = user.last_name || user.lastName || '';\r\n  const username = user.username ? `@${user.username}` : '';\r\n\r\n  if (firstName && lastName) {\r\n    return `${firstName} ${lastName}`;\r\n  } else if (firstName) {\r\n    return firstName;\r\n  } else if (username) {\r\n    return username;\r\n  } else {\r\n    return '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';\r\n  }\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç username —Å @\r\n * @param {string} username\r\n * @returns {string}\r\n */\r\nexport function formatUsername(username) {\r\n  if (!username) return '';\r\n  return username.startsWith('@') ? username : `@${username}`;\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–∏–ø –∑–∞–¥–∞–Ω–∏—è –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥\r\n * @param {string} type\r\n * @returns {string}\r\n */\r\nexport function formatAssignmentType(type) {\r\n  const types = {\r\n    'test_part': '–¢–µ—Å—Ç–æ–≤–∞—è —á–∞—Å—Ç—å (1-16)',\r\n    'task19': '–ó–∞–¥–∞–Ω–∏–µ 19',\r\n    'task20': '–ó–∞–¥–∞–Ω–∏–µ 20',\r\n    'task24': '–ó–∞–¥–∞–Ω–∏–µ 24',\r\n    'task25': '–ó–∞–¥–∞–Ω–∏–µ 25',\r\n    'mixed': '–°–º–µ—à–∞–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ',\r\n    'full_exam': '–ü–æ–ª–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ï–ì–≠',\r\n    'custom': '–ö–∞—Å—Ç–æ–º–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ'\r\n  };\r\n\r\n  return types[type] || type;\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞–Ω–∏—è\r\n * @param {string} status\r\n * @returns {string}\r\n */\r\nexport function formatAssignmentStatus(status) {\r\n  const statuses = {\r\n    'active': '–ê–∫—Ç–∏–≤–Ω–æ–µ',\r\n    'completed': '–ó–∞–≤–µ—Ä—à–µ–Ω–æ',\r\n    'expired': '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ',\r\n    'draft': '–ß–µ—Ä–Ω–æ–≤–∏–∫'\r\n  };\r\n\r\n  return statuses[status] || status;\r\n}\r\n\r\n/**\r\n * Pluralize - —Å–∫–ª–æ–Ω–µ–Ω–∏–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö\r\n * @param {number} count\r\n * @param {string} one - –¥–ª—è 1 (–Ω–∞–ø—Ä–∏–º–µ—Ä, \"–∑–∞–¥–∞–Ω–∏–µ\")\r\n * @param {string} few - –¥–ª—è 2-4 (–Ω–∞–ø—Ä–∏–º–µ—Ä, \"–∑–∞–¥–∞–Ω–∏—è\")\r\n * @param {string} many - –¥–ª—è 5+ (–Ω–∞–ø—Ä–∏–º–µ—Ä, \"–∑–∞–¥–∞–Ω–∏–π\")\r\n * @returns {string}\r\n */\r\nexport function pluralize(count, one, few, many) {\r\n  const mod10 = count % 10;\r\n  const mod100 = count % 100;\r\n\r\n  if (mod10 === 1 && mod100 !== 11) {\r\n    return one;\r\n  } else if (mod10 >= 2 && mod10 <= 4 && (mod100 < 10 || mod100 >= 20)) {\r\n    return few;\r\n  } else {\r\n    return many;\r\n  }\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å—á–µ—Ç—á–∏–∫ —Å pluralization\r\n * @param {number} count\r\n * @param {string} one\r\n * @param {string} few\r\n * @param {string} many\r\n * @returns {string} - –Ω–∞–ø—Ä–∏–º–µ—Ä, \"5 –∑–∞–¥–∞–Ω–∏–π\"\r\n */\r\nexport function formatCount(count, one, few, many) {\r\n  return `${formatNumber(count)} ${pluralize(count, one, few, many)}`;\r\n}\r\n\r\n/**\r\n * –û–±—Ä–µ–∑–∞–µ—Ç —Ç–µ–∫—Å—Ç –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã\r\n * @param {string} text\r\n * @param {number} maxLength\r\n * @param {string} suffix - —Å—É—Ñ—Ñ–∏–∫—Å –¥–ª—è –æ–±—Ä–µ–∑–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞\r\n * @returns {string}\r\n */\r\nexport function truncate(text, maxLength, suffix = '...') {\r\n  if (!text || text.length <= maxLength) {\r\n    return text;\r\n  }\r\n\r\n  return text.substring(0, maxLength - suffix.length) + suffix;\r\n}\r\n\r\n/**\r\n * –î–µ–ª–∞–µ—Ç –ø–µ—Ä–≤—É—é –±—É–∫–≤—É –∑–∞–≥–ª–∞–≤–Ω–æ–π\r\n * @param {string} str\r\n * @returns {string}\r\n */\r\nexport function capitalize(str) {\r\n  if (!str) return '';\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –≤ —Å—Ç—Ä–æ–∫—É\r\n * @param {Array} items\r\n * @param {string} separator - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é \", \")\r\n * @param {string} lastSeparator - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–µ—Ä–µ–¥ –ø–æ—Å–ª–µ–¥–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é \" –∏ \")\r\n * @returns {string}\r\n */\r\nexport function formatList(items, separator = ', ', lastSeparator = ' –∏ ') {\r\n  if (!items || items.length === 0) return '';\r\n  if (items.length === 1) return items[0];\r\n\r\n  const allButLast = items.slice(0, -1).join(separator);\r\n  const last = items[items.length - 1];\r\n\r\n  return `${allButLast}${lastSeparator}${last}`;\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥\r\n * @param {number} milliseconds\r\n * @returns {string} - –Ω–∞–ø—Ä–∏–º–µ—Ä, \"2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç\"\r\n */\r\nexport function formatDuration(milliseconds) {\r\n  const seconds = Math.floor(milliseconds / 1000);\r\n  const minutes = Math.floor(seconds / 60);\r\n  const hours = Math.floor(minutes / 60);\r\n  const days = Math.floor(hours / 24);\r\n\r\n  if (days > 0) {\r\n    return `${days} ${pluralize(days, '–¥–µ–Ω—å', '–¥–Ω—è', '–¥–Ω–µ–π')}`;\r\n  } else if (hours > 0) {\r\n    const remainingMinutes = minutes % 60;\r\n    if (remainingMinutes > 0) {\r\n      return `${hours} ${pluralize(hours, '—á–∞—Å', '—á–∞—Å–∞', '—á–∞—Å–æ–≤')} ${remainingMinutes} ${pluralize(remainingMinutes, '–º–∏–Ω—É—Ç–∞', '–º–∏–Ω—É—Ç—ã', '–º–∏–Ω—É—Ç')}`;\r\n    }\r\n    return `${hours} ${pluralize(hours, '—á–∞—Å', '—á–∞—Å–∞', '—á–∞—Å–æ–≤')}`;\r\n  } else if (minutes > 0) {\r\n    return `${minutes} ${pluralize(minutes, '–º–∏–Ω—É—Ç–∞', '–º–∏–Ω—É—Ç—ã', '–º–∏–Ω—É—Ç')}`;\r\n  } else {\r\n    return `${seconds} ${pluralize(seconds, '—Å–µ–∫—É–Ω–¥–∞', '—Å–µ–∫—É–Ω–¥—ã', '—Å–µ–∫—É–Ω–¥')}`;\r\n  }\r\n}\r\n\r\n/**\r\n * –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç HTML\r\n * @param {string} str\r\n * @returns {string}\r\n */\r\nexport function escapeHTML(str) {\r\n  const div = document.createElement('div');\r\n  div.textContent = str;\r\n  return div.innerHTML;\r\n}\r\n\r\n/**\r\n * –ü–∞—Ä—Å–∏—Ç HTML –≤ —Ç–µ–∫—Å—Ç\r\n * @param {string} html\r\n * @returns {string}\r\n */\r\nexport function stripHTML(html) {\r\n  const div = document.createElement('div');\r\n  div.innerHTML = html;\r\n  return div.textContent || div.innerText || '';\r\n}\r\n\r\n/**\r\n * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –±–∞–ª–ª/–æ—Ü–µ–Ω–∫—É\r\n * @param {number} score - –±–∞–ª–ª\r\n * @param {number} maxScore - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª\r\n * @returns {string} - –Ω–∞–ø—Ä–∏–º–µ—Ä, \"15/20 (75%)\"\r\n */\r\nexport function formatScore(score, maxScore) {\r\n  const percent = (score / maxScore) * 100;\r\n  return `${score}/${maxScore} (${formatPercent(percent, 0)})`;\r\n}\r\n\r\n/**\r\n * Debounce —Ñ—É–Ω–∫—Ü–∏—è\r\n * @param {Function} func\r\n * @param {number} wait - –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤ –º—Å\r\n * @returns {Function}\r\n */\r\nexport function debounce(func, wait) {\r\n  let timeout;\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n}\r\n\r\n/**\r\n * Throttle —Ñ—É–Ω–∫—Ü–∏—è\r\n * @param {Function} func\r\n * @param {number} limit - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ –≤ –º—Å\r\n * @returns {Function}\r\n */\r\nexport function throttle(func, limit) {\r\n  let inThrottle;\r\n  return function executedFunction(...args) {\r\n    if (!inThrottle) {\r\n      func(...args);\r\n      inThrottle = true;\r\n      setTimeout(() => inThrottle = false, limit);\r\n    }\r\n  };\r\n}\r\n","/**\r\n * –ü—Ä–æ—Å—Ç–æ–π Event Emitter –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\r\n */\r\nexport class EventEmitter {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ\r\n   * @param {string} event\r\n   * @param {Function} callback\r\n   */\r\n  on(event, callback) {\r\n    if (!this.events[event]) {\r\n      this.events[event] = [];\r\n    }\r\n    this.events[event].push(callback);\r\n  }\r\n\r\n  /**\r\n   * –û—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏—è\r\n   * @param {string} event\r\n   * @param {Function} callback\r\n   */\r\n  off(event, callback) {\r\n    if (!this.events[event]) return;\r\n\r\n    this.events[event] = this.events[event].filter(cb => cb !== callback);\r\n  }\r\n\r\n  /**\r\n   * –í—ã–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ\r\n   * @param {string} event\r\n   * @param {*} data\r\n   */\r\n  emit(event, data) {\r\n    if (!this.events[event]) return;\r\n\r\n    this.events[event].forEach(callback => {\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –æ–¥–∏–Ω —Ä–∞–∑\r\n   * @param {string} event\r\n   * @param {Function} callback\r\n   */\r\n  once(event, callback) {\r\n    const wrapper = (data) => {\r\n      callback(data);\r\n      this.off(event, wrapper);\r\n    };\r\n    this.on(event, wrapper);\r\n  }\r\n}\r\n","/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±—Ä–∞—É–∑–µ—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–∏—Å–∫–æ–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π\r\n */\r\n\r\nimport { api } from '../api.js';\r\nimport { EventEmitter } from '../utils/EventEmitter.js';\r\nimport { debounce } from '../utils/formatters.js';\r\nimport { showToast, showEmptyState, createSpinner } from '../utils/ui.js';\r\n\r\nexport class QuestionBrowser extends EventEmitter {\r\n  constructor(container) {\r\n    super();\r\n    this.container = container;\r\n    this.moduleCode = null;\r\n    this.selectedIds = new Set();\r\n    this.questions = [];\r\n    this.currentPage = 1;\r\n    this.pageSize = 20;\r\n    this.totalQuestions = 0;\r\n    this.searchQuery = '';\r\n  }\r\n\r\n  /**\r\n   * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞\r\n   * @param {string} moduleCode\r\n   * @param {Array} preselectedIds - –ø—Ä–µ–¥–≤—ã–±—Ä–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã\r\n   */\r\n  async init(moduleCode, preselectedIds = []) {\r\n    this.moduleCode = moduleCode;\r\n    this.selectedIds = new Set(preselectedIds);\r\n\r\n    this.render();\r\n    await this.loadQuestions();\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±—Ä–∞—É–∑–µ—Ä–∞\r\n   */\r\n  render() {\r\n    this.container.innerHTML = `\r\n      <div class=\"question-browser\">\r\n        <div class=\"browser-controls\">\r\n          <input type=\"search\"\r\n                 class=\"form-input\"\r\n                 id=\"question-search\"\r\n                 placeholder=\"üîç –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É –≤–æ–ø—Ä–æ—Å–∞...\">\r\n        </div>\r\n\r\n        <div class=\"question-list\" id=\"question-list\">\r\n          ${createSpinner().outerHTML}\r\n        </div>\r\n\r\n        <div class=\"pagination\" id=\"pagination\" style=\"display: none;\">\r\n          <button class=\"btn-secondary\" id=\"prev-page\" disabled>‚Üê –ù–∞–∑–∞–¥</button>\r\n          <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ <span id=\"current-page\">1</span> –∏–∑ <span id=\"total-pages\">1</span></span>\r\n          <button class=\"btn-secondary\" id=\"next-page\">–í–ø–µ—Ä–µ–¥ ‚Üí</button>\r\n        </div>\r\n\r\n        <div class=\"browser-info\">\r\n          –í—ã–±—Ä–∞–Ω–æ –≤–æ–ø—Ä–æ—Å–æ–≤: <strong id=\"selected-count\">0</strong>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    this.setupEventListeners();\r\n  }\r\n\r\n  /**\r\n   * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π\r\n   */\r\n  setupEventListeners() {\r\n    const searchInput = this.container.querySelector('#question-search');\r\n    if (searchInput) {\r\n      searchInput.addEventListener('input', debounce((e) => {\r\n        this.searchQuery = e.target.value;\r\n        this.currentPage = 1;\r\n        this.loadQuestions();\r\n      }, 500));\r\n    }\r\n\r\n    const prevBtn = this.container.querySelector('#prev-page');\r\n    if (prevBtn) {\r\n      prevBtn.addEventListener('click', () => {\r\n        if (this.currentPage > 1) {\r\n          this.currentPage--;\r\n          this.loadQuestions();\r\n        }\r\n      });\r\n    }\r\n\r\n    const nextBtn = this.container.querySelector('#next-page');\r\n    if (nextBtn) {\r\n      nextBtn.addEventListener('click', () => {\r\n        const totalPages = Math.ceil(this.totalQuestions / this.pageSize);\r\n        if (this.currentPage < totalPages) {\r\n          this.currentPage++;\r\n          this.loadQuestions();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã —Å —Å–µ—Ä–≤–µ—Ä–∞\r\n   */\r\n  async loadQuestions() {\r\n    try {\r\n      const response = await api.getQuestions({\r\n        module: this.moduleCode,\r\n        search: this.searchQuery,\r\n        limit: this.pageSize,\r\n        offset: (this.currentPage - 1) * this.pageSize\r\n      });\r\n\r\n      this.questions = response.questions || [];\r\n      this.totalQuestions = response.total || 0;\r\n\r\n      this.renderQuestions();\r\n      this.updatePagination();\r\n\r\n    } catch (error) {\r\n      console.error('Failed to load questions:', error);\r\n      showToast('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤', 'error');\r\n      this.renderError();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n   */\r\n  renderQuestions() {\r\n    const listContainer = this.container.querySelector('#question-list');\r\n    if (!listContainer) return;\r\n\r\n    if (this.questions.length === 0) {\r\n      showEmptyState(listContainer, {\r\n        icon: 'üîç',\r\n        title: '–í–æ–ø—Ä–æ—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã',\r\n        description: this.searchQuery ? '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å' : ''\r\n      });\r\n      return;\r\n    }\r\n\r\n    const html = this.questions.map(q => `\r\n      <div class=\"question-card ${this.selectedIds.has(q.id) ? 'selected' : ''}\"\r\n           data-id=\"${q.id}\">\r\n        <input type=\"checkbox\"\r\n               data-id=\"${q.id}\"\r\n               ${this.selectedIds.has(q.id) ? 'checked' : ''}>\r\n        <div class=\"question-content\">\r\n          <span class=\"question-number\">#${q.number || q.id}</span>\r\n          <p class=\"question-text\">${this.truncateText(q.text, 150)}</p>\r\n          ${q.topic ? `<span class=\"question-topic\">${q.topic}</span>` : ''}\r\n        </div>\r\n      </div>\r\n    `).join('');\r\n\r\n    listContainer.innerHTML = html;\r\n\r\n    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫\r\n    listContainer.querySelectorAll('.question-card').forEach(card => {\r\n      card.addEventListener('click', (e) => {\r\n        const questionId = card.dataset.id;\r\n        const checkbox = card.querySelector('input[type=\"checkbox\"]');\r\n\r\n        // –ï—Å–ª–∏ –∫–ª–∏–∫ –±—ã–ª –Ω–µ –ø–æ checkbox, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –µ–≥–æ\r\n        if (e.target !== checkbox) {\r\n          checkbox.checked = !checkbox.checked;\r\n        }\r\n\r\n        this.toggleSelection(questionId, checkbox.checked);\r\n      });\r\n\r\n      const checkbox = card.querySelector('input[type=\"checkbox\"]');\r\n      checkbox.addEventListener('change', (e) => {\r\n        e.stopPropagation();\r\n        this.toggleSelection(card.dataset.id, e.target.checked);\r\n      });\r\n    });\r\n\r\n    this.updateCounter();\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç –æ—à–∏–±–∫—É\r\n   */\r\n  renderError() {\r\n    const listContainer = this.container.querySelector('#question-list');\r\n    if (!listContainer) return;\r\n\r\n    showEmptyState(listContainer, {\r\n      icon: '‚ö†Ô∏è',\r\n      title: '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏',\r\n      description: '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–æ–ø—Ä–æ—Å—ã'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é\r\n   */\r\n  updatePagination() {\r\n    const paginationContainer = this.container.querySelector('#pagination');\r\n    if (!paginationContainer) return;\r\n\r\n    const totalPages = Math.ceil(this.totalQuestions / this.pageSize);\r\n\r\n    if (totalPages <= 1) {\r\n      paginationContainer.style.display = 'none';\r\n      return;\r\n    }\r\n\r\n    paginationContainer.style.display = 'flex';\r\n\r\n    const currentPageSpan = paginationContainer.querySelector('#current-page');\r\n    const totalPagesSpan = paginationContainer.querySelector('#total-pages');\r\n    const prevBtn = paginationContainer.querySelector('#prev-page');\r\n    const nextBtn = paginationContainer.querySelector('#next-page');\r\n\r\n    if (currentPageSpan) currentPageSpan.textContent = this.currentPage;\r\n    if (totalPagesSpan) totalPagesSpan.textContent = totalPages;\r\n\r\n    if (prevBtn) {\r\n      prevBtn.disabled = this.currentPage === 1;\r\n    }\r\n\r\n    if (nextBtn) {\r\n      nextBtn.disabled = this.currentPage === totalPages;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤—ã–±–æ—Ä –≤–æ–ø—Ä–æ—Å–∞\r\n   * @param {string} questionId\r\n   * @param {boolean} selected\r\n   */\r\n  toggleSelection(questionId, selected) {\r\n    if (selected) {\r\n      this.selectedIds.add(questionId);\r\n    } else {\r\n      this.selectedIds.delete(questionId);\r\n    }\r\n\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º UI –∫–∞—Ä—Ç–æ—á–∫–∏\r\n    const card = this.container.querySelector(`.question-card[data-id=\"${questionId}\"]`);\r\n    if (card) {\r\n      card.classList.toggle('selected', selected);\r\n    }\r\n\r\n    this.updateCounter();\r\n    this.emit('change', Array.from(this.selectedIds));\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤\r\n   */\r\n  updateCounter() {\r\n    const counter = this.container.querySelector('#selected-count');\r\n    if (counter) {\r\n      counter.textContent = this.selectedIds.size;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û–±—Ä–µ–∑–∞–µ—Ç —Ç–µ–∫—Å—Ç\r\n   * @param {string} text\r\n   * @param {number} maxLength\r\n   * @returns {string}\r\n   */\r\n  truncateText(text, maxLength) {\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ ID\r\n   * @returns {Array}\r\n   */\r\n  getSelectedIds() {\r\n    return Array.from(this.selectedIds);\r\n  }\r\n\r\n  /**\r\n   * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ ID\r\n   * @param {Array} ids\r\n   */\r\n  setSelectedIds(ids) {\r\n    this.selectedIds = new Set(ids);\r\n    this.updateCounter();\r\n    this.renderQuestions();\r\n  }\r\n\r\n  /**\r\n   * –û—á–∏—â–∞–µ—Ç –≤—ã–±–æ—Ä\r\n   */\r\n  clearSelection() {\r\n    this.selectedIds.clear();\r\n    this.updateCounter();\r\n    this.renderQuestions();\r\n    this.emit('change', []);\r\n  }\r\n\r\n  /**\r\n   * –£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n   */\r\n  destroy() {\r\n    this.container.innerHTML = '';\r\n  }\r\n}\r\n","/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ —É—á–µ–Ω–∏–∫–æ–≤\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤ —Å –ø–æ–∏—Å–∫–æ–º –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—ã–±–æ—Ä–æ–º\r\n */\r\n\r\nimport { EventEmitter } from '../utils/EventEmitter.js';\r\nimport { debounce } from '../utils/formatters.js';\r\nimport { showEmptyState } from '../utils/ui.js';\r\n\r\nexport class StudentSelector extends EventEmitter {\r\n  constructor(container) {\r\n    super();\r\n    this.container = container;\r\n    this.students = [];\r\n    this.filteredStudents = [];\r\n    this.selectedIds = new Set();\r\n    this.searchQuery = '';\r\n  }\r\n\r\n  /**\r\n   * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\r\n   * @param {Array} students - —Å–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤\r\n   */\r\n  async init(students) {\r\n    this.students = students;\r\n    this.filteredStudents = students;\r\n\r\n    this.render();\r\n    this.renderStudents();\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\r\n   */\r\n  render() {\r\n    this.container.innerHTML = `\r\n      <div class=\"student-selector\">\r\n        <input type=\"search\"\r\n               class=\"form-input mb-md\"\r\n               id=\"student-search\"\r\n               placeholder=\"üîç –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ username...\">\r\n\r\n        <div class=\"quick-actions mb-md\">\r\n          <button class=\"btn-secondary\" id=\"select-all\">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ—Ö</button>\r\n          <button class=\"btn-secondary\" id=\"select-none\">–°–Ω—è—Ç—å –≤—ã–±–æ—Ä</button>\r\n        </div>\r\n\r\n        <div class=\"student-list\" id=\"student-list\"></div>\r\n\r\n        <div class=\"selector-info mt-md\">\r\n          –í—ã–±—Ä–∞–Ω–æ —É—á–µ–Ω–∏–∫–æ–≤: <strong id=\"selected-students-count\">0</strong>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    this.setupEventListeners();\r\n  }\r\n\r\n  /**\r\n   * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π\r\n   */\r\n  setupEventListeners() {\r\n    const searchInput = this.container.querySelector('#student-search');\r\n    if (searchInput) {\r\n      searchInput.addEventListener('input', debounce((e) => {\r\n        this.searchQuery = e.target.value.toLowerCase();\r\n        this.filterStudents();\r\n        this.renderStudents();\r\n      }, 300));\r\n    }\r\n\r\n    const selectAllBtn = this.container.querySelector('#select-all');\r\n    if (selectAllBtn) {\r\n      selectAllBtn.addEventListener('click', () => this.selectAll());\r\n    }\r\n\r\n    const selectNoneBtn = this.container.querySelector('#select-none');\r\n    if (selectNoneBtn) {\r\n      selectNoneBtn.addEventListener('click', () => this.selectNone());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –§–∏–ª—å—Ç—Ä—É–µ—Ç —É—á–µ–Ω–∏–∫–æ–≤ –ø–æ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É\r\n   */\r\n  filterStudents() {\r\n    if (!this.searchQuery) {\r\n      this.filteredStudents = this.students;\r\n      return;\r\n    }\r\n\r\n    this.filteredStudents = this.students.filter(student => {\r\n      const name = (student.name || '').toLowerCase();\r\n      const username = (student.username || '').toLowerCase();\r\n      return name.includes(this.searchQuery) || username.includes(this.searchQuery);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç —Å–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤\r\n   */\r\n  renderStudents() {\r\n    const listContainer = this.container.querySelector('#student-list');\r\n    if (!listContainer) return;\r\n\r\n    if (this.filteredStudents.length === 0) {\r\n      if (this.students.length === 0) {\r\n        showEmptyState(listContainer, {\r\n          icon: 'üë•',\r\n          title: '–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —É—á–µ–Ω–∏–∫–æ–≤',\r\n          description: '–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ —É—á–µ–Ω–∏–∫–æ–≤ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–∞–º —á–µ—Ä–µ–∑ –∫–æ–¥ —É—á–∏—Ç–µ–ª—è'\r\n        });\r\n      } else {\r\n        showEmptyState(listContainer, {\r\n          icon: 'üîç',\r\n          title: '–£—á–µ–Ω–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã',\r\n          description: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å'\r\n        });\r\n      }\r\n      return;\r\n    }\r\n\r\n    const html = this.filteredStudents.map(student => `\r\n      <div class=\"student-card ${this.selectedIds.has(student.user_id) ? 'selected' : ''}\"\r\n           data-id=\"${student.user_id}\">\r\n        <input type=\"checkbox\"\r\n               data-id=\"${student.user_id}\"\r\n               ${this.selectedIds.has(student.user_id) ? 'checked' : ''}>\r\n        <div class=\"student-info\">\r\n          <div class=\"student-name\">${this.escapeHTML(student.name || '–ë–µ–∑—ã–º—è–Ω–Ω—ã–π')}</div>\r\n          ${student.username ? `<div class=\"student-username\">@${student.username}</div>` : ''}\r\n          ${student.stats ? `\r\n            <div class=\"student-stats\">\r\n              <span>–í—ã–ø–æ–ª–Ω–µ–Ω–æ: ${student.stats.completed_assignments || 0}</span>\r\n              <span>–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: ${(student.stats.average_score || 0).toFixed(1)}%</span>\r\n            </div>\r\n          ` : ''}\r\n        </div>\r\n      </div>\r\n    `).join('');\r\n\r\n    listContainer.innerHTML = html;\r\n\r\n    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏\r\n    listContainer.querySelectorAll('.student-card').forEach(card => {\r\n      card.addEventListener('click', (e) => {\r\n        const studentId = parseInt(card.dataset.id);\r\n        const checkbox = card.querySelector('input[type=\"checkbox\"]');\r\n\r\n        if (e.target !== checkbox) {\r\n          checkbox.checked = !checkbox.checked;\r\n        }\r\n\r\n        this.toggleSelection(studentId, checkbox.checked);\r\n      });\r\n\r\n      const checkbox = card.querySelector('input[type=\"checkbox\"]');\r\n      checkbox.addEventListener('change', (e) => {\r\n        e.stopPropagation();\r\n        this.toggleSelection(parseInt(card.dataset.id), e.target.checked);\r\n      });\r\n    });\r\n\r\n    this.updateCounter();\r\n  }\r\n\r\n  /**\r\n   * –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤—ã–±–æ—Ä —É—á–µ–Ω–∏–∫–∞\r\n   * @param {number} studentId\r\n   * @param {boolean} selected\r\n   */\r\n  toggleSelection(studentId, selected) {\r\n    if (selected) {\r\n      this.selectedIds.add(studentId);\r\n    } else {\r\n      this.selectedIds.delete(studentId);\r\n    }\r\n\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º UI –∫–∞—Ä—Ç–æ—á–∫–∏\r\n    const card = this.container.querySelector(`.student-card[data-id=\"${studentId}\"]`);\r\n    if (card) {\r\n      card.classList.toggle('selected', selected);\r\n    }\r\n\r\n    this.updateCounter();\r\n    this.emit('change', Array.from(this.selectedIds));\r\n  }\r\n\r\n  /**\r\n   * –í—ã–±–∏—Ä–∞–µ—Ç –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤ (–∏–∑ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞)\r\n   */\r\n  selectAll() {\r\n    this.filteredStudents.forEach(student => {\r\n      this.selectedIds.add(student.id);\r\n    });\r\n\r\n    this.renderStudents();\r\n    this.emit('change', Array.from(this.selectedIds));\r\n  }\r\n\r\n  /**\r\n   * –°–Ω–∏–º–∞–µ—Ç –≤—ã–±–æ—Ä —Å–æ –≤—Å–µ—Ö\r\n   */\r\n  selectNone() {\r\n    this.selectedIds.clear();\r\n    this.renderStudents();\r\n    this.emit('change', []);\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤\r\n   */\r\n  updateCounter() {\r\n    const counter = this.container.querySelector('#selected-students-count');\r\n    if (counter) {\r\n      counter.textContent = this.selectedIds.size;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ ID\r\n   * @returns {Array}\r\n   */\r\n  getSelected() {\r\n    return Array.from(this.selectedIds);\r\n  }\r\n\r\n  /**\r\n   * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ ID\r\n   * @param {Array} ids\r\n   */\r\n  setSelected(ids) {\r\n    this.selectedIds = new Set(ids);\r\n    this.renderStudents();\r\n    this.emit('change', Array.from(this.selectedIds));\r\n  }\r\n\r\n  /**\r\n   * –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç HTML\r\n   * @param {string} str\r\n   * @returns {string}\r\n   */\r\n  escapeHTML(str) {\r\n    const div = document.createElement('div');\r\n    div.textContent = str;\r\n    return div.innerHTML;\r\n  }\r\n\r\n  /**\r\n   * –£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n   */\r\n  destroy() {\r\n    this.container.innerHTML = '';\r\n  }\r\n}\r\n","/**\r\n * –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–¥–∞–Ω–∏—è\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥ –∑–∞–¥–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π\r\n */\r\n\r\nimport { formatDate, formatAssignmentType, formatCount } from '../utils/formatters.js';\r\nimport { hideModal, showModal } from '../utils/ui.js';\r\n\r\nexport class PreviewModal {\r\n  constructor(modalElement) {\r\n    this.modal = modalElement;\r\n    this.state = null;\r\n    this.assignmentData = null;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä\r\n   * @param {Object} state - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã\r\n   * @param {Object} assignmentData - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏\r\n   */\r\n  show(state, assignmentData) {\r\n    this.state = state;\r\n    this.assignmentData = assignmentData;\r\n\r\n    this.render();\r\n    showModal(this.modal.id);\r\n    this.setupEventListeners();\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞\r\n   */\r\n  render() {\r\n    const body = this.modal.querySelector('.modal-body');\r\n    if (!body) return;\r\n\r\n    const {\r\n      title,\r\n      description,\r\n      assignmentType,\r\n      studentIds,\r\n      modules,\r\n      deadline\r\n    } = this.assignmentData;\r\n\r\n    // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n    const totalQuestions = this.calculateTotalQuestions(modules);\r\n\r\n    body.innerHTML = `\r\n      <div class=\"preview-content\">\r\n        <h3 class=\"mb-md\">${this.escapeHTML(title)}</h3>\r\n\r\n        ${description ? `<p class=\"text-muted mb-lg\">${this.escapeHTML(description)}</p>` : ''}\r\n\r\n        <div class=\"preview-info mb-lg\">\r\n          <div class=\"info-item\">\r\n            <span class=\"label\">–¢–∏–ø –∑–∞–¥–∞–Ω–∏—è</span>\r\n            <div class=\"value\">${formatAssignmentType(assignmentType)}</div>\r\n          </div>\r\n\r\n          <div class=\"info-item\">\r\n            <span class=\"label\">–í–æ–ø—Ä–æ—Å–æ–≤</span>\r\n            <div class=\"value\">${totalQuestions}</div>\r\n          </div>\r\n\r\n          <div class=\"info-item\">\r\n            <span class=\"label\">–£—á–µ–Ω–∏–∫–æ–≤</span>\r\n            <div class=\"value\">${formatCount(studentIds.length, '—É—á–µ–Ω–∏–∫', '—É—á–µ–Ω–∏–∫–∞', '—É—á–µ–Ω–∏–∫–æ–≤')}</div>\r\n          </div>\r\n\r\n          <div class=\"info-item\">\r\n            <span class=\"label\">–î–µ–¥–ª–∞–π–Ω</span>\r\n            <div class=\"value\">${deadline ? formatDate(deadline) : '–ë–µ–∑ –¥–µ–¥–ª–∞–π–Ω–∞'}</div>\r\n          </div>\r\n        </div>\r\n\r\n        ${this.renderModulesInfo(modules, assignmentType)}\r\n\r\n        <div class=\"preview-warning mt-lg\">\r\n          <p class=\"text-muted\" style=\"font-size: 0.9rem;\">\r\n            ‚ÑπÔ∏è –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—Å–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–º —É—á–µ–Ω–∏–∫–∞–º.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–æ–¥—É–ª—è—Ö\r\n   * @param {Array} modules\r\n   * @param {string} assignmentType\r\n   * @returns {string}\r\n   */\r\n  renderModulesInfo(modules, assignmentType) {\r\n    if (assignmentType === 'full_exam') {\r\n      return `\r\n        <div class=\"preview-modules\">\r\n          <h4 class=\"mb-md\">–°–æ—Å—Ç–∞–≤ –∑–∞–¥–∞–Ω–∏—è:</h4>\r\n          <p class=\"text-muted\">–ü–æ–ª–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ï–ì–≠ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (20 –∑–∞–¥–∞–Ω–∏–π).</p>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    if (!modules || modules.length === 0) {\r\n      return '';\r\n    }\r\n\r\n    const modulesHTML = modules.map(module => {\r\n      let details = '';\r\n\r\n      if (module.selection_mode === 'all') {\r\n        details = '–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã';\r\n      } else if (module.selection_mode === 'random') {\r\n        details = `${module.question_count} —Å–ª—É—á–∞–π–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤`;\r\n      } else if (module.selection_mode === 'specific') {\r\n        details = `${module.question_ids.length} –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤`;\r\n      }\r\n\r\n      return `\r\n        <li>\r\n          <strong>${this.getModuleName(module.module_code)}</strong>: ${details}\r\n        </li>\r\n      `;\r\n    }).join('');\r\n\r\n    return `\r\n      <div class=\"preview-modules\">\r\n        <h4 class=\"mb-md\">–°–æ—Å—Ç–∞–≤ –∑–∞–¥–∞–Ω–∏—è:</h4>\r\n        <ul class=\"preview-modules-list\">\r\n          ${modulesHTML}\r\n        </ul>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n   * @param {Array} modules\r\n   * @returns {number}\r\n   */\r\n  calculateTotalQuestions(modules) {\r\n    if (!modules || modules.length === 0) return 0;\r\n\r\n    return modules.reduce((total, module) => {\r\n      if (module.selection_mode === 'specific') {\r\n        return total + module.question_ids.length;\r\n      } else if (module.selection_mode === 'random') {\r\n        return total + (module.question_count || 0);\r\n      } else {\r\n        // –î–ª—è —Ä–µ–∂–∏–º–∞ \"all\" –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑ –º–æ–¥—É–ª—è\r\n        // –í —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n        return total;\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  /**\r\n   * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π\r\n   */\r\n  setupEventListeners() {\r\n    const closeBtn = this.modal.querySelector('#preview-close-btn');\r\n    if (closeBtn) {\r\n      closeBtn.onclick = () => this.hide();\r\n    }\r\n\r\n    const editBtn = this.modal.querySelector('#preview-edit-btn');\r\n    if (editBtn) {\r\n      editBtn.onclick = () => this.hide();\r\n    }\r\n\r\n    // –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ main.js\r\n  }\r\n\r\n  /**\r\n   * –°–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n   */\r\n  hide() {\r\n    hideModal(this.modal.id);\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è\r\n   * @param {string} code\r\n   * @returns {string}\r\n   */\r\n  getModuleName(code) {\r\n    const names = {\r\n      'test_part': 'üìù –¢–µ—Å—Ç–æ–≤–∞—è —á–∞—Å—Ç—å (1-16)',\r\n      'task19': 'üí° –ó–∞–¥–∞–Ω–∏–µ 19',\r\n      'task20': '‚öôÔ∏è –ó–∞–¥–∞–Ω–∏–µ 20',\r\n      'task24': 'üìä –ó–∞–¥–∞–Ω–∏–µ 24',\r\n      'task25': 'üíª –ó–∞–¥–∞–Ω–∏–µ 25'\r\n    };\r\n    return names[code] || code;\r\n  }\r\n\r\n  /**\r\n   * –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç HTML\r\n   * @param {string} str\r\n   * @returns {string}\r\n   */\r\n  escapeHTML(str) {\r\n    const div = document.createElement('div');\r\n    div.textContent = str;\r\n    return div.innerHTML;\r\n  }\r\n\r\n  /**\r\n   * –£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n   */\r\n  destroy() {\r\n    this.hide();\r\n  }\r\n}\r\n","/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è\r\n * –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –≤—Å–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è\r\n */\r\n\r\nimport { api } from '../api.js';\r\nimport { validateAssignmentForm, attachLiveValidation, titleValidator, descriptionValidator } from '../utils/validation.js';\r\nimport { showToast, updateProgress, toggle, showEmptyState } from '../utils/ui.js';\r\nimport { draftManager } from '../utils/storage.js';\r\nimport { debounce } from '../utils/formatters.js';\r\nimport { QuestionBrowser } from './QuestionBrowser.js';\r\nimport { StudentSelector } from './StudentSelector.js';\r\nimport { PreviewModal } from './PreviewModal.js';\r\n\r\nexport class AssignmentForm {\r\n  constructor(container) {\r\n    this.container = container;\r\n\r\n    // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã\r\n    this.state = {\r\n      assignmentType: null,\r\n      modules: [],\r\n      title: '',\r\n      description: '',\r\n      studentIds: [],\r\n      deadline: null\r\n    };\r\n\r\n    // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã\r\n    this.questionBrowser = null;\r\n    this.studentSelector = null;\r\n    this.previewModal = null;\r\n\r\n    // –§–ª–∞–≥–∏\r\n    this.initialized = false;\r\n    this.hasChanges = false;\r\n    this.autoSaveInterval = null;\r\n\r\n    // –î–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞\r\n    this.availableModules = [];\r\n    this.students = [];\r\n  }\r\n\r\n  /**\r\n   * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\r\n   */\r\n  async init() {\r\n    console.log('Initializing AssignmentForm...');\r\n\r\n    try {\r\n      // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞\r\n      await this.loadData();\r\n\r\n      // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π\r\n      this.setupEventListeners();\r\n\r\n      // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏—é\r\n      this.setupValidation();\r\n\r\n      // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ\r\n      this.startAutoSave();\r\n\r\n      // –°–æ–∑–¥–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã\r\n      this.studentSelector = new StudentSelector(\r\n        document.getElementById('student-selector-content')\r\n      );\r\n      await this.studentSelector.init(this.students);\r\n\r\n      // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è StudentSelector –ü–û–°–õ–ï –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è\r\n      this.studentSelector.on('change', (selectedIds) => {\r\n        this.state.studentIds = selectedIds;\r\n        console.log('[AssignmentForm] Students changed:', selectedIds);\r\n        this.markAsChanged();\r\n        this.updateCreateButton();\r\n      });\r\n\r\n      this.previewModal = new PreviewModal(\r\n        document.getElementById('preview-modal')\r\n      );\r\n\r\n      this.initialized = true;\r\n      console.log('AssignmentForm initialized');\r\n\r\n    } catch (error) {\r\n      console.error('AssignmentForm initialization error:', error);\r\n      showToast('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã', 'error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞\r\n   */\r\n  async loadData() {\r\n    try {\r\n      // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª–∏ –∏ —É—á–µ–Ω–∏–∫–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ\r\n      const [modulesResponse, studentsResponse] = await Promise.all([\r\n        api.getModules(),\r\n        api.getStudents({ limit: 100 })\r\n      ]);\r\n\r\n      this.availableModules = modulesResponse.modules || [];\r\n      this.students = studentsResponse.students || [];\r\n\r\n      console.log('Data loaded:', {\r\n        modules: this.availableModules.length,\r\n        students: this.students.length\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Failed to load data:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π\r\n   */\r\n  setupEventListeners() {\r\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∑–∞–¥–∞–Ω–∏—è\r\n    const typeCards = this.container.querySelectorAll('.type-card');\r\n    typeCards.forEach(card => {\r\n      card.addEventListener('click', () => {\r\n        const type = card.dataset.type;\r\n        this.handleTypeSelection(type);\r\n      });\r\n    });\r\n\r\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã\r\n    const titleInput = document.getElementById('assignment-title');\r\n    if (titleInput) {\r\n      titleInput.addEventListener('input', (e) => {\r\n        this.state.title = e.target.value;\r\n        this.markAsChanged();\r\n      });\r\n    }\r\n\r\n    const descriptionInput = document.getElementById('assignment-description');\r\n    if (descriptionInput) {\r\n      descriptionInput.addEventListener('input', (e) => {\r\n        this.state.description = e.target.value;\r\n        this.markAsChanged();\r\n      });\r\n    }\r\n\r\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–µ–¥–ª–∞–π–Ω–∞\r\n    const deadlineQuickButtons = document.querySelectorAll('.deadline-quick-btn');\r\n    deadlineQuickButtons.forEach(btn => {\r\n      btn.addEventListener('click', () => {\r\n        const days = parseInt(btn.dataset.days);\r\n        this.setDeadlineFromDays(days);\r\n        this.updateDeadlineButtons(btn);\r\n      });\r\n    });\r\n\r\n    const deadlineInput = document.getElementById('deadline-input');\r\n    if (deadlineInput) {\r\n      deadlineInput.addEventListener('change', (e) => {\r\n        this.state.deadline = e.target.value;\r\n        this.markAsChanged();\r\n        this.updateDeadlineButtons(null);\r\n      });\r\n    }\r\n\r\n    const noDeadlineCheckbox = document.getElementById('no-deadline');\r\n    if (noDeadlineCheckbox) {\r\n      noDeadlineCheckbox.addEventListener('change', (e) => {\r\n        if (e.target.checked) {\r\n          this.state.deadline = null;\r\n          if (deadlineInput) {\r\n            deadlineInput.value = '';\r\n            deadlineInput.disabled = true;\r\n          }\r\n          this.updateDeadlineButtons(null);\r\n        } else {\r\n          if (deadlineInput) {\r\n            deadlineInput.disabled = false;\r\n          }\r\n        }\r\n        this.markAsChanged();\r\n      });\r\n    }\r\n\r\n    // –£–î–ê–õ–ï–ù–û: –ü–æ–¥–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ init() –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è studentSelector\r\n  }\r\n\r\n  /**\r\n   * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π\r\n   */\r\n  setupValidation() {\r\n    const titleInput = document.getElementById('assignment-title');\r\n    if (titleInput) {\r\n      attachLiveValidation(titleInput, titleValidator);\r\n    }\r\n\r\n    const descriptionInput = document.getElementById('assignment-description');\r\n    if (descriptionInput) {\r\n      attachLiveValidation(descriptionInput, descriptionValidator);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∑–∞–¥–∞–Ω–∏—è\r\n   * @param {string} type\r\n   */\r\n  async handleTypeSelection(type) {\r\n    console.log('Type selected:', type);\r\n\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º UI\r\n    const typeCards = this.container.querySelectorAll('.type-card');\r\n    typeCards.forEach(card => {\r\n      card.classList.toggle('selected', card.dataset.type === type);\r\n    });\r\n\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ\r\n    this.state.assignmentType = type;\r\n    this.markAsChanged();\r\n\r\n    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ü–∏–∏\r\n    toggle('#question-selection-section', true);\r\n    toggle('#details-section', true);\r\n    toggle('#students-section', true);\r\n    toggle('#deadline-section', true);\r\n\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å\r\n    updateProgress(2);\r\n\r\n    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n    await this.loadQuestionSelection(type);\r\n\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å–æ–∑–¥–∞–Ω–∏—è\r\n    this.updateCreateButton();\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n   * @param {string} type\r\n   */\r\n  async loadQuestionSelection(type) {\r\n    const container = document.getElementById('question-selection-content');\r\n    if (!container) return;\r\n\r\n    try {\r\n      // –î–ª—è —Å–º–µ—à–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±–æ—Ä –º–æ–¥—É–ª–µ–π\r\n      if (type === 'mixed') {\r\n        await this.renderModuleSelection(container);\r\n      }\r\n      // –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤\r\n      else if (['test_part', 'task19', 'task20', 'task24', 'task25'].includes(type)) {\r\n        await this.renderQuestionBrowser(container, type);\r\n      }\r\n      // –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)\r\n      else if (type === 'full_exam') {\r\n        container.innerHTML = `\r\n          <p class=\"text-muted\">–ü–æ–ª–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ï–ì–≠ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>\r\n        `;\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Failed to load question selection:', error);\r\n      showToast('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤', 'error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç –≤—ã–±–æ—Ä –º–æ–¥—É–ª–µ–π (–¥–ª—è —Å–º–µ—à–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞)\r\n   * @param {HTMLElement} container\r\n   */\r\n  async renderModuleSelection(container) {\r\n    container.innerHTML = `\r\n      <div class=\"module-selector\" id=\"module-selector\">\r\n        <p class=\"mb-md\">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥—É–ª–∏ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤ –∑–∞–¥–∞–Ω–∏–µ:</p>\r\n        <div id=\"module-list\"></div>\r\n      </div>\r\n    `;\r\n\r\n    const moduleList = container.querySelector('#module-list');\r\n\r\n    this.availableModules.forEach(module => {\r\n      const moduleItem = document.createElement('div');\r\n      moduleItem.className = 'module-item';\r\n      moduleItem.dataset.moduleCode = module.code;\r\n\r\n      moduleItem.innerHTML = `\r\n        <div class=\"module-header\">\r\n          <input type=\"checkbox\" id=\"module-${module.code}\" value=\"${module.code}\">\r\n          <label for=\"module-${module.code}\" class=\"module-title\">${module.name}</label>\r\n          <span class=\"module-count\">${module.total_questions} –≤–æ–ø—Ä–æ—Å–æ–≤</span>\r\n        </div>\r\n        <div class=\"module-details\">\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\">–°–ø–æ—Å–æ–± –æ—Ç–±–æ—Ä–∞:</label>\r\n            <select class=\"form-input module-selection-mode\" data-module=\"${module.code}\">\r\n              <option value=\"random\">–°–ª—É—á–∞–π–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</option>\r\n              <option value=\"specific\">–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</option>\r\n              <option value=\"all\">–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group module-count-group\">\r\n            <label class=\"form-label\">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤:</label>\r\n            <input type=\"number\" class=\"form-input module-question-count\"\r\n                   data-module=\"${module.code}\"\r\n                   min=\"1\" max=\"${module.total_questions}\"\r\n                   placeholder=\"–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ\">\r\n          </div>\r\n          <div class=\"form-group module-specific-group\" style=\"display: none;\">\r\n            <button class=\"btn-secondary browse-questions-btn\"\r\n                    data-module=\"${module.code}\">\r\n              –í—ã–±—Ä–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã\r\n            </button>\r\n            <div class=\"selected-questions-info\" data-module=\"${module.code}\">\r\n              –í—ã–±—Ä–∞–Ω–æ: <strong>0</strong> –≤–æ–ø—Ä–æ—Å–æ–≤\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n      moduleList.appendChild(moduleItem);\r\n    });\r\n\r\n    // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–æ–¥—É–ª–µ–π\r\n    this.setupModuleEventListeners(container);\r\n  }\r\n\r\n  /**\r\n   * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–æ–¥—É–ª–µ–π\r\n   * @param {HTMLElement} container\r\n   */\r\n  setupModuleEventListeners(container) {\r\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ checkbox –º–æ–¥—É–ª–µ–π\r\n    container.querySelectorAll('.module-item input[type=\"checkbox\"]').forEach(checkbox => {\r\n      checkbox.addEventListener('change', (e) => {\r\n        const moduleItem = e.target.closest('.module-item');\r\n        const moduleCode = e.target.value;\r\n\r\n        if (e.target.checked) {\r\n          moduleItem.classList.add('selected');\r\n          this.addModule(moduleCode);\r\n        } else {\r\n          moduleItem.classList.remove('selected');\r\n          this.removeModule(moduleCode);\r\n        }\r\n\r\n        this.markAsChanged();\r\n        this.updateCreateButton();\r\n      });\r\n    });\r\n\r\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ –æ—Ç–±–æ—Ä–∞\r\n    container.querySelectorAll('.module-selection-mode').forEach(select => {\r\n      select.addEventListener('change', (e) => {\r\n        const moduleCode = e.target.dataset.module;\r\n        const mode = e.target.value;\r\n        const moduleItem = e.target.closest('.module-item');\r\n\r\n        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è\r\n        const countGroup = moduleItem.querySelector('.module-count-group');\r\n        const specificGroup = moduleItem.querySelector('.module-specific-group');\r\n\r\n        if (mode === 'specific') {\r\n          countGroup.style.display = 'none';\r\n          specificGroup.style.display = 'block';\r\n        } else if (mode === 'all') {\r\n          countGroup.style.display = 'none';\r\n          specificGroup.style.display = 'none';\r\n        } else {\r\n          countGroup.style.display = 'block';\r\n          specificGroup.style.display = 'none';\r\n        }\r\n\r\n        this.updateModuleSelectionMode(moduleCode, mode);\r\n        this.markAsChanged();\r\n      });\r\n    });\r\n\r\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–≤–æ–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n    container.querySelectorAll('.module-question-count').forEach(input => {\r\n      input.addEventListener('input', debounce((e) => {\r\n        const moduleCode = e.target.dataset.module;\r\n        const count = parseInt(e.target.value);\r\n\r\n        this.updateModuleQuestionCount(moduleCode, count);\r\n        this.markAsChanged();\r\n      }, 500));\r\n    });\r\n\r\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–æ–∫ –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤\r\n    container.querySelectorAll('.browse-questions-btn').forEach(btn => {\r\n      btn.addEventListener('click', async (e) => {\r\n        const moduleCode = e.target.dataset.module;\r\n        await this.openQuestionBrowser(moduleCode);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * –î–æ–±–∞–≤–ª—è–µ—Ç –º–æ–¥—É–ª—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ\r\n   * @param {string} moduleCode\r\n   */\r\n  addModule(moduleCode) {\r\n    const existing = this.state.modules.find(m => m.module_code === moduleCode);\r\n    if (!existing) {\r\n      this.state.modules.push({\r\n        module_code: moduleCode,\r\n        selection_mode: 'random',\r\n        question_count: null,\r\n        question_ids: []\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –£–¥–∞–ª—è–µ—Ç –º–æ–¥—É–ª—å –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è\r\n   * @param {string} moduleCode\r\n   */\r\n  removeModule(moduleCode) {\r\n    this.state.modules = this.state.modules.filter(m => m.module_code !== moduleCode);\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–∂–∏–º –æ—Ç–±–æ—Ä–∞ –¥–ª—è –º–æ–¥—É–ª—è\r\n   * @param {string} moduleCode\r\n   * @param {string} mode\r\n   */\r\n  updateModuleSelectionMode(moduleCode, mode) {\r\n    const module = this.state.modules.find(m => m.module_code === moduleCode);\r\n    if (module) {\r\n      module.selection_mode = mode;\r\n\r\n      // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞\r\n      if (mode === 'all') {\r\n        module.question_count = null;\r\n        module.question_ids = [];\r\n      } else if (mode === 'random') {\r\n        module.question_ids = [];\r\n      } else if (mode === 'specific') {\r\n        module.question_count = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –º–æ–¥—É–ª—è\r\n   * @param {string} moduleCode\r\n   * @param {number} count\r\n   */\r\n  updateModuleQuestionCount(moduleCode, count) {\r\n    const module = this.state.modules.find(m => m.module_code === moduleCode);\r\n    if (module) {\r\n      module.question_count = count;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –º–æ–¥—É–ª—è\r\n   * @param {string} moduleCode\r\n   */\r\n  async openQuestionBrowser(moduleCode) {\r\n    const module = this.state.modules.find(m => m.module_code === moduleCode);\r\n    if (!module) return;\r\n\r\n    try {\r\n      // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –±—Ä–∞—É–∑–µ—Ä–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤\r\n      const modal = document.createElement('div');\r\n      modal.className = 'modal';\r\n      modal.style.display = 'flex';\r\n\r\n      modal.innerHTML = `\r\n        <div class=\"modal-content\" style=\"max-width: 800px;\">\r\n          <div class=\"modal-header\">\r\n            <h2>–í—ã–±–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤: ${this.getModuleName(moduleCode)}</h2>\r\n            <button class=\"close-btn\" id=\"browser-modal-close\">√ó</button>\r\n          </div>\r\n          <div class=\"modal-body\" id=\"browser-modal-body\"></div>\r\n          <div class=\"modal-footer\">\r\n            <button class=\"btn-secondary\" id=\"browser-cancel\">–û—Ç–º–µ–Ω–∞</button>\r\n            <button class=\"btn-primary\" id=\"browser-confirm\">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n      document.body.appendChild(modal);\r\n\r\n      const browserContainer = modal.querySelector('#browser-modal-body');\r\n      const questionBrowser = new QuestionBrowser(browserContainer);\r\n      await questionBrowser.init(moduleCode, module.question_ids);\r\n\r\n      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫\r\n      modal.querySelector('#browser-modal-close').addEventListener('click', () => {\r\n        document.body.removeChild(modal);\r\n      });\r\n\r\n      modal.querySelector('#browser-cancel').addEventListener('click', () => {\r\n        document.body.removeChild(modal);\r\n      });\r\n\r\n      modal.querySelector('#browser-confirm').addEventListener('click', () => {\r\n        const selectedIds = questionBrowser.getSelectedIds();\r\n        module.question_ids = selectedIds;\r\n\r\n        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫\r\n        const infoElement = document.querySelector(`.selected-questions-info[data-module=\"${moduleCode}\"]`);\r\n        if (infoElement) {\r\n          infoElement.innerHTML = `–í—ã–±—Ä–∞–Ω–æ: <strong>${selectedIds.length}</strong> ${this.pluralize(selectedIds.length)}`;\r\n        }\r\n\r\n        document.body.removeChild(modal);\r\n        this.markAsChanged();\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Failed to open question browser:', error);\r\n      showToast('–û—à–∏–±–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤', 'error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –†–µ–Ω–¥–µ—Ä–∏—Ç –±—Ä–∞—É–∑–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è\r\n   * @param {HTMLElement} container\r\n   * @param {string} moduleCode\r\n   */\r\n  async renderQuestionBrowser(container, moduleCode) {\r\n    this.questionBrowser = new QuestionBrowser(container);\r\n    await this.questionBrowser.init(moduleCode);\r\n\r\n    // –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≤–æ–ø—Ä–æ—Å–æ–≤\r\n    // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞\r\n    this.questionBrowser.on('change', (selectedIds) => {\r\n      console.log('Questions selected:', selectedIds.length);\r\n\r\n      // –ò—â–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å –ø–æ module_code\r\n      let module = this.state.modules.find(m => m.module_code === moduleCode);\r\n\r\n      if (!module) {\r\n        // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å\r\n        module = {\r\n          module_code: moduleCode,\r\n          selection_mode: 'specific',\r\n          question_count: null,\r\n          question_ids: selectedIds\r\n        };\r\n        this.state.modules.push(module);\r\n        console.log('Created new module:', module);\r\n      } else {\r\n        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å\r\n        module.selection_mode = 'specific';\r\n        module.question_ids = selectedIds;\r\n        module.question_count = null;\r\n        console.log('Updated existing module:', module);\r\n      }\r\n\r\n      this.markAsChanged();\r\n      this.updateCreateButton();\r\n      console.log('Current state.modules:', this.state.modules);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–µ–¥–ª–∞–π–Ω –Ω–∞ N –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥\r\n   * @param {number} days\r\n   */\r\n  setDeadlineFromDays(days) {\r\n    const deadline = new Date();\r\n    deadline.setDate(deadline.getDate() + days);\r\n    deadline.setHours(23, 59, 0, 0);\r\n\r\n    const deadlineInput = document.getElementById('deadline-input');\r\n    if (deadlineInput) {\r\n      // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–ª—è datetime-local input\r\n      const formatted = deadline.toISOString().slice(0, 16);\r\n      deadlineInput.value = formatted;\r\n      deadlineInput.disabled = false;\r\n    }\r\n\r\n    const noDeadlineCheckbox = document.getElementById('no-deadline');\r\n    if (noDeadlineCheckbox) {\r\n      noDeadlineCheckbox.checked = false;\r\n    }\r\n\r\n    this.state.deadline = deadline.toISOString();\r\n    this.markAsChanged();\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –¥–µ–¥–ª–∞–π–Ω–∞\r\n   * @param {HTMLElement|null} activeBtn\r\n   */\r\n  updateDeadlineButtons(activeBtn) {\r\n    document.querySelectorAll('.deadline-quick-btn').forEach(btn => {\r\n      btn.classList.toggle('selected', btn === activeBtn);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º—É\r\n   * @returns {Object} - –æ–±—ä–µ–∫—Ç —Å –æ—à–∏–±–∫–∞–º–∏\r\n   */\r\n  validate() {\r\n    const errors = validateAssignmentForm(this.state);\r\n\r\n    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –≤ UI\r\n    this.showErrors(errors);\r\n\r\n    return errors;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ UI\r\n   * @param {Object} errors\r\n   */\r\n  showErrors(errors) {\r\n    // –û—á–∏—â–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏\r\n    document.querySelectorAll('.form-error.show').forEach(el => {\r\n      el.classList.remove('show');\r\n    });\r\n    document.querySelectorAll('.form-input.error').forEach(el => {\r\n      el.classList.remove('error');\r\n    });\r\n\r\n    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤—ã–µ –æ—à–∏–±–∫–∏\r\n    Object.entries(errors).forEach(([field, message]) => {\r\n      let input = null;\r\n\r\n      if (field === 'title') {\r\n        input = document.getElementById('assignment-title');\r\n      } else if (field === 'description') {\r\n        input = document.getElementById('assignment-description');\r\n      } else if (field === 'deadline') {\r\n        input = document.getElementById('deadline-input');\r\n      }\r\n\r\n      if (input) {\r\n        input.classList.add('error');\r\n        const errorElement = input.parentElement?.querySelector('.form-error');\r\n        if (errorElement) {\r\n          errorElement.textContent = message;\r\n          errorElement.classList.add('show');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è\r\n   */\r\n  updateCreateButton() {\r\n    const createBtn = document.getElementById('create-btn');\r\n    const previewBtn = document.getElementById('preview-btn');\r\n\r\n    if (!createBtn || !previewBtn) return;\r\n\r\n    const isValid = this.isFormValid();\r\n\r\n    // –û—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ\r\n    console.log('[updateCreateButton] isValid:', isValid);\r\n    console.log('[updateCreateButton] state:', {\r\n      assignmentType: this.state.assignmentType,\r\n      title: this.state.title,\r\n      titleLength: this.state.title?.trim()?.length,\r\n      studentIds: this.state.studentIds,\r\n      studentIdsLength: this.state.studentIds?.length,\r\n      modules: this.state.modules,\r\n      modulesLength: this.state.modules?.length\r\n    });\r\n\r\n    createBtn.disabled = !isValid;\r\n    previewBtn.disabled = !isValid;\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤–∞–ª–∏–¥–Ω–∞ –ª–∏ —Ñ–æ—Ä–º–∞ (–±–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)\r\n   * @returns {boolean}\r\n   */\r\n  isFormValid() {\r\n    // –ò–°–ü–†–ê–í–õ–ï–ù–û: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç–∏–ø–æ–≤ –∑–∞–¥–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –∏—Ö\r\n\r\n    // –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏\r\n    if (!this.state.assignmentType) return false;\r\n    if (this.state.title.trim().length < 3) return false;\r\n    if (this.state.studentIds.length === 0) return false;\r\n\r\n    // –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç–∏–ø–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Ö —Ç—Ä–µ–±—É—é—Ç\r\n    const needsModules = ['task19', 'task20', 'task24', 'task25', 'mixed', 'test_part'].includes(this.state.assignmentType);\r\n\r\n    if (needsModules) {\r\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –º–æ–¥—É–ª–µ–π\r\n      if (!this.state.modules || this.state.modules.length === 0) {\r\n        return false;\r\n      }\r\n\r\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã\r\n      for (const module of this.state.modules) {\r\n        if (module.selection_mode === 'specific') {\r\n          if (!module.question_ids || module.question_ids.length === 0) {\r\n            return false;\r\n          }\r\n        } else if (module.selection_mode === 'random') {\r\n          if (!module.question_count || module.question_count < 1) {\r\n            return false;\r\n          }\r\n        }\r\n        // –î–ª—è 'all' –º–æ–¥—É–ª—å –≤–∞–ª–∏–¥–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞–Ω–∏—è\r\n   */\r\n  showPreview() {\r\n    if (this.previewModal) {\r\n      this.previewModal.show(this.state, this.getAssignmentData());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä\r\n   * @returns {Object}\r\n   */\r\n  getAssignmentData() {\r\n    const data = {\r\n      assignment_type: this.state.assignmentType,\r\n      title: this.state.title.trim(),\r\n      description: this.state.description.trim() || null,\r\n      deadline: this.state.deadline || null,\r\n      student_ids: this.state.studentIds,\r\n      modules: this.state.modules\r\n    };\r\n\r\n    // –î–æ–±–∞–≤–ª—è–µ–º camelCase –≤–µ—Ä—Å–∏–∏ –¥–ª—è PreviewModal\r\n    data.assignmentType = data.assignment_type;\r\n    data.studentIds = data.student_ids;\r\n\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã\r\n   * @returns {Object}\r\n   */\r\n  getState() {\r\n    return { ...this.state };\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Ñ–æ—Ä–º—É\r\n   * @param {Object} state\r\n   */\r\n  loadState(state) {\r\n    this.state = { ...state };\r\n\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º UI –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º\r\n    this.updateUIFromState();\r\n  }\r\n\r\n  /**\r\n   * –û–±–Ω–æ–≤–ª—è–µ—Ç UI –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\r\n   */\r\n  updateUIFromState() {\r\n    // –¢–∏–ø –∑–∞–¥–∞–Ω–∏—è\r\n    if (this.state.assignmentType) {\r\n      const typeCard = this.container.querySelector(\r\n        `.type-card[data-type=\"${this.state.assignmentType}\"]`\r\n      );\r\n      if (typeCard) {\r\n        typeCard.click();\r\n      }\r\n    }\r\n\r\n    // –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ\r\n    const titleInput = document.getElementById('assignment-title');\r\n    if (titleInput) {\r\n      titleInput.value = this.state.title;\r\n    }\r\n\r\n    const descriptionInput = document.getElementById('assignment-description');\r\n    if (descriptionInput) {\r\n      descriptionInput.value = this.state.description;\r\n    }\r\n\r\n    // –î–µ–¥–ª–∞–π–Ω\r\n    if (this.state.deadline) {\r\n      const deadlineInput = document.getElementById('deadline-input');\r\n      if (deadlineInput) {\r\n        const formatted = new Date(this.state.deadline).toISOString().slice(0, 16);\r\n        deadlineInput.value = formatted;\r\n      }\r\n    }\r\n\r\n    // –£—á–µ–Ω–∏–∫–∏\r\n    if (this.studentSelector && this.state.studentIds.length > 0) {\r\n      this.studentSelector.setSelected(this.state.studentIds);\r\n    }\r\n\r\n    this.updateCreateButton();\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π\r\n   * @returns {boolean}\r\n   */\r\n  hasUnsavedChanges() {\r\n    return this.hasChanges;\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–º–µ—á–∞–µ—Ç —Ñ–æ—Ä–º—É –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—É—é\r\n   */\r\n  markAsChanged() {\r\n    this.hasChanges = true;\r\n  }\r\n\r\n  /**\r\n   * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π\r\n   */\r\n  resetChanges() {\r\n    this.hasChanges = false;\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞\r\n   */\r\n  startAutoSave() {\r\n    this.autoSaveInterval = setInterval(() => {\r\n      if (this.hasChanges && this.isFormValid()) {\r\n        draftManager.saveCurrent(this.state);\r\n        console.log('Draft auto-saved');\r\n      }\r\n    }, 30000); // –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥\r\n  }\r\n\r\n  /**\r\n   * –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ\r\n   */\r\n  stopAutoSave() {\r\n    if (this.autoSaveInterval) {\r\n      clearInterval(this.autoSaveInterval);\r\n      this.autoSaveInterval = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è –ø–æ –∫–æ–¥—É\r\n   * @param {string} code\r\n   * @returns {string}\r\n   */\r\n  getModuleName(code) {\r\n    const module = this.availableModules.find(m => m.code === code);\r\n    return module ? module.name : code;\r\n  }\r\n\r\n  /**\r\n   * –°–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞ \"–≤–æ–ø—Ä–æ—Å\"\r\n   * @param {number} count\r\n   * @returns {string}\r\n   */\r\n  pluralize(count) {\r\n    const mod10 = count % 10;\r\n    const mod100 = count % 100;\r\n\r\n    if (mod10 === 1 && mod100 !== 11) {\r\n      return '–≤–æ–ø—Ä–æ—Å';\r\n    } else if (mod10 >= 2 && mod10 <= 4 && (mod100 < 10 || mod100 >= 20)) {\r\n      return '–≤–æ–ø—Ä–æ—Å–∞';\r\n    } else {\r\n      return '–≤–æ–ø—Ä–æ—Å–æ–≤';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û—á–∏—â–∞–µ—Ç —Ñ–æ—Ä–º—É\r\n   */\r\n  clear() {\r\n    this.state = {\r\n      assignmentType: null,\r\n      modules: [],\r\n      title: '',\r\n      description: '',\r\n      studentIds: [],\r\n      deadline: null\r\n    };\r\n\r\n    this.updateUIFromState();\r\n    this.resetChanges();\r\n  }\r\n\r\n  /**\r\n   * –£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n   */\r\n  destroy() {\r\n    this.stopAutoSave();\r\n\r\n    if (this.questionBrowser) {\r\n      this.questionBrowser.destroy();\r\n    }\r\n\r\n    if (this.studentSelector) {\r\n      this.studentSelector.destroy();\r\n    }\r\n\r\n    if (this.previewModal) {\r\n      this.previewModal.destroy();\r\n    }\r\n  }\r\n}\r\n","/**\r\n * –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è WebApp –¥–ª—è —É—á–∏—Ç–µ–ª–µ–π\r\n * –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\r\n */\r\n\r\nimport { telegramAuth } from './auth.js';\r\nimport { api, APIError } from './api.js';\r\nimport { draftManager } from './utils/storage.js';\r\nimport { AssignmentForm } from './components/AssignmentForm.js';\r\nimport { showToast, hideLoadingScreen, showLoadingScreen } from './utils/ui.js';\r\n\r\nclass TeacherApp {\r\n  constructor() {\r\n    this.initialized = false;\r\n    this.teacherProfile = null;\r\n    this.assignmentForm = null;\r\n  }\r\n\r\n  /**\r\n   * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\r\n   */\r\n  async init() {\r\n    console.log('Initializing Teacher WebApp...');\r\n\r\n    try {\r\n      // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp\r\n      const telegramInitialized = telegramAuth.init();\r\n      if (!telegramInitialized) {\r\n        this.showError('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Telegram WebApp');\r\n        return;\r\n      }\r\n\r\n      // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è\r\n      await this.loadTeacherProfile();\r\n\r\n      // 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\r\n      await this.initComponents();\r\n\r\n      // 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π\r\n      this.setupEventListeners();\r\n\r\n      // 5. –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)\r\n      this.loadDraft();\r\n\r\n      // 6. –°–∫—Ä—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏\r\n      hideLoadingScreen();\r\n\r\n      // 7. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\r\n      document.getElementById('app').style.display = 'block';\r\n\r\n      this.initialized = true;\r\n      console.log('Teacher WebApp initialized successfully');\r\n\r\n    } catch (error) {\r\n      console.error('Initialization error:', error);\r\n      this.showError(error.message || '–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —É—á–∏—Ç–µ–ª—è\r\n   */\r\n  async loadTeacherProfile() {\r\n    try {\r\n      console.log('Loading teacher profile...');\r\n      this.teacherProfile = await api.getTeacherProfile();\r\n      console.log('Teacher profile loaded:', this.teacherProfile);\r\n    } catch (error) {\r\n      console.error('Failed to load teacher profile:', error);\r\n\r\n      if (error instanceof APIError && error.isAuthError()) {\r\n        throw new Error('–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–∂–∏–º—É —É—á–∏—Ç–µ–ª—è.');\r\n      }\r\n\r\n      throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —É—á–∏—Ç–µ–ª—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã\r\n   */\r\n  async initComponents() {\r\n    console.log('Initializing components...');\r\n\r\n    // –°–æ–∑–¥–∞–µ–º —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è\r\n    const formContainer = document.getElementById('assignment-form');\r\n    if (formContainer) {\r\n      this.assignmentForm = new AssignmentForm(formContainer);\r\n      await this.assignmentForm.init();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π\r\n   */\r\n  setupEventListeners() {\r\n    // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è\r\n    const closeBtn = document.getElementById('close-btn');\r\n    if (closeBtn) {\r\n      closeBtn.addEventListener('click', () => this.handleClose());\r\n    }\r\n\r\n    // –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞\r\n    const saveDraftBtn = document.getElementById('save-draft-btn');\r\n    if (saveDraftBtn) {\r\n      saveDraftBtn.addEventListener('click', () => this.handleSaveDraft());\r\n    }\r\n\r\n    // –ö–Ω–æ–ø–∫–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞\r\n    const previewBtn = document.getElementById('preview-btn');\r\n    if (previewBtn) {\r\n      previewBtn.addEventListener('click', () => this.handlePreview());\r\n    }\r\n\r\n    // –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è\r\n    const createBtn = document.getElementById('create-btn');\r\n    if (createBtn) {\r\n      createBtn.addEventListener('click', () => this.handleCreate());\r\n    }\r\n\r\n    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö\r\n    window.addEventListener('beforeunload', (e) => {\r\n      if (this.assignmentForm?.hasUnsavedChanges()) {\r\n        e.preventDefault();\r\n        e.returnValue = '';\r\n      }\r\n    });\r\n\r\n    // Telegram WebApp —Å–æ–±—ã—Ç–∏—è\r\n    if (telegramAuth.tg) {\r\n      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è WebApp\r\n      telegramAuth.tg.onEvent('backButtonClicked', () => {\r\n        this.handleClose();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –∏–∑ LocalStorage\r\n   */\r\n  loadDraft() {\r\n    if (!this.assignmentForm) return;\r\n\r\n    const draft = draftManager.loadCurrent();\r\n    if (draft) {\r\n      console.log('Draft found, loading...');\r\n\r\n      const age = draftManager.getCurrentAge();\r\n      const ageMinutes = Math.floor(age / 60000);\r\n\r\n      // –°–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ö–æ—á–µ—Ç –ª–∏ –æ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫\r\n      const message = `–ù–∞–π–¥–µ–Ω —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–¥–∞–Ω–∏—è (—Å–æ–∑–¥–∞–Ω ${ageMinutes} –º–∏–Ω. –Ω–∞–∑–∞–¥). –ó–∞–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ?`;\r\n\r\n      telegramAuth.showPopup({\r\n        title: '–ß–µ—Ä–Ω–æ–≤–∏–∫ –Ω–∞–π–¥–µ–Ω',\r\n        message,\r\n        buttons: [\r\n          { id: 'load', type: 'default', text: '–ó–∞–≥—Ä—É–∑–∏—Ç—å' },\r\n          { id: 'discard', type: 'destructive', text: '–û—Ç–º–µ–Ω–∏—Ç—å' }\r\n        ]\r\n      }, (buttonId) => {\r\n        if (buttonId === 'load') {\r\n          this.assignmentForm.loadState(draft);\r\n          showToast('–ß–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–≥—Ä—É–∂–µ–Ω', 'success');\r\n        } else {\r\n          draftManager.removeCurrent();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\r\n   */\r\n  async handleClose() {\r\n    if (this.assignmentForm?.hasUnsavedChanges()) {\r\n      const confirmed = await telegramAuth.showConfirm(\r\n        '–£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?'\r\n      );\r\n\r\n      if (!confirmed) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    telegramAuth.close();\r\n  }\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞\r\n   */\r\n  handleSaveDraft() {\r\n    if (!this.assignmentForm) return;\r\n\r\n    try {\r\n      const state = this.assignmentForm.getState();\r\n      draftManager.saveCurrent(state);\r\n\r\n      showToast('–ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω', 'success');\r\n      telegramAuth.hapticFeedback('success');\r\n\r\n      // –¢–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\r\n      this.saveDraftToServer(state);\r\n\r\n    } catch (error) {\r\n      console.error('Failed to save draft:', error);\r\n      showToast('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞', 'error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä\r\n   */\r\n  async saveDraftToServer(state) {\r\n    try {\r\n      await api.saveDraft(state);\r\n      console.log('Draft saved to server');\r\n    } catch (error) {\r\n      console.error('Failed to save draft to server:', error);\r\n      // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —Ç.–∫. —á–µ—Ä–Ω–æ–≤–∏–∫ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞\r\n   */\r\n  handlePreview() {\r\n    if (!this.assignmentForm) return;\r\n\r\n    try {\r\n      const errors = this.assignmentForm.validate();\r\n\r\n      if (Object.keys(errors).length > 0) {\r\n        showToast('–ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–µ', 'warning');\r\n        return;\r\n      }\r\n\r\n      this.assignmentForm.showPreview();\r\n      telegramAuth.hapticFeedback('light');\r\n\r\n    } catch (error) {\r\n      console.error('Preview error:', error);\r\n      showToast('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞', 'error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è\r\n   */\r\n  async handleCreate() {\r\n    if (!this.assignmentForm) return;\r\n\r\n    try {\r\n      // –í–∞–ª–∏–¥–∞—Ü–∏—è\r\n      const errors = this.assignmentForm.validate();\r\n      if (Object.keys(errors).length > 0) {\r\n        showToast('–ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–µ', 'warning');\r\n        return;\r\n      }\r\n\r\n      // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ\r\n      const confirmed = await telegramAuth.showConfirm(\r\n        '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å —ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ?'\r\n      );\r\n\r\n      if (!confirmed) {\r\n        return;\r\n      }\r\n\r\n      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É\r\n      showLoadingScreen('–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è...');\r\n\r\n      // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã\r\n      const assignmentData = this.assignmentForm.getAssignmentData();\r\n\r\n      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä\r\n      const response = await api.createAssignment(assignmentData);\r\n\r\n      // –£–¥–∞–ª—è–µ–º —á–µ—Ä–Ω–æ–≤–∏–∫\r\n      draftManager.removeCurrent();\r\n\r\n      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö\r\n      hideLoadingScreen();\r\n      telegramAuth.hapticFeedback('success');\r\n\r\n      const message = `–ó–∞–¥–∞–Ω–∏–µ \"${assignmentData.title}\" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ ${response.students_notified} —É—á–µ–Ω–∏–∫–∞–º!`;\r\n\r\n      telegramAuth.showPopup({\r\n        title: '–£—Å–ø–µ—Ö!',\r\n        message,\r\n        buttons: [\r\n          { id: 'close', type: 'default', text: '–ó–∞–∫—Ä—ã—Ç—å' }\r\n        ]\r\n      }, () => {\r\n        telegramAuth.close();\r\n      });\r\n\r\n    } catch (error) {\r\n      hideLoadingScreen();\r\n      console.error('Failed to create assignment:', error);\r\n\r\n      let errorMessage = '–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';\r\n\r\n      if (error instanceof APIError) {\r\n        errorMessage = error.getUserMessage();\r\n\r\n        if (error.isValidationError()) {\r\n          const validationErrors = error.getValidationErrors();\r\n          this.assignmentForm.showErrors(validationErrors);\r\n        }\r\n      }\r\n\r\n      showToast(errorMessage, 'error');\r\n      telegramAuth.hapticFeedback('error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É\r\n   */\r\n  showError(message) {\r\n    hideLoadingScreen();\r\n\r\n    const errorContainer = document.createElement('div');\r\n    errorContainer.style.cssText = `\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      min-height: 100vh;\r\n      padding: 2rem;\r\n      text-align: center;\r\n    `;\r\n\r\n    errorContainer.innerHTML = `\r\n      <div style=\"font-size: 3rem; margin-bottom: 1rem;\">‚ö†Ô∏è</div>\r\n      <h2 style=\"margin-bottom: 1rem;\">–û—à–∏–±–∫–∞</h2>\r\n      <p style=\"color: var(--tg-theme-hint-color); margin-bottom: 2rem;\">${message}</p>\r\n      <button onclick=\"window.Telegram.WebApp.close()\" style=\"\r\n        padding: 12px 24px;\r\n        background: var(--tg-theme-button-color);\r\n        color: var(--tg-theme-button-text-color);\r\n        border: none;\r\n        border-radius: 8px;\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n      \">–ó–∞–∫—Ä—ã—Ç—å</button>\r\n    `;\r\n\r\n    document.body.innerHTML = '';\r\n    document.body.appendChild(errorContainer);\r\n  }\r\n}\r\n\r\n// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ DOM\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const app = new TeacherApp();\r\n  app.init();\r\n\r\n  // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ window (–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏)\r\n  window.teacherApp = app;\r\n\r\n  // –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ assignmentForm –º–æ–∂–µ—Ç –±—ã—Ç—å –µ—â–µ undefined\r\n  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏\r\n  setTimeout(() => {\r\n    window.assignmentForm = app.assignmentForm;\r\n    console.log('Debug: assignmentForm set to window', !!window.assignmentForm);\r\n  }, 100);\r\n});\r\n\r\n// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π\r\nexport { TeacherApp };\r\n"],"names":[],"mappings":";;;EAAA;EACA;EACA;EACA;AACA;EACA,MAAM,YAAY,CAAC;EACnB,EAAE,WAAW,GAAG;EAChB,IAAI,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC;EACtC,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;EACzB,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;EACrB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,IAAI,GAAG;EACT,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;EAClB,MAAM,OAAO,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;EACvD,MAAM,OAAO,KAAK,CAAC;EACnB,IAAI,CAAC;AACL;EACA,IAAI,IAAI;EACR,MAAM,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;EACtB,MAAM,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC;AACvB;EACA;EACA,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;AACvC;EACA;EACA,MAAM,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC;AAC/C;EACA,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;EACxC,QAAQ,OAAO,CAAC,KAAK,CAAC,yCAAyC,CAAC,CAAC;EACjE,QAAQ,OAAO,KAAK,CAAC;EACrB,MAAM,CAAC;AACP;EACA;EACA,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;AACxB;EACA,MAAM,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE;EACrD,QAAQ,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;EAC5B,QAAQ,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU;EACvC,OAAO,CAAC,CAAC;AACT;EACA,MAAM,OAAO,IAAI,CAAC;EAClB,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,uCAAuC,EAAE,KAAK,CAAC,CAAC;EACpE,MAAM,OAAO,KAAK,CAAC;EACnB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,UAAU,GAAG;EACf,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO;AACzB;EACA,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC;EAC5C,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,eAAe,CAAC;AAC1C;EACA;EACA,IAAI,IAAI,WAAW,CAAC,QAAQ,EAAE;EAC9B,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,qBAAqB,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;EAC1E,IAAI,CAAC;EACL,IAAI,IAAI,WAAW,CAAC,UAAU,EAAE;EAChC,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,uBAAuB,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;EAC9E,IAAI,CAAC;EACL,IAAI,IAAI,WAAW,CAAC,UAAU,EAAE;EAChC,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,uBAAuB,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;EAC9E,IAAI,CAAC;EACL,IAAI,IAAI,WAAW,CAAC,UAAU,EAAE;EAChC,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,uBAAuB,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;EAC9E,IAAI,CAAC;EACL,IAAI,IAAI,WAAW,CAAC,YAAY,EAAE;EAClC,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,yBAAyB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC;EAClF,IAAI,CAAC;EACL,IAAI,IAAI,WAAW,CAAC,iBAAiB,EAAE;EACvC,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,8BAA8B,EAAE,WAAW,CAAC,iBAAiB,CAAC,CAAC;EAC5F,IAAI,CAAC;EACL,IAAI,IAAI,WAAW,CAAC,kBAAkB,EAAE;EACxC,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,+BAA+B,EAAE,WAAW,CAAC,kBAAkB,CAAC,CAAC;EAC9F,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,OAAO,GAAG;EACZ,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC;EACrB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,GAAG;EACd,IAAI,OAAO,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;EAC3B,IAAI,IAAI,CAAC,IAAI,EAAE,OAAO,cAAc,CAAC;AACrC;EACA,IAAI,OAAO,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC;EAC1E,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,CAAC,OAAO,EAAE;EACrB,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE,SAAS,EAAE;EAC5B,MAAM,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;EACjC,IAAI,CAAC,MAAM;EACX,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC;EACrB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,WAAW,CAAC,OAAO,EAAE;EAC7B,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE,WAAW,EAAE;EAC9B,MAAM,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK;EACtC,QAAQ,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EAC9C,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC,MAAM;EACX,MAAM,OAAO,OAAO,CAAC,OAAO,CAAC,CAAC;EAC9B,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,CAAC,MAAM,EAAE;EACpB,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE,SAAS,EAAE;EAC5B,MAAM,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;EAChC,IAAI,CAAC,MAAM;EACX,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;EACrC,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,KAAK,GAAG;EACV,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE,KAAK,EAAE;EACxB,MAAM,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;EACtB,IAAI,CAAC,MAAM;EACX,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC;EACrB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,yBAAyB,CAAC,OAAO,GAAG,IAAI,EAAE;EAC5C,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE,yBAAyB,EAAE;EAC5C,MAAM,IAAI,CAAC,EAAE,CAAC,yBAAyB,EAAE,CAAC;EAC1C,IAAI,CAAC;EACL,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,EAAE,EAAE,0BAA0B,EAAE;EACzD,MAAM,IAAI,CAAC,EAAE,CAAC,0BAA0B,EAAE,CAAC;EAC3C,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,aAAa,CAAC,OAAO,EAAE;EACzB,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,UAAU,EAAE,OAAO;AACrC;EACA,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC;AACnC;EACA,IAAI,IAAI,OAAO,CAAC,IAAI,EAAE;EACtB,MAAM,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EAChC,IAAI,CAAC;AACL;EACA,IAAI,IAAI,OAAO,CAAC,KAAK,EAAE;EACvB,MAAM,GAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC;EAC9C,IAAI,CAAC;AACL;EACA,IAAI,IAAI,OAAO,CAAC,OAAO,EAAE;EACzB,MAAM,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;EACnC,IAAI,CAAC;AACL;EACA,IAAI,IAAI,OAAO,CAAC,IAAI,EAAE;EACtB,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;EACjB,IAAI,CAAC,MAAM,IAAI,OAAO,CAAC,IAAI,EAAE;EAC7B,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;EACjB,IAAI,CAAC;AACL;EACA,IAAI,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;EACvC,MAAM,IAAI,OAAO,CAAC,OAAO,EAAE;EAC3B,QAAQ,GAAG,CAAC,YAAY,EAAE,CAAC;EAC3B,MAAM,CAAC,MAAM;EACb,QAAQ,GAAG,CAAC,YAAY,EAAE,CAAC;EAC3B,MAAM,CAAC;EACP,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,QAAQ,CAAC,IAAI,EAAE;EACjB,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE;EAC3B,MAAM,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;EAC7C,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,QAAQ,CAAC,GAAG,EAAE;EAChB,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE;EAC3B,MAAM,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;EAC5B,IAAI,CAAC,MAAM;EACX,MAAM,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;EACjC,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,cAAc,CAAC,IAAI,GAAG,OAAO,EAAE;EACjC,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE,cAAc,EAAE;EACjC,MAAM,QAAQ,IAAI;EAClB,QAAQ,KAAK,OAAO,CAAC;EACrB,QAAQ,KAAK,QAAQ,CAAC;EACtB,QAAQ,KAAK,OAAO,CAAC;EACrB,QAAQ,KAAK,OAAO,CAAC;EACrB,QAAQ,KAAK,MAAM;EACnB,UAAU,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;EACtD,UAAU,MAAM;EAChB,QAAQ,KAAK,SAAS,CAAC;EACvB,QAAQ,KAAK,SAAS,CAAC;EACvB,QAAQ,KAAK,OAAO;EACpB,UAAU,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;EAC5D,UAAU,MAAM;EAChB,QAAQ;EACR,UAAU,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC;EACpD,OAAO;EACP,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,YAAY,GAAG;EACjB,IAAI,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;EACrB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,UAAU,GAAG;EACf,IAAI,OAAO,IAAI,CAAC,EAAE,EAAE,OAAO,IAAI,SAAS,CAAC;EACzC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB,IAAI,OAAO,IAAI,CAAC,EAAE,EAAE,QAAQ,IAAI,SAAS,CAAC;EAC1C,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACO,MAAM,YAAY,GAAG,IAAI,YAAY,EAAE;;ECpS9C;EACA;EACA;EACA;AACA;AAEA;EACA,MAAM,SAAS,CAAC;EAChB,EAAE,WAAW,GAAG;EAChB;EACA,IAAI,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,cAAc,CAAC;EAC3D,IAAI,IAAI,CAAC,OAAO,GAAG;EACnB,MAAM,cAAc,EAAE,kBAAkB;EACxC,KAAK,CAAC;EACN,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,OAAO,CAAC,QAAQ,EAAE,OAAO,GAAG,EAAE,EAAE;EACxC,IAAI,MAAM,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC7C;EACA;EACA,IAAI,MAAM,OAAO,GAAG;EACpB,MAAM,GAAG,IAAI,CAAC,OAAO;EACrB,MAAM,sBAAsB,EAAE,YAAY,CAAC,WAAW,EAAE;EACxD,MAAM,GAAG,OAAO,CAAC,OAAO;EACxB,KAAK,CAAC;AACN;EACA,IAAI,MAAM,MAAM,GAAG;EACnB,MAAM,GAAG,OAAO;EAChB,MAAM,OAAO;EACb,KAAK,CAAC;AACN;EACA,IAAI,IAAI;EACR,MAAM,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;AAChD;EACA;EACA,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;EACxB,QAAQ,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;EAClE,QAAQ,MAAM,IAAI,QAAQ;EAC1B,UAAU,SAAS,CAAC,MAAM,IAAI,SAAS,CAAC,KAAK,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;EAC1E,UAAU,QAAQ,CAAC,MAAM;EACzB,UAAU,SAAS;EACnB,SAAS,CAAC;EACV,MAAM,CAAC;AACP;EACA;EACA,MAAM,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;EACzC,MAAM,OAAO,IAAI,CAAC;AAClB;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,IAAI,KAAK,YAAY,QAAQ,EAAE;EACrC,QAAQ,MAAM,KAAK,CAAC;EACpB,MAAM,CAAC;AACP;EACA;EACA,MAAM,OAAO,CAAC,KAAK,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;EACjD,MAAM,MAAM,IAAI,QAAQ;EACxB,QAAQ,iDAAiD;EACzD,QAAQ,CAAC;EACT,QAAQ,EAAE,aAAa,EAAE,KAAK,CAAC,OAAO,EAAE;EACxC,OAAO,CAAC;EACR,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,GAAG,CAAC,QAAQ,EAAE,MAAM,GAAG,EAAE,EAAE;EACnC,IAAI,MAAM,WAAW,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;EAC/D,IAAI,MAAM,GAAG,GAAG,WAAW,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,QAAQ,CAAC;AACtE;EACA,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;EAC7B,MAAM,MAAM,EAAE,KAAK;EACnB,KAAK,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,IAAI,CAAC,QAAQ,EAAE,IAAI,GAAG,EAAE,EAAE;EAClC,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;EAClC,MAAM,MAAM,EAAE,MAAM;EACpB,MAAM,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;EAChC,KAAK,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,GAAG,CAAC,QAAQ,EAAE,IAAI,GAAG,EAAE,EAAE;EACjC,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;EAClC,MAAM,MAAM,EAAE,KAAK;EACnB,MAAM,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;EAChC,KAAK,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,MAAM,CAAC,QAAQ,EAAE;EACzB,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;EAClC,MAAM,MAAM,EAAE,QAAQ;EACtB,KAAK,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;AACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,iBAAiB,GAAG;EAC5B,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;EAChC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,WAAW,CAAC,MAAM,GAAG,EAAE,EAAE;EACjC,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;EACzC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,UAAU,GAAG;EACrB,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;EAChC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,YAAY,CAAC,MAAM,GAAG,EAAE,EAAE;EAClC,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;EACxB,MAAM,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;EACpD,IAAI,CAAC;EACL,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;EAC1C,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,gBAAgB,CAAC,cAAc,EAAE;EACzC,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;EACrD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,cAAc,CAAC,MAAM,GAAG,EAAE,EAAE;EACpC,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;EAC5C,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,aAAa,CAAC,YAAY,EAAE;EACpC,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;EACpD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,gBAAgB,CAAC,YAAY,EAAE,IAAI,EAAE;EAC7C,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;EAC1D,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,gBAAgB,CAAC,YAAY,EAAE;EACvC,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;EACvD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,SAAS,CAAC,SAAS,EAAE;EAC7B,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,CAAC;EAC3D,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,SAAS,GAAG;EACpB,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;EAC/B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,WAAW,CAAC,OAAO,EAAE;EAC7B,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;EAC7C,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,QAAQ,GAAG;EACnB,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;EAC9B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,eAAe,CAAC,SAAS,EAAE;EACnC,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;EACpD,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA;EACA;EACA,MAAM,QAAQ,SAAS,KAAK,CAAC;EAC7B,EAAE,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,GAAG,EAAE,EAAE;EAC1C,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;EACnB,IAAI,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC;EAC3B,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;EACzB,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;EACrB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,GAAG,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC;EACtD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,iBAAiB,GAAG;EACtB,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,kBAAkB,CAAC;EACzE,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,mBAAmB,GAAG;EACxB,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;EACnC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,cAAc,GAAG;EACnB,IAAI,QAAQ,IAAI,CAAC,MAAM;EACvB,MAAM,KAAK,CAAC;EACZ,QAAQ,OAAO,iDAAiD,CAAC;EACjE,MAAM,KAAK,GAAG;EACd,QAAQ,OAAO,6DAA6D,CAAC;EAC7E,MAAM,KAAK,GAAG;EACd,QAAQ,OAAO,kDAAkD,CAAC;EAClE,MAAM,KAAK,GAAG;EACd,QAAQ,OAAO,mBAAmB,CAAC;EACnC,MAAM,KAAK,GAAG;EACd,QAAQ,OAAO,wDAAwD,CAAC;EACxE,MAAM,KAAK,GAAG;EACd,QAAQ,OAAO,2CAA2C,CAAC;EAC3D,MAAM,KAAK,GAAG;EACd,QAAQ,OAAO,mDAAmD,CAAC;EACnE,MAAM;EACN,QAAQ,OAAO,IAAI,CAAC,OAAO,IAAI,uCAAuC,CAAC;EACvE,KAAK;EACL,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACO,MAAM,GAAG,GAAG,IAAI,SAAS,EAAE;;EC1TlC;EACA;EACA;EACA;AACA;EACA,MAAM,OAAO,CAAC;EACd,EAAE,WAAW,CAAC,MAAM,GAAG,UAAU,EAAE;EACnC,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,OAAO,CAAC,GAAG,EAAE;EACf,IAAI,OAAO,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EAClC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE;EAClB,IAAI,IAAI;EACR,MAAM,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;EACzC,MAAM,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;EACpD,MAAM,OAAO,IAAI,CAAC;EAClB,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;EACjD,MAAM,OAAO,KAAK,CAAC;EACnB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,GAAG,CAAC,GAAG,EAAE,YAAY,GAAG,IAAI,EAAE;EAChC,IAAI,IAAI;EACR,MAAM,MAAM,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;EAC3D,MAAM,OAAO,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC;EACpD,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;EACjD,MAAM,OAAO,YAAY,CAAC;EAC1B,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,CAAC,GAAG,EAAE;EACd,IAAI,IAAI;EACR,MAAM,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;EACjD,MAAM,OAAO,IAAI,CAAC;EAClB,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;EACpD,MAAM,OAAO,KAAK,CAAC;EACnB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,GAAG,CAAC,GAAG,EAAE;EACX,IAAI,OAAO,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC;EAC5D,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,KAAK,GAAG;EACV,IAAI,IAAI;EACR,MAAM,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EAC7C,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI;EAC1B,QAAQ,IAAI,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;EACzC,UAAU,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;EACvC,QAAQ,CAAC;EACT,MAAM,CAAC,CAAC,CAAC;EACT,MAAM,OAAO,IAAI,CAAC;EAClB,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;EACnD,MAAM,OAAO,KAAK,CAAC;EACnB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,IAAI,GAAG;EACT,IAAI,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EAC9C,IAAI,OAAO,OAAO;EAClB,OAAO,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACjD,OAAO,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC;EAChD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,OAAO,GAAG;EACZ,IAAI,IAAI,IAAI,GAAG,CAAC,CAAC;EACjB,IAAI,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI;EACxB,MAAM,IAAI,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;EACvC,QAAQ,MAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;EAChD,QAAQ,IAAI,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE,MAAM,IAAI,CAAC,CAAC,CAAC;EAClD,MAAM,CAAC;EACP,IAAI,CAAC,CAAC,CAAC;EACP,IAAI,OAAO,IAAI,CAAC;EAChB,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA;EACA;EACA,MAAM,YAAY,SAAS,OAAO,CAAC;EACnC,EAAE,WAAW,GAAG;EAChB,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC;EACpB,IAAI,IAAI,CAAC,eAAe,GAAG,oBAAoB,CAAC;EAChD,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;EACtC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,CAAC,SAAS,EAAE;EACzB,IAAI,MAAM,KAAK,GAAG;EAClB,MAAM,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;EAC3B,MAAM,IAAI,EAAE,SAAS;EACrB,KAAK,CAAC;EACN,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;EACjD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;AACjD;EACA,IAAI,IAAI,CAAC,KAAK,EAAE;EAChB,MAAM,OAAO,IAAI,CAAC;EAClB,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC;EAC7C,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE;EAC3B,MAAM,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;EAC/C,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;EAC3B,MAAM,OAAO,IAAI,CAAC;EAClB,IAAI,CAAC;AACL;EACA,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC;EACtB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,aAAa,GAAG;EAClB,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;EAC7C,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,UAAU,GAAG;EACf,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;EAC1C,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,aAAa,GAAG;EAClB,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;EACjD,IAAI,IAAI,CAAC,KAAK,EAAE,OAAO,IAAI,CAAC;AAC5B;EACA,IAAI,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC;EACxC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,CAAC,IAAI,EAAE,SAAS,EAAE;EAC7B,IAAI,MAAM,KAAK,GAAG;EAClB,MAAM,IAAI;EACV,MAAM,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;EAC3B,MAAM,IAAI,EAAE,SAAS;EACrB,KAAK,CAAC;EACN,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;EAC5C,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,CAAC,IAAI,EAAE;EAClB,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;EACrC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,GAAG;EACd,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;EAC7B,IAAI,OAAO,IAAI;EACf,OAAO,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;EAC9C,OAAO,GAAG,CAAC,GAAG,IAAI;EAClB,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EACpC,QAAQ,OAAO;EACf,UAAU,GAAG;EACb,UAAU,IAAI,EAAE,KAAK,CAAC,IAAI;EAC1B,UAAU,SAAS,EAAE,KAAK,CAAC,SAAS;EACpC,UAAU,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,SAAS;EAC3C,SAAS,CAAC;EACV,MAAM,CAAC,CAAC;EACR,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC;EACjD,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA;EACA;EACA,MAAM,YAAY,SAAS,OAAO,CAAC;EACnC,EAAE,WAAW,GAAG;EAChB,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC;EACpB,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;EACpC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,GAAG,IAAI,CAAC,UAAU,EAAE;EAC9C,IAAI,MAAM,SAAS,GAAG;EACtB,MAAM,KAAK;EACX,MAAM,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;EAC3B,MAAM,GAAG;EACT,KAAK,CAAC;EACN,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;EACpC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,QAAQ,CAAC,GAAG,EAAE;EAChB,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACpC;EACA,IAAI,IAAI,CAAC,SAAS,EAAE;EACpB,MAAM,OAAO,IAAI,CAAC;EAClB,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC,SAAS,CAAC;EACjD,IAAI,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE;EAC7B,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EACvB,MAAM,OAAO,IAAI,CAAC;EAClB,IAAI,CAAC;AACL;EACA,IAAI,OAAO,SAAS,CAAC,KAAK,CAAC;EAC3B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,YAAY,GAAG;EACjB,IAAI,IAAI,KAAK,GAAG,CAAC,CAAC;EAClB,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;AAC7B;EACA,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI;EACxB,MAAM,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EACtC,MAAM,IAAI,SAAS,EAAE;EACrB,QAAQ,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC,SAAS,CAAC;EACrD,QAAQ,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE;EACjC,UAAU,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EAC3B,UAAU,KAAK,EAAE,CAAC;EAClB,QAAQ,CAAC;EACT,MAAM,CAAC;EACP,IAAI,CAAC,CAAC,CAAC;AACP;EACA,IAAI,OAAO,KAAK,CAAC;EACjB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,UAAU,CAAC,OAAO,EAAE;EACtB,IAAI,IAAI,KAAK,GAAG,CAAC,CAAC;EAClB,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;AAC7B;EACA,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI;EACxB,MAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;EACjC,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EACzB,QAAQ,KAAK,EAAE,CAAC;EAChB,MAAM,CAAC;EACP,IAAI,CAAC,CAAC,CAAC;AACP;EACA,IAAI,OAAO,KAAK,CAAC;EACjB,EAAE,CAAC;EACH,CAAC;EAIM,MAAM,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;EACxC,MAAM,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;AAC/C;EACA;EACA,YAAY,CAAC,YAAY,EAAE;;EC/U3B;EACA;EACA;AACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,sBAAsB,CAAC,KAAK,EAAE;EAC9C,EAAE,MAAM,MAAM,GAAG,EAAE,CAAC;AACpB;EACA;EACA,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;EAC7B,IAAI,MAAM,CAAC,cAAc,GAAG,sBAAsB,CAAC;EACnD,EAAE,CAAC;AACH;EACA;EACA;EACA,EAAE,MAAM,YAAY,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;AACrH;EACA,EAAE,IAAI,YAAY,EAAE;EACpB,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;EACtD,MAAM,MAAM,CAAC,OAAO,GAAG,8BAA8B,CAAC;EACtD,IAAI,CAAC;AACL;EACA;EACA,IAAI,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;EACnD,MAAM,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,KAAK,KAAK;EAC/C,QAAQ,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;EACjC,UAAU,MAAM,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,sBAAsB,CAAC;EAClE,QAAQ,CAAC;AACT;EACA,QAAQ,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;EACpC,UAAU,MAAM,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,wBAAwB,CAAC;EACpE,QAAQ,CAAC;AACT;EACA;EACA,QAAQ,IAAI,MAAM,CAAC,cAAc,KAAK,UAAU,EAAE;EAClD,UAAU,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;EACxE,YAAY,MAAM,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC,GAAG,8BAA8B,CAAC;EACjF,UAAU,CAAC;EACX,QAAQ,CAAC;AACT;EACA;EACA,QAAQ,IAAI,MAAM,CAAC,cAAc,KAAK,QAAQ,EAAE;EAChD,UAAU,IAAI,CAAC,MAAM,CAAC,cAAc,IAAI,MAAM,CAAC,cAAc,GAAG,CAAC,EAAE;EACnE,YAAY,MAAM,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,6BAA6B,CAAC;EAC5E,UAAU,CAAC;EACX,QAAQ,CAAC;EACT,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;EACvD,IAAI,MAAM,CAAC,KAAK,GAAG,0BAA0B,CAAC;EAC9C,EAAE,CAAC,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;EAC5C,IAAI,MAAM,CAAC,KAAK,GAAG,6CAA6C,CAAC;EACjE,EAAE,CAAC,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,EAAE;EACvC,IAAI,MAAM,CAAC,KAAK,GAAG,2CAA2C,CAAC;EAC/D,EAAE,CAAC;AACH;EACA;EACA,EAAE,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,GAAG,EAAE;EAC3D,IAAI,MAAM,CAAC,WAAW,GAAG,2CAA2C,CAAC;EACrE,EAAE,CAAC;AACH;EACA;EACA,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;EAC1D,IAAI,MAAM,CAAC,QAAQ,GAAG,iCAAiC,CAAC;EACxD,EAAE,CAAC,MAAM,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,GAAG,EAAE;EAC5C,IAAI,MAAM,CAAC,QAAQ,GAAG,uCAAuC,CAAC;EAC9D,EAAE,CAAC;AACH;EACA;EACA,EAAE,IAAI,KAAK,CAAC,QAAQ,EAAE;EACtB,IAAI,MAAM,YAAY,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;EAClD,IAAI,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;AAC3B;EACA,IAAI,IAAI,YAAY,GAAG,GAAG,EAAE;EAC5B,MAAM,MAAM,CAAC,QAAQ,GAAG,iCAAiC,CAAC;EAC1D,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,cAAc,GAAG,IAAI,IAAI,EAAE,CAAC;EACtC,IAAI,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC;AACjE;EACA,IAAI,IAAI,YAAY,GAAG,cAAc,EAAE;EACvC,MAAM,MAAM,CAAC,QAAQ,GAAG,2CAA2C,CAAC;EACpE,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA,EAAE,OAAO,MAAM,CAAC;EAChB,CAAC;AA0DD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,OAAO,CAAC,GAAG,EAAE;EAC7B,EAAE,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,CAAC;EACzC,CAAC;AAeD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,cAAc,CAAC,KAAK,EAAE,OAAO,EAAE;EAC/C,EAAE,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAC/B;EACA,EAAE,MAAM,YAAY,GAAG,KAAK,CAAC,aAAa,EAAE,aAAa,CAAC,aAAa,CAAC,CAAC;EACzE,EAAE,IAAI,YAAY,EAAE;EACpB,IAAI,YAAY,CAAC,WAAW,GAAG,OAAO,CAAC;EACvC,IAAI,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;EACvC,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA;EACA;EACA;EACO,SAAS,eAAe,CAAC,KAAK,EAAE;EACvC,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAClC;EACA,EAAE,MAAM,YAAY,GAAG,KAAK,CAAC,aAAa,EAAE,aAAa,CAAC,aAAa,CAAC,CAAC;EACzE,EAAE,IAAI,YAAY,EAAE;EACpB,IAAI,YAAY,CAAC,WAAW,GAAG,EAAE,CAAC;EAClC,IAAI,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;EAC1C,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,oBAAoB,CAAC,KAAK,EAAE,SAAS,EAAE;EACvD,EAAE,MAAM,QAAQ,GAAG,MAAM;EACzB,IAAI,MAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAC1C;EACA,IAAI,IAAI,MAAM,CAAC,KAAK,EAAE;EACtB,MAAM,eAAe,CAAC,KAAK,CAAC,CAAC;EAC7B,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;EACvC;EACA,MAAM,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;EAC5C,IAAI,CAAC;EACL,EAAE,CAAC,CAAC;AACJ;EACA;EACA,EAAE,KAAK,CAAC,gBAAgB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;AAC3C;EACA;EACA,EAAE,IAAI,OAAO,CAAC;EACd,EAAE,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EACxC,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC;EAC1B,IAAI,OAAO,GAAG,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;EACxC,EAAE,CAAC,CAAC,CAAC;EACL,CAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,cAAc,CAAC,KAAK,EAAE;EACtC,EAAE,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;EACtB,IAAI,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;EACjE,EAAE,CAAC;AACH;EACA,EAAE,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;EAC/B,IAAI,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;EAC1D,EAAE,CAAC;AACH;EACA,EAAE,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG,EAAE;EAC1B,IAAI,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;EAC9D,EAAE,CAAC;AACH;EACA,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;EACtC,CAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,oBAAoB,CAAC,KAAK,EAAE;EAC5C,EAAE,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG,EAAE;EACnC,IAAI,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;EAC9D,EAAE,CAAC;AACH;EACA,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;EACtC;;ECzQA;EACA;EACA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,SAAS,CAAC,OAAO,EAAE,IAAI,GAAG,MAAM,EAAE,QAAQ,GAAG,IAAI,EAAE;EACnE,EAAE,MAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;EAC/D,EAAE,IAAI,CAAC,SAAS,EAAE,OAAO;AACzB;EACA,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAC9C,EAAE,KAAK,CAAC,SAAS,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;AACpC;EACA;EACA,EAAE,MAAM,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;EAClC,EAAE,KAAK,CAAC,SAAS,GAAG,CAAC;AACrB,6BAA6B,EAAE,IAAI,CAAC;AACpC,gCAAgC,EAAE,OAAO,CAAC;AAC1C,EAAE,CAAC,CAAC;AACJ;EACA,EAAE,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC/B;EACA;EACA,EAAE,UAAU,CAAC,MAAM;EACnB,IAAI,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,yBAAyB,CAAC;EACtD,IAAI,UAAU,CAAC,MAAM;EACrB,MAAM,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EACnC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;EACZ,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;EACf,CAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACA,SAAS,YAAY,CAAC,IAAI,EAAE;EAC5B,EAAE,MAAM,KAAK,GAAG;EAChB,IAAI,OAAO,EAAE,GAAG;EAChB,IAAI,KAAK,EAAE,GAAG;EACd,IAAI,OAAO,EAAE,GAAG;EAChB,IAAI,IAAI,EAAE,GAAG;EACb,GAAG,CAAC;EACJ,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC;EACnC,CAAC;AACD;EACA;EACA;EACA;EACA;EACO,SAAS,iBAAiB,CAAC,OAAO,GAAG,aAAa,EAAE;EAC3D,EAAE,IAAI,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;AACzD;EACA,EAAE,IAAI,CAAC,MAAM,EAAE;EACf,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAC3C,IAAI,MAAM,CAAC,EAAE,GAAG,gBAAgB,CAAC;EACjC,IAAI,MAAM,CAAC,SAAS,GAAG,gBAAgB,CAAC;EACxC,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACtC,EAAE,CAAC;AACH;EACA,EAAE,MAAM,CAAC,SAAS,GAAG,CAAC;AACtB;AACA,OAAO,EAAE,OAAO,CAAC;AACjB,EAAE,CAAC,CAAC;AACJ;EACA,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAChC,CAAC;AACD;EACA;EACA;EACA;EACO,SAAS,iBAAiB,GAAG;EACpC,EAAE,MAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;EAC3D,EAAE,IAAI,MAAM,EAAE;EACd,IAAI,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAClC,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA;EACA;EACA;EACO,SAAS,SAAS,CAAC,EAAE,EAAE;EAC9B,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;EAC5C,EAAE,IAAI,KAAK,EAAE;EACb,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EACjC,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;EAC5C,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA;EACA;EACA;EACO,SAAS,SAAS,CAAC,EAAE,EAAE;EAC9B,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;EAC5C,EAAE,IAAI,KAAK,EAAE;EACb,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EACjC,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;EACtC,EAAE,CAAC;EACH,CAAC;AAmID;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,cAAc,CAAC,SAAS,EAAE,OAAO,GAAG,EAAE,EAAE;EACxD,EAAE,MAAM;EACR,IAAI,IAAI,GAAG,IAAI;EACf,IAAI,KAAK,GAAG,mBAAmB;EAC/B,IAAI,WAAW,GAAG,EAAE;EACpB,GAAG,GAAG,OAAO,CAAC;AACd;EACA,EAAE,SAAS,CAAC,SAAS,GAAG,CAAC;AACzB;AACA,oCAAoC,EAAE,IAAI,CAAC;AAC3C,oCAAoC,EAAE,KAAK,CAAC;AAC5C,MAAM,EAAE,WAAW,GAAG,CAAC,8BAA8B,EAAE,WAAW,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;AAChF;AACA,EAAE,CAAC,CAAC;EACJ,CAAC;AACD;EACA;EACA;EACA;EACA;EACO,SAAS,aAAa,GAAG;EAChC,EAAE,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAChD,EAAE,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC;EAChC,EAAE,OAAO,OAAO,CAAC;EACjB,CAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,cAAc,CAAC,OAAO,EAAE,KAAK,GAAG,CAAC,EAAE;EACnD,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,EAAE,EAAE;EACnC,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,0BAA0B,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5E,IAAI,IAAI,CAAC,IAAI,EAAE,SAAS;AACxB;EACA,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AACjD;EACA,IAAI,IAAI,CAAC,GAAG,OAAO,EAAE;EACrB,MAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;EACtC,IAAI,CAAC,MAAM,IAAI,CAAC,KAAK,OAAO,EAAE;EAC9B,MAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;EACnC,IAAI,CAAC;EACL,EAAE,CAAC;EACH,CAAC;AA6BD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE;EACtC,EAAE,MAAM,EAAE,GAAG,OAAO,OAAO,KAAK,QAAQ;EACxC,MAAM,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;EACrC,MAAM,OAAO,CAAC;AACd;EACA,EAAE,IAAI,CAAC,EAAE,EAAE,OAAO;AAClB;EACA,EAAY;EACZ,IAAI,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;EAC1B,EAAE,CAEC;EACH;;EC5UA;EACA;EACA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,UAAU,CAAC,IAAI,EAAE,WAAW,GAAG,IAAI,EAAE;EACrD,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC;AACvB;EACA,EAAE,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;EAC3B,EAAE,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,CAAC;AAC1B;EACA,EAAE,MAAM,OAAO,GAAG;EAClB,IAAI,IAAI,EAAE,SAAS;EACnB,IAAI,KAAK,EAAE,MAAM;EACjB,IAAI,GAAG,EAAE,SAAS;EAClB,IAAI,IAAI,WAAW,IAAI;EACvB,MAAM,IAAI,EAAE,SAAS;EACrB,MAAM,MAAM,EAAE,SAAS;EACvB,KAAK,CAAC;EACN,GAAG,CAAC;AACJ;EACA,EAAE,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EAC7D,CAAC;AAmDD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,YAAY,CAAC,GAAG,EAAE;EAClC,EAAE,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EACpD,CAAC;AA2DD;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,oBAAoB,CAAC,IAAI,EAAE;EAC3C,EAAE,MAAM,KAAK,GAAG;EAChB,IAAI,WAAW,EAAE,uBAAuB;EACxC,IAAI,QAAQ,EAAE,YAAY;EAC1B,IAAI,QAAQ,EAAE,YAAY;EAC1B,IAAI,QAAQ,EAAE,YAAY;EAC1B,IAAI,QAAQ,EAAE,YAAY;EAC1B,IAAI,OAAO,EAAE,mBAAmB;EAChC,IAAI,WAAW,EAAE,oBAAoB;EACrC,IAAI,QAAQ,EAAE,mBAAmB;EACjC,GAAG,CAAC;AACJ;EACA,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;EAC7B,CAAC;AAiBD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,SAAS,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE;EACjD,EAAE,MAAM,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;EAC3B,EAAE,MAAM,MAAM,GAAG,KAAK,GAAG,GAAG,CAAC;AAC7B;EACA,EAAE,IAAI,KAAK,KAAK,CAAC,IAAI,MAAM,KAAK,EAAE,EAAE;EACpC,IAAI,OAAO,GAAG,CAAC;EACf,EAAE,CAAC,MAAM,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,MAAM,GAAG,EAAE,IAAI,MAAM,IAAI,EAAE,CAAC,EAAE;EACxE,IAAI,OAAO,GAAG,CAAC;EACf,EAAE,CAAC,MAAM;EACT,IAAI,OAAO,IAAI,CAAC;EAChB,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,WAAW,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE;EACnD,EAAE,OAAO,CAAC,EAAE,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;EACtE,CAAC;AAsGD;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE;EACrC,EAAE,IAAI,OAAO,CAAC;EACd,EAAE,OAAO,SAAS,gBAAgB,CAAC,GAAG,IAAI,EAAE;EAC5C,IAAI,MAAM,KAAK,GAAG,MAAM;EACxB,MAAM,YAAY,CAAC,OAAO,CAAC,CAAC;EAC5B,MAAM,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;EACpB,IAAI,CAAC,CAAC;EACN,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC;EAC1B,IAAI,OAAO,GAAG,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;EACtC,EAAE,CAAC,CAAC;EACJ;;EC5UA;EACA;EACA;EACO,MAAM,YAAY,CAAC;EAC1B,EAAE,WAAW,GAAG;EAChB,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;EACrB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE;EACtB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;EAC7B,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;EAC9B,IAAI,CAAC;EACL,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EACtC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE;EACvB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,OAAO;AACpC;EACA,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,KAAK,QAAQ,CAAC,CAAC;EAC1E,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE;EACpB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,OAAO;AACpC;EACA,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,QAAQ,IAAI;EAC3C,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC;EACrB,IAAI,CAAC,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE;EACxB,IAAI,MAAM,OAAO,GAAG,CAAC,IAAI,KAAK;EAC9B,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC;EACrB,MAAM,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;EAC/B,IAAI,CAAC,CAAC;EACN,IAAI,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;EAC5B,EAAE,CAAC;EACH;;ECxDA;EACA;EACA;EACA;AACA;AAKA;EACO,MAAM,eAAe,SAAS,YAAY,CAAC;EAClD,EAAE,WAAW,CAAC,SAAS,EAAE;EACzB,IAAI,KAAK,EAAE,CAAC;EACZ,IAAI,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;EAC/B,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;EAC3B,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;EACjC,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;EACxB,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;EACzB,IAAI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACvB,IAAI,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;EAC5B,IAAI,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;EAC1B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,cAAc,GAAG,EAAE,EAAE;EAC9C,IAAI,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;EACjC,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC;AAC/C;EACA,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;EAClB,IAAI,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;EAC/B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,GAAG;EACX,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE,aAAa,EAAE,CAAC,SAAS,CAAC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC,CAAC;AACN;EACA,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;EAC/B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,mBAAmB,GAAG;EACxB,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;EACzE,IAAI,IAAI,WAAW,EAAE;EACrB,MAAM,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK;EAC5D,QAAQ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;EAC1C,QAAQ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;EAC7B,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EACf,IAAI,CAAC;AACL;EACA,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;EAC/D,IAAI,IAAI,OAAO,EAAE;EACjB,MAAM,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EAC9C,QAAQ,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;EAClC,UAAU,IAAI,CAAC,WAAW,EAAE,CAAC;EAC7B,UAAU,IAAI,CAAC,aAAa,EAAE,CAAC;EAC/B,QAAQ,CAAC;EACT,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;AACL;EACA,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;EAC/D,IAAI,IAAI,OAAO,EAAE;EACjB,MAAM,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EAC9C,QAAQ,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;EAC1E,QAAQ,IAAI,IAAI,CAAC,WAAW,GAAG,UAAU,EAAE;EAC3C,UAAU,IAAI,CAAC,WAAW,EAAE,CAAC;EAC7B,UAAU,IAAI,CAAC,aAAa,EAAE,CAAC;EAC/B,QAAQ,CAAC;EACT,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,aAAa,GAAG;EACxB,IAAI,IAAI;EACR,MAAM,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,YAAY,CAAC;EAC9C,QAAQ,MAAM,EAAE,IAAI,CAAC,UAAU;EAC/B,QAAQ,MAAM,EAAE,IAAI,CAAC,WAAW;EAChC,QAAQ,KAAK,EAAE,IAAI,CAAC,QAAQ;EAC5B,QAAQ,MAAM,EAAE,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ;EACtD,OAAO,CAAC,CAAC;AACT;EACA,MAAM,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,IAAI,EAAE,CAAC;EAChD,MAAM,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,KAAK,IAAI,CAAC,CAAC;AAChD;EACA,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;EAC7B,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;AAC9B;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;EACxD,MAAM,SAAS,CAAC,0BAA0B,EAAE,OAAO,CAAC,CAAC;EACrD,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;EACzB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,eAAe,GAAG;EACpB,IAAI,MAAM,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;EACzE,IAAI,IAAI,CAAC,aAAa,EAAE,OAAO;AAC/B;EACA,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;EACrC,MAAM,cAAc,CAAC,aAAa,EAAE;EACpC,QAAQ,IAAI,EAAE,IAAI;EAClB,QAAQ,KAAK,EAAE,oBAAoB;EACnC,QAAQ,WAAW,EAAE,IAAI,CAAC,WAAW,GAAG,sCAAsC,GAAG,EAAE;EACnF,OAAO,CAAC,CAAC;EACT,MAAM,OAAO;EACb,IAAI,CAAC;AACL;EACA,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AAC1C,gCAAgC,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,UAAU,GAAG,EAAE,CAAC;AAC/E,oBAAoB,EAAE,CAAC,CAAC,EAAE,CAAC;AAC3B;AACA,wBAAwB,EAAE,CAAC,CAAC,EAAE,CAAC;AAC/B,eAAe,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC;AAC7D;AACA,yCAAyC,EAAE,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE,CAAC;AAC5D,mCAAmC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AACpE,UAAU,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,6BAA6B,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;AAC5E;AACA;AACA,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAChB;EACA,IAAI,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;AACnC;EACA;EACA,IAAI,aAAa,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI;EACrE,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK;EAC5C,QAAQ,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;EAC3C,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;AACtE;EACA;EACA,QAAQ,IAAI,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE;EACnC,UAAU,QAAQ,CAAC,OAAO,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC;EAC/C,QAAQ,CAAC;AACT;EACA,QAAQ,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;EAC3D,MAAM,CAAC,CAAC,CAAC;AACT;EACA,MAAM,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;EACpE,MAAM,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;EACjD,QAAQ,CAAC,CAAC,eAAe,EAAE,CAAC;EAC5B,QAAQ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;EAChE,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC,CAAC,CAAC;AACP;EACA,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB,IAAI,MAAM,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;EACzE,IAAI,IAAI,CAAC,aAAa,EAAE,OAAO;AAC/B;EACA,IAAI,cAAc,CAAC,aAAa,EAAE;EAClC,MAAM,IAAI,EAAE,IAAI;EAChB,MAAM,KAAK,EAAE,iBAAiB;EAC9B,MAAM,WAAW,EAAE,8BAA8B;EACjD,KAAK,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,gBAAgB,GAAG;EACrB,IAAI,MAAM,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;EAC5E,IAAI,IAAI,CAAC,mBAAmB,EAAE,OAAO;AACrC;EACA,IAAI,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;AACtE;EACA,IAAI,IAAI,UAAU,IAAI,CAAC,EAAE;EACzB,MAAM,mBAAmB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EACjD,MAAM,OAAO;EACb,IAAI,CAAC;AACL;EACA,IAAI,mBAAmB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AAC/C;EACA,IAAI,MAAM,eAAe,GAAG,mBAAmB,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;EAC/E,IAAI,MAAM,cAAc,GAAG,mBAAmB,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;EAC7E,IAAI,MAAM,OAAO,GAAG,mBAAmB,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;EACpE,IAAI,MAAM,OAAO,GAAG,mBAAmB,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;AACpE;EACA,IAAI,IAAI,eAAe,EAAE,eAAe,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;EACxE,IAAI,IAAI,cAAc,EAAE,cAAc,CAAC,WAAW,GAAG,UAAU,CAAC;AAChE;EACA,IAAI,IAAI,OAAO,EAAE;EACjB,MAAM,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,KAAK,CAAC,CAAC;EAChD,IAAI,CAAC;AACL;EACA,IAAI,IAAI,OAAO,EAAE;EACjB,MAAM,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,KAAK,UAAU,CAAC;EACzD,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,eAAe,CAAC,UAAU,EAAE,QAAQ,EAAE;EACxC,IAAI,IAAI,QAAQ,EAAE;EAClB,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;EACvC,IAAI,CAAC,MAAM;EACX,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;EAC1C,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,wBAAwB,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;EACzF,IAAI,IAAI,IAAI,EAAE;EACd,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;EAClD,IAAI,CAAC;AACL;EACA,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;EACzB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;EACtD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,aAAa,GAAG;EAClB,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;EACpE,IAAI,IAAI,OAAO,EAAE;EACjB,MAAM,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;EAClD,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,YAAY,CAAC,IAAI,EAAE,SAAS,EAAE;EAChC,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,EAAE,OAAO,IAAI,CAAC;EAC9C,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,GAAG,KAAK,CAAC;EAChD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,cAAc,GAAG;EACnB,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACxC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,cAAc,CAAC,GAAG,EAAE;EACtB,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;EACpC,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;EACzB,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;EAC3B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,cAAc,GAAG;EACnB,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;EAC7B,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;EACzB,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;EAC3B,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;EAC5B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,OAAO,GAAG;EACZ,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,EAAE,CAAC;EAClC,EAAE,CAAC;EACH;;ECpTA;EACA;EACA;EACA;AACA;AAIA;EACO,MAAM,eAAe,SAAS,YAAY,CAAC;EAClD,EAAE,WAAW,CAAC,SAAS,EAAE;EACzB,IAAI,KAAK,EAAE,CAAC;EACZ,IAAI,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;EAC/B,IAAI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACvB,IAAI,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;EAC/B,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;EACjC,IAAI,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;EAC1B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,IAAI,CAAC,QAAQ,EAAE;EACvB,IAAI,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;EAC7B,IAAI,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC;AACrC;EACA,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;EAClB,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;EAC1B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,GAAG;EACX,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC,CAAC;AACN;EACA,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;EAC/B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,mBAAmB,GAAG;EACxB,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;EACxE,IAAI,IAAI,WAAW,EAAE;EACrB,MAAM,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK;EAC5D,QAAQ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;EACxD,QAAQ,IAAI,CAAC,cAAc,EAAE,CAAC;EAC9B,QAAQ,IAAI,CAAC,cAAc,EAAE,CAAC;EAC9B,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EACf,IAAI,CAAC;AACL;EACA,IAAI,MAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;EACrE,IAAI,IAAI,YAAY,EAAE;EACtB,MAAM,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;EACrE,IAAI,CAAC;AACL;EACA,IAAI,MAAM,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;EACvE,IAAI,IAAI,aAAa,EAAE;EACvB,MAAM,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;EACvE,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,cAAc,GAAG;EACnB,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;EAC3B,MAAM,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC;EAC5C,MAAM,OAAO;EACb,IAAI,CAAC;AACL;EACA,IAAI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,IAAI;EAC5D,MAAM,MAAM,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,EAAE,WAAW,EAAE,CAAC;EACtD,MAAM,MAAM,QAAQ,GAAG,CAAC,OAAO,CAAC,QAAQ,IAAI,EAAE,EAAE,WAAW,EAAE,CAAC;EAC9D,MAAM,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACpF,IAAI,CAAC,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,cAAc,GAAG;EACnB,IAAI,MAAM,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;EACxE,IAAI,IAAI,CAAC,aAAa,EAAE,OAAO;AAC/B;EACA,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,EAAE;EAC5C,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;EACtC,QAAQ,cAAc,CAAC,aAAa,EAAE;EACtC,UAAU,IAAI,EAAE,IAAI;EACpB,UAAU,KAAK,EAAE,yBAAyB;EAC1C,UAAU,WAAW,EAAE,0DAA0D;EACjF,SAAS,CAAC,CAAC;EACX,MAAM,CAAC,MAAM;EACb,QAAQ,cAAc,CAAC,aAAa,EAAE;EACtC,UAAU,IAAI,EAAE,IAAI;EACpB,UAAU,KAAK,EAAE,oBAAoB;EACrC,UAAU,WAAW,EAAE,sCAAsC;EAC7D,SAAS,CAAC,CAAC;EACX,MAAM,CAAC;EACP,MAAM,OAAO;EACb,IAAI,CAAC;AACL;EACA,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,IAAI,CAAC;AACvD,+BAA+B,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,UAAU,GAAG,EAAE,CAAC;AACzF,oBAAoB,EAAE,OAAO,CAAC,OAAO,CAAC;AACtC;AACA,wBAAwB,EAAE,OAAO,CAAC,OAAO,CAAC;AAC1C,eAAe,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC;AACxE;AACA,oCAAoC,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,IAAI,YAAY,CAAC,CAAC;AACpF,UAAU,EAAE,OAAO,CAAC,QAAQ,GAAG,CAAC,+BAA+B,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;AAC/F,UAAU,EAAE,OAAO,CAAC,KAAK,GAAG,CAAC;AAC7B;AACA,+BAA+B,EAAE,OAAO,CAAC,KAAK,CAAC,qBAAqB,IAAI,CAAC,CAAC;AAC1E,kCAAkC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AAClF;AACA,UAAU,CAAC,GAAG,EAAE,CAAC;AACjB;AACA;AACA,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAChB;EACA,IAAI,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;AACnC;EACA;EACA,IAAI,aAAa,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI;EACpE,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK;EAC5C,QAAQ,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;EACpD,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;AACtE;EACA,QAAQ,IAAI,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE;EACnC,UAAU,QAAQ,CAAC,OAAO,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC;EAC/C,QAAQ,CAAC;AACT;EACA,QAAQ,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;EAC1D,MAAM,CAAC,CAAC,CAAC;AACT;EACA,MAAM,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;EACpE,MAAM,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;EACjD,QAAQ,CAAC,CAAC,eAAe,EAAE,CAAC;EAC5B,QAAQ,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;EAC1E,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC,CAAC,CAAC;AACP;EACA,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,eAAe,CAAC,SAAS,EAAE,QAAQ,EAAE;EACvC,IAAI,IAAI,QAAQ,EAAE;EAClB,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;EACtC,IAAI,CAAC,MAAM;EACX,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;EACzC,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,uBAAuB,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;EACvF,IAAI,IAAI,IAAI,EAAE;EACd,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;EAClD,IAAI,CAAC;AACL;EACA,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;EACzB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;EACtD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,SAAS,GAAG;EACd,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,OAAO,IAAI;EAC7C,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;EACvC,IAAI,CAAC,CAAC,CAAC;AACP;EACA,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;EAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;EACtD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,UAAU,GAAG;EACf,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;EAC7B,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;EAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;EAC5B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,aAAa,GAAG;EAClB,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;EAC7E,IAAI,IAAI,OAAO,EAAE;EACjB,MAAM,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;EAClD,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACxC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,CAAC,GAAG,EAAE;EACnB,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;EACpC,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;EAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;EACtD,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,UAAU,CAAC,GAAG,EAAE;EAClB,IAAI,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAC9C,IAAI,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC;EAC1B,IAAI,OAAO,GAAG,CAAC,SAAS,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,OAAO,GAAG;EACZ,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,EAAE,CAAC;EAClC,EAAE,CAAC;EACH;;EC9PA;EACA;EACA;EACA;AACA;AAGA;EACO,MAAM,YAAY,CAAC;EAC1B,EAAE,WAAW,CAAC,YAAY,EAAE;EAC5B,IAAI,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC;EAC9B,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;EACtB,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;EAC/B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,IAAI,CAAC,KAAK,EAAE,cAAc,EAAE;EAC9B,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;EACvB,IAAI,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;AACzC;EACA,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;EAClB,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;EAC7B,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;EAC/B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,GAAG;EACX,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;EACzD,IAAI,IAAI,CAAC,IAAI,EAAE,OAAO;AACtB;EACA,IAAI,MAAM;EACV,MAAM,KAAK;EACX,MAAM,WAAW;EACjB,MAAM,cAAc;EACpB,MAAM,UAAU;EAChB,MAAM,OAAO;EACb,MAAM,QAAQ;EACd,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC;AAC5B;EACA;EACA,IAAI,MAAM,cAAc,GAAG,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC;AACjE;EACA,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC;AACtB;AACA,0BAA0B,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AACnD;AACA,QAAQ,EAAE,WAAW,GAAG,CAAC,4BAA4B,EAAE,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;AAC/F;AACA;AACA;AACA;AACA,+BAA+B,EAAE,oBAAoB,CAAC,cAAc,CAAC,CAAC;AACtE;AACA;AACA;AACA;AACA,+BAA+B,EAAE,cAAc,CAAC;AAChD;AACA;AACA;AACA;AACA,+BAA+B,EAAE,WAAW,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;AACjG;AACA;AACA;AACA;AACA,+BAA+B,EAAE,QAAQ,GAAG,UAAU,CAAC,QAAQ,CAAC,GAAG,cAAc,CAAC;AAClF;AACA;AACA;AACA,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC,CAAC;EACN,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,iBAAiB,CAAC,OAAO,EAAE,cAAc,EAAE;EAC7C,IAAI,IAAI,cAAc,KAAK,WAAW,EAAE;EACxC,MAAM,OAAO,CAAC;AACd;AACA;AACA;AACA;AACA,MAAM,CAAC,CAAC;EACR,IAAI,CAAC;AACL;EACA,IAAI,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;EAC1C,MAAM,OAAO,EAAE,CAAC;EAChB,IAAI,CAAC;AACL;EACA,IAAI,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI;EAC9C,MAAM,IAAI,OAAO,GAAG,EAAE,CAAC;AACvB;EACA,MAAM,IAAI,MAAM,CAAC,cAAc,KAAK,KAAK,EAAE;EAC3C,QAAQ,OAAO,GAAG,uBAAuB,CAAC;EAC1C,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,cAAc,KAAK,QAAQ,EAAE;EACrD,QAAQ,OAAO,GAAG,CAAC,EAAE,MAAM,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;EAChE,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,cAAc,KAAK,UAAU,EAAE;EACvD,QAAQ,OAAO,GAAG,CAAC,EAAE,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;EACrE,MAAM,CAAC;AACP;EACA,MAAM,OAAO,CAAC;AACd;AACA,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,WAAW,EAAE,OAAO,CAAC;AAChF;AACA,MAAM,CAAC,CAAC;EACR,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAChB;EACA,IAAI,OAAO,CAAC;AACZ;AACA;AACA;AACA,UAAU,EAAE,WAAW,CAAC;AACxB;AACA;AACA,IAAI,CAAC,CAAC;EACN,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,uBAAuB,CAAC,OAAO,EAAE;EACnC,IAAI,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;AACnD;EACA,IAAI,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,MAAM,KAAK;EAC7C,MAAM,IAAI,MAAM,CAAC,cAAc,KAAK,UAAU,EAAE;EAChD,QAAQ,OAAO,KAAK,GAAG,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC;EAClD,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,cAAc,KAAK,QAAQ,EAAE;EACrD,QAAQ,OAAO,KAAK,IAAI,MAAM,CAAC,cAAc,IAAI,CAAC,CAAC,CAAC;EACpD,MAAM,CAAC,MAAM;EACb;EACA;EACA,QAAQ,OAAO,KAAK,CAAC;EACrB,MAAM,CAAC;EACP,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,mBAAmB,GAAG;EACxB,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;EACpE,IAAI,IAAI,QAAQ,EAAE;EAClB,MAAM,QAAQ,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;EAC3C,IAAI,CAAC;AACL;EACA,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;EAClE,IAAI,IAAI,OAAO,EAAE;EACjB,MAAM,OAAO,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;EAC1C,IAAI,CAAC;AACL;EACA;EACA,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,IAAI,GAAG;EACT,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;EAC7B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,aAAa,CAAC,IAAI,EAAE;EACtB,IAAI,MAAM,KAAK,GAAG;EAClB,MAAM,WAAW,EAAE,0BAA0B;EAC7C,MAAM,QAAQ,EAAE,eAAe;EAC/B,MAAM,QAAQ,EAAE,eAAe;EAC/B,MAAM,QAAQ,EAAE,eAAe;EAC/B,MAAM,QAAQ,EAAE,eAAe;EAC/B,KAAK,CAAC;EACN,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;EAC/B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,UAAU,CAAC,GAAG,EAAE;EAClB,IAAI,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAC9C,IAAI,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC;EAC1B,IAAI,OAAO,GAAG,CAAC,SAAS,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,OAAO,GAAG;EACZ,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;EAChB,EAAE,CAAC;EACH;;ECrNA;EACA;EACA;EACA;AACA;AASA;EACO,MAAM,cAAc,CAAC;EAC5B,EAAE,WAAW,CAAC,SAAS,EAAE;EACzB,IAAI,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC/B;EACA;EACA,IAAI,IAAI,CAAC,KAAK,GAAG;EACjB,MAAM,cAAc,EAAE,IAAI;EAC1B,MAAM,OAAO,EAAE,EAAE;EACjB,MAAM,KAAK,EAAE,EAAE;EACf,MAAM,WAAW,EAAE,EAAE;EACrB,MAAM,UAAU,EAAE,EAAE;EACpB,MAAM,QAAQ,EAAE,IAAI;EACpB,KAAK,CAAC;AACN;EACA;EACA,IAAI,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;EAChC,IAAI,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;EAChC,IAAI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AAC7B;EACA;EACA,IAAI,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;EAC7B,IAAI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;EAC5B,IAAI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;AACjC;EACA;EACA,IAAI,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;EAC/B,IAAI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACvB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,IAAI,GAAG;EACf,IAAI,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;AAClD;EACA,IAAI,IAAI;EACR;EACA,MAAM,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;AAC5B;EACA;EACA,MAAM,IAAI,CAAC,mBAAmB,EAAE,CAAC;AACjC;EACA;EACA,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;AAC7B;EACA;EACA,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;AAC3B;EACA;EACA,MAAM,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe;EAChD,QAAQ,QAAQ,CAAC,cAAc,CAAC,0BAA0B,CAAC;EAC3D,OAAO,CAAC;EACR,MAAM,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrD;EACA;EACA,MAAM,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,WAAW,KAAK;EACzD,QAAQ,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,WAAW,CAAC;EAC5C,QAAQ,OAAO,CAAC,GAAG,CAAC,oCAAoC,EAAE,WAAW,CAAC,CAAC;EACvE,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,QAAQ,IAAI,CAAC,kBAAkB,EAAE,CAAC;EAClC,MAAM,CAAC,CAAC,CAAC;AACT;EACA,MAAM,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY;EAC1C,QAAQ,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC;EAChD,OAAO,CAAC;AACR;EACA,MAAM,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;EAC9B,MAAM,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;AAChD;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,sCAAsC,EAAE,KAAK,CAAC,CAAC;EACnE,MAAM,SAAS,CAAC,4BAA4B,EAAE,OAAO,CAAC,CAAC;EACvD,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,QAAQ,GAAG;EACnB,IAAI,IAAI;EACR;EACA,MAAM,MAAM,CAAC,eAAe,EAAE,gBAAgB,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;EACpE,QAAQ,GAAG,CAAC,UAAU,EAAE;EACxB,QAAQ,GAAG,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;EACvC,OAAO,CAAC,CAAC;AACT;EACA,MAAM,IAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC,OAAO,IAAI,EAAE,CAAC;EAC5D,MAAM,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,IAAI,EAAE,CAAC;AACtD;EACA,MAAM,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE;EAClC,QAAQ,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM;EAC7C,QAAQ,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;EACtC,OAAO,CAAC,CAAC;AACT;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;EACnD,MAAM,MAAM,KAAK,CAAC;EAClB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,mBAAmB,GAAG;EACxB;EACA,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;EACpE,IAAI,SAAS,CAAC,OAAO,CAAC,IAAI,IAAI;EAC9B,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EAC3C,QAAQ,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;EACvC,QAAQ,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;EACvC,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC,CAAC,CAAC;AACP;EACA;EACA,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;EACnE,IAAI,IAAI,UAAU,EAAE;EACpB,MAAM,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK;EAClD,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;EAC1C,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;AACL;EACA,IAAI,MAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;EAC/E,IAAI,IAAI,gBAAgB,EAAE;EAC1B,MAAM,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK;EACxD,QAAQ,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;EAChD,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,oBAAoB,GAAG,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAC;EAClF,IAAI,oBAAoB,CAAC,OAAO,CAAC,GAAG,IAAI;EACxC,MAAM,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EAC1C,QAAQ,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EAChD,QAAQ,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;EACvC,QAAQ,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;EACxC,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC,CAAC,CAAC;AACP;EACA,IAAI,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;EACpE,IAAI,IAAI,aAAa,EAAE;EACvB,MAAM,aAAa,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;EACtD,QAAQ,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;EAC7C,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,QAAQ,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;EACzC,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;AACL;EACA,IAAI,MAAM,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;EACtE,IAAI,IAAI,kBAAkB,EAAE;EAC5B,MAAM,kBAAkB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;EAC3D,QAAQ,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;EAC9B,UAAU,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;EACrC,UAAU,IAAI,aAAa,EAAE;EAC7B,YAAY,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;EACrC,YAAY,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC;EAC1C,UAAU,CAAC;EACX,UAAU,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;EAC3C,QAAQ,CAAC,MAAM;EACf,UAAU,IAAI,aAAa,EAAE;EAC7B,YAAY,aAAa,CAAC,QAAQ,GAAG,KAAK,CAAC;EAC3C,UAAU,CAAC;EACX,QAAQ,CAAC;EACT,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;AACL;EACA;EACA,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,eAAe,GAAG;EACpB,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;EACnE,IAAI,IAAI,UAAU,EAAE;EACpB,MAAM,oBAAoB,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;EACvD,IAAI,CAAC;AACL;EACA,IAAI,MAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;EAC/E,IAAI,IAAI,gBAAgB,EAAE;EAC1B,MAAM,oBAAoB,CAAC,gBAAgB,EAAE,oBAAoB,CAAC,CAAC;EACnE,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,mBAAmB,CAAC,IAAI,EAAE;EAClC,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;AACxC;EACA;EACA,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;EACpE,IAAI,SAAS,CAAC,OAAO,CAAC,IAAI,IAAI;EAC9B,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;EACpE,IAAI,CAAC,CAAC,CAAC;AACP;EACA;EACA,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;EACrC,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;AACzB;EACA;EACA,IAAI,MAAM,CAAC,6BAAmC,CAAC,CAAC;EAChD,IAAI,MAAM,CAAC,kBAAwB,CAAC,CAAC;EACrC,IAAI,MAAM,CAAC,mBAAyB,CAAC,CAAC;EACtC,IAAI,MAAM,CAAC,mBAAyB,CAAC,CAAC;AACtC;EACA;EACA,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC;AACtB;EACA;EACA,IAAI,MAAM,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;AAC3C;EACA;EACA,IAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC;EAC9B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,qBAAqB,CAAC,IAAI,EAAE;EACpC,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,4BAA4B,CAAC,CAAC;EAC5E,IAAI,IAAI,CAAC,SAAS,EAAE,OAAO;AAC3B;EACA,IAAI,IAAI;EACR;EACA,MAAM,IAAI,IAAI,KAAK,OAAO,EAAE;EAC5B,QAAQ,MAAM,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;EACpD,MAAM,CAAC;EACP;EACA,WAAW,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;EACrF,QAAQ,MAAM,IAAI,CAAC,qBAAqB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;EAC1D,MAAM,CAAC;EACP;EACA,WAAW,IAAI,IAAI,KAAK,WAAW,EAAE;EACrC,QAAQ,SAAS,CAAC,SAAS,GAAG,CAAC;AAC/B;AACA,QAAQ,CAAC,CAAC;EACV,MAAM,CAAC;AACP;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC,CAAC;EACjE,MAAM,SAAS,CAAC,0BAA0B,EAAE,OAAO,CAAC,CAAC;EACrD,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,qBAAqB,CAAC,SAAS,EAAE;EACzC,IAAI,SAAS,CAAC,SAAS,GAAG,CAAC;AAC3B;AACA;AACA;AACA;AACA,IAAI,CAAC,CAAC;AACN;EACA,IAAI,MAAM,UAAU,GAAG,SAAS,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;AAC/D;EACA,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,MAAM,IAAI;EAC5C,MAAM,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EACvD,MAAM,UAAU,CAAC,SAAS,GAAG,aAAa,CAAC;EAC3C,MAAM,UAAU,CAAC,OAAO,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC;AAClD;EACA,MAAM,UAAU,CAAC,SAAS,GAAG,CAAC;AAC9B;AACA,4CAA4C,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC;AACjF,6BAA6B,EAAE,MAAM,CAAC,IAAI,CAAC,uBAAuB,EAAE,MAAM,CAAC,IAAI,CAAC;AAChF,qCAAqC,EAAE,MAAM,CAAC,eAAe,CAAC;AAC9D;AACA;AACA;AACA;AACA,0EAA0E,EAAE,MAAM,CAAC,IAAI,CAAC;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,EAAE,MAAM,CAAC,IAAI,CAAC;AAC9C,gCAAgC,EAAE,MAAM,CAAC,eAAe,CAAC;AACzD;AACA;AACA;AACA;AACA,iCAAiC,EAAE,MAAM,CAAC,IAAI,CAAC;AAC/C;AACA;AACA,8DAA8D,EAAE,MAAM,CAAC,IAAI,CAAC;AAC5E;AACA;AACA;AACA;AACA,MAAM,CAAC,CAAC;AACR;EACA,MAAM,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;EACzC,IAAI,CAAC,CAAC,CAAC;AACP;EACA;EACA,IAAI,IAAI,CAAC,yBAAyB,CAAC,SAAS,CAAC,CAAC;EAC9C,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,yBAAyB,CAAC,SAAS,EAAE;EACvC;EACA,IAAI,SAAS,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC,OAAO,CAAC,QAAQ,IAAI;EAC1F,MAAM,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;EACjD,QAAQ,MAAM,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;EAC5D,QAAQ,MAAM,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AAC1C;EACA,QAAQ,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;EAC9B,UAAU,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;EAC/C,UAAU,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;EACrC,QAAQ,CAAC,MAAM;EACf,UAAU,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;EAClD,UAAU,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;EACxC,QAAQ,CAAC;AACT;EACA,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,QAAQ,IAAI,CAAC,kBAAkB,EAAE,CAAC;EAClC,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC,CAAC,CAAC;AACP;EACA;EACA,IAAI,SAAS,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI;EAC3E,MAAM,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;EAC/C,QAAQ,MAAM,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;EACnD,QAAQ,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;EACpC,QAAQ,MAAM,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;AAC5D;EACA;EACA,QAAQ,MAAM,UAAU,GAAG,UAAU,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;EAC3E,QAAQ,MAAM,aAAa,GAAG,UAAU,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;AACjF;EACA,QAAQ,IAAI,IAAI,KAAK,UAAU,EAAE;EACjC,UAAU,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAC5C,UAAU,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;EAChD,QAAQ,CAAC,MAAM,IAAI,IAAI,KAAK,KAAK,EAAE;EACnC,UAAU,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAC5C,UAAU,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAC/C,QAAQ,CAAC,MAAM;EACf,UAAU,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;EAC7C,UAAU,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;EAC/C,QAAQ,CAAC;AACT;EACA,QAAQ,IAAI,CAAC,yBAAyB,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;EACzD,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC,CAAC,CAAC;AACP;EACA;EACA,IAAI,SAAS,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC,OAAO,CAAC,KAAK,IAAI;EAC1E,MAAM,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK;EACtD,QAAQ,MAAM,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;EACnD,QAAQ,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/C;EACA,QAAQ,IAAI,CAAC,yBAAyB,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;EAC1D,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EACf,IAAI,CAAC,CAAC,CAAC;AACP;EACA;EACA,IAAI,SAAS,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI;EACvE,MAAM,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK;EACjD,QAAQ,MAAM,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;EACnD,QAAQ,MAAM,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;EACnD,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,CAAC,UAAU,EAAE;EACxB,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,UAAU,CAAC,CAAC;EAChF,IAAI,IAAI,CAAC,QAAQ,EAAE;EACnB,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;EAC9B,QAAQ,WAAW,EAAE,UAAU;EAC/B,QAAQ,cAAc,EAAE,QAAQ;EAChC,QAAQ,cAAc,EAAE,IAAI;EAC5B,QAAQ,YAAY,EAAE,EAAE;EACxB,OAAO,CAAC,CAAC;EACT,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,YAAY,CAAC,UAAU,EAAE;EAC3B,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,UAAU,CAAC,CAAC;EACtF,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,yBAAyB,CAAC,UAAU,EAAE,IAAI,EAAE;EAC9C,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,UAAU,CAAC,CAAC;EAC9E,IAAI,IAAI,MAAM,EAAE;EAChB,MAAM,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC;AACnC;EACA;EACA,MAAM,IAAI,IAAI,KAAK,KAAK,EAAE;EAC1B,QAAQ,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC;EACrC,QAAQ,MAAM,CAAC,YAAY,GAAG,EAAE,CAAC;EACjC,MAAM,CAAC,MAAM,IAAI,IAAI,KAAK,QAAQ,EAAE;EACpC,QAAQ,MAAM,CAAC,YAAY,GAAG,EAAE,CAAC;EACjC,MAAM,CAAC,MAAM,IAAI,IAAI,KAAK,UAAU,EAAE;EACtC,QAAQ,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC;EACrC,MAAM,CAAC;EACP,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,yBAAyB,CAAC,UAAU,EAAE,KAAK,EAAE;EAC/C,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,UAAU,CAAC,CAAC;EAC9E,IAAI,IAAI,MAAM,EAAE;EAChB,MAAM,MAAM,CAAC,cAAc,GAAG,KAAK,CAAC;EACpC,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,mBAAmB,CAAC,UAAU,EAAE;EACxC,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,UAAU,CAAC,CAAC;EAC9E,IAAI,IAAI,CAAC,MAAM,EAAE,OAAO;AACxB;EACA,IAAI,IAAI;EACR;EACA,MAAM,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EAClD,MAAM,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;EAChC,MAAM,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AACnC;EACA,MAAM,KAAK,CAAC,SAAS,GAAG,CAAC;AACzB;AACA;AACA,gCAAgC,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,CAAC,CAAC;AACR;EACA,MAAM,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AACvC;EACA,MAAM,MAAM,gBAAgB,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;EAC1E,MAAM,MAAM,eAAe,GAAG,IAAI,eAAe,CAAC,gBAAgB,CAAC,CAAC;EACpE,MAAM,MAAM,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC;AAClE;EACA;EACA,MAAM,KAAK,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EAClF,QAAQ,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EACzC,MAAM,CAAC,CAAC,CAAC;AACT;EACA,MAAM,KAAK,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EAC7E,QAAQ,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EACzC,MAAM,CAAC,CAAC,CAAC;AACT;EACA,MAAM,KAAK,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EAC9E,QAAQ,MAAM,WAAW,GAAG,eAAe,CAAC,cAAc,EAAE,CAAC;EAC7D,QAAQ,MAAM,CAAC,YAAY,GAAG,WAAW,CAAC;AAC1C;EACA;EACA,QAAQ,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,sCAAsC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5G,QAAQ,IAAI,WAAW,EAAE;EACzB,UAAU,WAAW,CAAC,SAAS,GAAG,CAAC,iBAAiB,EAAE,WAAW,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EAC1H,QAAQ,CAAC;AACT;EACA,QAAQ,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EACzC,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;EAC7B,MAAM,CAAC,CAAC,CAAC;AACT;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,kCAAkC,EAAE,KAAK,CAAC,CAAC;EAC/D,MAAM,SAAS,CAAC,mCAAmC,EAAE,OAAO,CAAC,CAAC;EAC9D,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,MAAM,qBAAqB,CAAC,SAAS,EAAE,UAAU,EAAE;EACrD,IAAI,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC,CAAC;EAC1D,IAAI,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAChD;EACA;EACA;EACA,IAAI,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,WAAW,KAAK;EACvD,MAAM,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;AAC7D;EACA;EACA,MAAM,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,KAAK,UAAU,CAAC,CAAC;AAC9E;EACA,MAAM,IAAI,CAAC,MAAM,EAAE;EACnB;EACA,QAAQ,MAAM,GAAG;EACjB,UAAU,WAAW,EAAE,UAAU;EACjC,UAAU,cAAc,EAAE,UAAU;EACpC,UAAU,cAAc,EAAE,IAAI;EAC9B,UAAU,YAAY,EAAE,WAAW;EACnC,SAAS,CAAC;EACV,QAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACxC,QAAQ,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;EACnD,MAAM,CAAC,MAAM;EACb;EACA,QAAQ,MAAM,CAAC,cAAc,GAAG,UAAU,CAAC;EAC3C,QAAQ,MAAM,CAAC,YAAY,GAAG,WAAW,CAAC;EAC1C,QAAQ,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC;EACrC,QAAQ,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;EACxD,MAAM,CAAC;AACP;EACA,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;EAC3B,MAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;EAChC,MAAM,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;EAChE,IAAI,CAAC,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,mBAAmB,CAAC,IAAI,EAAE;EAC5B,IAAI,MAAM,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC;EAChC,IAAI,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;EAChD,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACpC;EACA,IAAI,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;EACpE,IAAI,IAAI,aAAa,EAAE;EACvB;EACA,MAAM,MAAM,SAAS,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;EAC5D,MAAM,aAAa,CAAC,KAAK,GAAG,SAAS,CAAC;EACtC,MAAM,aAAa,CAAC,QAAQ,GAAG,KAAK,CAAC;EACrC,IAAI,CAAC;AACL;EACA,IAAI,MAAM,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;EACtE,IAAI,IAAI,kBAAkB,EAAE;EAC5B,MAAM,kBAAkB,CAAC,OAAO,GAAG,KAAK,CAAC;EACzC,IAAI,CAAC;AACL;EACA,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;EACjD,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,qBAAqB,CAAC,SAAS,EAAE;EACnC,IAAI,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI;EACpE,MAAM,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,GAAG,KAAK,SAAS,CAAC,CAAC;EAC1D,IAAI,CAAC,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,QAAQ,GAAG;EACb,IAAI,MAAM,MAAM,GAAG,sBAAsB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACtD;EACA;EACA,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;AAC5B;EACA,IAAI,OAAO,MAAM,CAAC;EAClB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,UAAU,CAAC,MAAM,EAAE;EACrB;EACA,IAAI,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,EAAE,IAAI;EAChE,MAAM,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;EAClC,IAAI,CAAC,CAAC,CAAC;EACP,IAAI,QAAQ,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,CAAC,OAAO,CAAC,EAAE,IAAI;EACjE,MAAM,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;EACnC,IAAI,CAAC,CAAC,CAAC;AACP;EACA;EACA,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,KAAK;EACzD,MAAM,IAAI,KAAK,GAAG,IAAI,CAAC;AACvB;EACA,MAAM,IAAI,KAAK,KAAK,OAAO,EAAE;EAC7B,QAAQ,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;EAC5D,MAAM,CAAC,MAAM,IAAI,KAAK,KAAK,aAAa,EAAE;EAC1C,QAAQ,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;EAClE,MAAM,CAAC,MAAM,IAAI,KAAK,KAAK,UAAU,EAAE;EACvC,QAAQ,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;EAC1D,MAAM,CAAC;AACP;EACA,MAAM,IAAI,KAAK,EAAE;EACjB,QAAQ,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;EACrC,QAAQ,MAAM,YAAY,GAAG,KAAK,CAAC,aAAa,EAAE,aAAa,CAAC,aAAa,CAAC,CAAC;EAC/E,QAAQ,IAAI,YAAY,EAAE;EAC1B,UAAU,YAAY,CAAC,WAAW,GAAG,OAAO,CAAC;EAC7C,UAAU,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;EAC7C,QAAQ,CAAC;EACT,MAAM,CAAC;EACP,IAAI,CAAC,CAAC,CAAC;EACP,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,kBAAkB,GAAG;EACvB,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;EAC5D,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;AAC9D;EACA,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,UAAU,EAAE,OAAO;AAC1C;EACA,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;AACvC;EACA;EACA,IAAI,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,OAAO,CAAC,CAAC;EAC1D,IAAI,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE;EAC/C,MAAM,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc;EAC/C,MAAM,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK;EAC7B,MAAM,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE,MAAM;EACnD,MAAM,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU;EACvC,MAAM,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM;EACrD,MAAM,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO;EACjC,MAAM,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM;EAC/C,KAAK,CAAC,CAAC;AACP;EACA,IAAI,SAAS,CAAC,QAAQ,GAAG,CAAC,OAAO,CAAC;EAClC,IAAI,UAAU,CAAC,QAAQ,GAAG,CAAC,OAAO,CAAC;EACnC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB;AACA;EACA;EACA,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,OAAO,KAAK,CAAC;EACjD,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC;EACzD,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;AACzD;EACA;EACA,IAAI,MAAM,YAAY,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;AAC5H;EACA,IAAI,IAAI,YAAY,EAAE;EACtB;EACA,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;EAClE,QAAQ,OAAO,KAAK,CAAC;EACrB,MAAM,CAAC;AACP;EACA;EACA,MAAM,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;EAC/C,QAAQ,IAAI,MAAM,CAAC,cAAc,KAAK,UAAU,EAAE;EAClD,UAAU,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,MAAM,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;EACxE,YAAY,OAAO,KAAK,CAAC;EACzB,UAAU,CAAC;EACX,QAAQ,CAAC,MAAM,IAAI,MAAM,CAAC,cAAc,KAAK,QAAQ,EAAE;EACvD,UAAU,IAAI,CAAC,MAAM,CAAC,cAAc,IAAI,MAAM,CAAC,cAAc,GAAG,CAAC,EAAE;EACnE,YAAY,OAAO,KAAK,CAAC;EACzB,UAAU,CAAC;EACX,QAAQ,CAAC;EACT;EACA,MAAM,CAAC;EACP,IAAI,CAAC;AACL;EACA,IAAI,OAAO,IAAI,CAAC;EAChB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,WAAW,GAAG;EAChB,IAAI,IAAI,IAAI,CAAC,YAAY,EAAE;EAC3B,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;EACnE,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,iBAAiB,GAAG;EACtB,IAAI,MAAM,IAAI,GAAG;EACjB,MAAM,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc;EAChD,MAAM,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE;EACpC,MAAM,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,IAAI;EACxD,MAAM,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI;EAC3C,MAAM,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU;EACxC,MAAM,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO;EACjC,KAAK,CAAC;AACN;EACA;EACA,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC;EAC/C,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;AACvC;EACA,IAAI,OAAO,IAAI,CAAC;EAChB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,QAAQ,GAAG;EACb,IAAI,OAAO,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;EAC7B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,CAAC,KAAK,EAAE;EACnB,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,GAAG,KAAK,EAAE,CAAC;AAC9B;EACA;EACA,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;EAC7B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,iBAAiB,GAAG;EACtB;EACA,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;EACnC,MAAM,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa;EACnD,QAAQ,CAAC,sBAAsB,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,EAAE,CAAC;EAC9D,OAAO,CAAC;EACR,MAAM,IAAI,QAAQ,EAAE;EACpB,QAAQ,QAAQ,CAAC,KAAK,EAAE,CAAC;EACzB,MAAM,CAAC;EACP,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;EACnE,IAAI,IAAI,UAAU,EAAE;EACpB,MAAM,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;EAC1C,IAAI,CAAC;AACL;EACA,IAAI,MAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;EAC/E,IAAI,IAAI,gBAAgB,EAAE;EAC1B,MAAM,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;EACtD,IAAI,CAAC;AACL;EACA;EACA,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;EAC7B,MAAM,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;EACtE,MAAM,IAAI,aAAa,EAAE;EACzB,QAAQ,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;EACnF,QAAQ,aAAa,CAAC,KAAK,GAAG,SAAS,CAAC;EACxC,MAAM,CAAC;EACP,IAAI,CAAC;AACL;EACA;EACA,IAAI,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;EAClE,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;EAC9D,IAAI,CAAC;AACL;EACA,IAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC;EAC9B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA,EAAE,iBAAiB,GAAG;EACtB,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC;EAC3B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,aAAa,GAAG;EAClB,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;EAC3B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,YAAY,GAAG;EACjB,IAAI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;EAC5B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,aAAa,GAAG;EAClB,IAAI,IAAI,CAAC,gBAAgB,GAAG,WAAW,CAAC,MAAM;EAC9C,MAAM,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;EACjD,QAAQ,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC7C,QAAQ,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;EACxC,MAAM,CAAC;EACP,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;EACd,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,YAAY,GAAG;EACjB,IAAI,IAAI,IAAI,CAAC,gBAAgB,EAAE;EAC/B,MAAM,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;EAC3C,MAAM,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;EACnC,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,aAAa,CAAC,IAAI,EAAE;EACtB,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;EACpE,IAAI,OAAO,MAAM,GAAG,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;EACvC,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE,SAAS,CAAC,KAAK,EAAE;EACnB,IAAI,MAAM,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;EAC7B,IAAI,MAAM,MAAM,GAAG,KAAK,GAAG,GAAG,CAAC;AAC/B;EACA,IAAI,IAAI,KAAK,KAAK,CAAC,IAAI,MAAM,KAAK,EAAE,EAAE;EACtC,MAAM,OAAO,QAAQ,CAAC;EACtB,IAAI,CAAC,MAAM,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,MAAM,GAAG,EAAE,IAAI,MAAM,IAAI,EAAE,CAAC,EAAE;EAC1E,MAAM,OAAO,SAAS,CAAC;EACvB,IAAI,CAAC,MAAM;EACX,MAAM,OAAO,UAAU,CAAC;EACxB,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,KAAK,GAAG;EACV,IAAI,IAAI,CAAC,KAAK,GAAG;EACjB,MAAM,cAAc,EAAE,IAAI;EAC1B,MAAM,OAAO,EAAE,EAAE;EACjB,MAAM,KAAK,EAAE,EAAE;EACf,MAAM,WAAW,EAAE,EAAE;EACrB,MAAM,UAAU,EAAE,EAAE;EACpB,MAAM,QAAQ,EAAE,IAAI;EACpB,KAAK,CAAC;AACN;EACA,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;EAC7B,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;EACxB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,OAAO,GAAG;EACZ,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;AACxB;EACA,IAAI,IAAI,IAAI,CAAC,eAAe,EAAE;EAC9B,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;EACrC,IAAI,CAAC;AACL;EACA,IAAI,IAAI,IAAI,CAAC,eAAe,EAAE;EAC9B,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;EACrC,IAAI,CAAC;AACL;EACA,IAAI,IAAI,IAAI,CAAC,YAAY,EAAE;EAC3B,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;EAClC,IAAI,CAAC;EACL,EAAE,CAAC;EACH;;ECz4BA;EACA;EACA;EACA;AACA;AAMA;EACA,MAAM,UAAU,CAAC;EACjB,EAAE,WAAW,GAAG;EAChB,IAAI,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;EAC7B,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;EAC/B,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;EAC/B,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,IAAI,GAAG;EACf,IAAI,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;AAClD;EACA,IAAI,IAAI;EACR;EACA,MAAM,MAAM,mBAAmB,GAAG,YAAY,CAAC,IAAI,EAAE,CAAC;EACtD,MAAM,IAAI,CAAC,mBAAmB,EAAE;EAChC,QAAQ,IAAI,CAAC,SAAS,CAAC,sCAAsC,CAAC,CAAC;EAC/D,QAAQ,OAAO;EACf,MAAM,CAAC;AACP;EACA;EACA,MAAM,MAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;AACtC;EACA;EACA,MAAM,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAClC;EACA;EACA,MAAM,IAAI,CAAC,mBAAmB,EAAE,CAAC;AACjC;EACA;EACA,MAAM,IAAI,CAAC,SAAS,EAAE,CAAC;AACvB;EACA;EACA,MAAM,iBAAiB,EAAE,CAAC;AAC1B;EACA;EACA,MAAM,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;AAC7D;EACA,MAAM,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;EAC9B,MAAM,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;AAC7D;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;EACpD,MAAM,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,IAAI,iCAAiC,CAAC,CAAC;EACzE,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,kBAAkB,GAAG;EAC7B,IAAI,IAAI;EACR,MAAM,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;EAChD,MAAM,IAAI,CAAC,cAAc,GAAG,MAAM,GAAG,CAAC,iBAAiB,EAAE,CAAC;EAC1D,MAAM,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;EAClE,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;AAC9D;EACA,MAAM,IAAI,KAAK,YAAY,QAAQ,IAAI,KAAK,CAAC,WAAW,EAAE,EAAE;EAC5D,QAAQ,MAAM,IAAI,KAAK,CAAC,4DAA4D,CAAC,CAAC;EACtF,MAAM,CAAC;AACP;EACA,MAAM,MAAM,IAAI,KAAK,CAAC,yDAAyD,CAAC,CAAC;EACjF,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,cAAc,GAAG;EACzB,IAAI,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;AAC9C;EACA;EACA,IAAI,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;EACrE,IAAI,IAAI,aAAa,EAAE;EACvB,MAAM,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,CAAC,aAAa,CAAC,CAAC;EAC9D,MAAM,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;EACvC,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,mBAAmB,GAAG;EACxB;EACA,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;EAC1D,IAAI,IAAI,QAAQ,EAAE;EAClB,MAAM,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;EACnE,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,YAAY,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;EACnE,IAAI,IAAI,YAAY,EAAE;EACtB,MAAM,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;EAC3E,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;EAC9D,IAAI,IAAI,UAAU,EAAE;EACpB,MAAM,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;EACvE,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;EAC5D,IAAI,IAAI,SAAS,EAAE;EACnB,MAAM,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;EACrE,IAAI,CAAC;AACL;EACA;EACA,IAAI,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC,CAAC,KAAK;EACnD,MAAM,IAAI,IAAI,CAAC,cAAc,EAAE,iBAAiB,EAAE,EAAE;EACpD,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC;EAC3B,QAAQ,CAAC,CAAC,WAAW,GAAG,EAAE,CAAC;EAC3B,MAAM,CAAC;EACP,IAAI,CAAC,CAAC,CAAC;AACP;EACA;EACA,IAAI,IAAI,YAAY,CAAC,EAAE,EAAE;EACzB;EACA,MAAM,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,mBAAmB,EAAE,MAAM;EACzD,QAAQ,IAAI,CAAC,WAAW,EAAE,CAAC;EAC3B,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,SAAS,GAAG;EACd,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO;AACrC;EACA,IAAI,MAAM,KAAK,GAAG,YAAY,CAAC,WAAW,EAAE,CAAC;EAC7C,IAAI,IAAI,KAAK,EAAE;EACf,MAAM,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;AAC7C;EACA,MAAM,MAAM,GAAG,GAAG,YAAY,CAAC,aAAa,EAAE,CAAC;EAC/C,MAAM,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;AACjD;EACA;EACA,MAAM,MAAM,OAAO,GAAG,CAAC,gCAAgC,EAAE,UAAU,CAAC,4BAA4B,CAAC,CAAC;AAClG;EACA,MAAM,YAAY,CAAC,SAAS,CAAC;EAC7B,QAAQ,KAAK,EAAE,iBAAiB;EAChC,QAAQ,OAAO;EACf,QAAQ,OAAO,EAAE;EACjB,UAAU,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE;EAC5D,UAAU,EAAE,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,UAAU,EAAE;EAClE,SAAS;EACT,OAAO,EAAE,CAAC,QAAQ,KAAK;EACvB,QAAQ,IAAI,QAAQ,KAAK,MAAM,EAAE;EACjC,UAAU,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;EAC/C,UAAU,SAAS,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC;EACpD,QAAQ,CAAC,MAAM;EACf,UAAU,YAAY,CAAC,aAAa,EAAE,CAAC;EACvC,QAAQ,CAAC;EACT,MAAM,CAAC,CAAC,CAAC;EACT,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,WAAW,GAAG;EACtB,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE,iBAAiB,EAAE,EAAE;EAClD,MAAM,MAAM,SAAS,GAAG,MAAM,YAAY,CAAC,WAAW;EACtD,QAAQ,mEAAmE;EAC3E,OAAO,CAAC;AACR;EACA,MAAM,IAAI,CAAC,SAAS,EAAE;EACtB,QAAQ,OAAO;EACf,MAAM,CAAC;EACP,IAAI,CAAC;AACL;EACA,IAAI,YAAY,CAAC,KAAK,EAAE,CAAC;EACzB,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,eAAe,GAAG;EACpB,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO;AACrC;EACA,IAAI,IAAI;EACR,MAAM,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;EACnD,MAAM,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AACtC;EACA,MAAM,SAAS,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC;EAChD,MAAM,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AAC7C;EACA;EACA,MAAM,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;AACpC;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;EACpD,MAAM,SAAS,CAAC,6BAA6B,EAAE,OAAO,CAAC,CAAC;EACxD,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,iBAAiB,CAAC,KAAK,EAAE;EACjC,IAAI,IAAI;EACR,MAAM,MAAM,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;EACjC,MAAM,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;EAC3C,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;EAC9D;EACA,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,aAAa,GAAG;EAClB,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO;AACrC;EACA,IAAI,IAAI;EACR,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;AACpD;EACA,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;EAC1C,QAAQ,SAAS,CAAC,0BAA0B,EAAE,SAAS,CAAC,CAAC;EACzD,QAAQ,OAAO;EACf,MAAM,CAAC;AACP;EACA,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;EACxC,MAAM,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;AAC3C;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;EAC7C,MAAM,SAAS,CAAC,+BAA+B,EAAE,OAAO,CAAC,CAAC;EAC1D,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,MAAM,YAAY,GAAG;EACvB,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO;AACrC;EACA,IAAI,IAAI;EACR;EACA,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;EACpD,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;EAC1C,QAAQ,SAAS,CAAC,0BAA0B,EAAE,SAAS,CAAC,CAAC;EACzD,QAAQ,OAAO;EACf,MAAM,CAAC;AACP;EACA;EACA,MAAM,MAAM,SAAS,GAAG,MAAM,YAAY,CAAC,WAAW;EACtD,QAAQ,6CAA6C;EACrD,OAAO,CAAC;AACR;EACA,MAAM,IAAI,CAAC,SAAS,EAAE;EACtB,QAAQ,OAAO;EACf,MAAM,CAAC;AACP;EACA;EACA,MAAM,iBAAiB,CAAC,qBAAqB,CAAC,CAAC;AAC/C;EACA;EACA,MAAM,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,iBAAiB,EAAE,CAAC;AACrE;EACA;EACA,MAAM,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;AAClE;EACA;EACA,MAAM,YAAY,CAAC,aAAa,EAAE,CAAC;AACnC;EACA;EACA,MAAM,iBAAiB,EAAE,CAAC;EAC1B,MAAM,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AAC7C;EACA,MAAM,MAAM,OAAO,GAAG,CAAC,SAAS,EAAE,cAAc,CAAC,KAAK,CAAC,+BAA+B,EAAE,QAAQ,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAC/H;EACA,MAAM,YAAY,CAAC,SAAS,CAAC;EAC7B,QAAQ,KAAK,EAAE,QAAQ;EACvB,QAAQ,OAAO;EACf,QAAQ,OAAO,EAAE;EACjB,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE;EAC3D,SAAS;EACT,OAAO,EAAE,MAAM;EACf,QAAQ,YAAY,CAAC,KAAK,EAAE,CAAC;EAC7B,MAAM,CAAC,CAAC,CAAC;AACT;EACA,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;EACpB,MAAM,iBAAiB,EAAE,CAAC;EAC1B,MAAM,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;AAC3D;EACA,MAAM,IAAI,YAAY,GAAG,iDAAiD,CAAC;AAC3E;EACA,MAAM,IAAI,KAAK,YAAY,QAAQ,EAAE;EACrC,QAAQ,YAAY,GAAG,KAAK,CAAC,cAAc,EAAE,CAAC;AAC9C;EACA,QAAQ,IAAI,KAAK,CAAC,iBAAiB,EAAE,EAAE;EACvC,UAAU,MAAM,gBAAgB,GAAG,KAAK,CAAC,mBAAmB,EAAE,CAAC;EAC/D,UAAU,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;EAC3D,QAAQ,CAAC;EACT,MAAM,CAAC;AACP;EACA,MAAM,SAAS,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;EACvC,MAAM,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;EAC3C,IAAI,CAAC;EACL,EAAE,CAAC;AACH;EACA;EACA;EACA;EACA,EAAE,SAAS,CAAC,OAAO,EAAE;EACrB,IAAI,iBAAiB,EAAE,CAAC;AACxB;EACA,IAAI,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EACzD,IAAI,cAAc,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC,CAAC;AACN;EACA,IAAI,cAAc,CAAC,SAAS,GAAG,CAAC;AAChC;AACA;AACA,yEAAyE,EAAE,OAAO,CAAC;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC,CAAC;AACN;EACA,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;EACjC,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;EAC9C,EAAE,CAAC;EACH,CAAC;AACD;EACA;EACA,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EACpD,EAAE,MAAM,GAAG,GAAG,IAAI,UAAU,EAAE,CAAC;EAC/B,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC;AACb;EACA;EACA,EAAE,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC;AAC1B;EACA;EACA;EACA,EAAE,UAAU,CAAC,MAAM;EACnB,IAAI,MAAM,CAAC,cAAc,GAAG,GAAG,CAAC,cAAc,CAAC;EAC/C,IAAI,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;EAChF,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;EACV,CAAC,CAAC;;;;;;;;;;"}