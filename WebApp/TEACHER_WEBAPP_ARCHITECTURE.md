# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ WebApp –¥–ª—è —Ä–µ–∂–∏–º–∞ —É—á–∏—Ç–µ–ª—è

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤)
3. [API Endpoints](#api-endpoints)
4. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-ui)
5. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
6. [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)

---

## üéØ –û–±–∑–æ—Ä

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π WebApp –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É—á–∏—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–º–µ–Ω–∏—Ç –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π –≤ Telegram –Ω–∞ —É–¥–æ–±–Ω—É—é —Ñ–æ—Ä–º—É.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è —Ñ–æ—Ä–º–∞ –≤–º–µ—Å—Ç–æ 7-15 –∫–ª–∏–∫–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ –≤ LocalStorage
- ‚úÖ –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (—É—á–µ–Ω–∏–∫–∏, –≤–æ–ø—Ä–æ—Å—ã)
- ‚úÖ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞–Ω–∏—è –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- ‚úÖ –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π UX

### MVP Scope
**–§–∞–∑–∞ 1 (—Ç–µ–∫—É—â–∞—è):**
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π
- –ë—Ä–∞—É–∑–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –í—ã–±–æ—Ä —É—á–µ–Ω–∏–∫–æ–≤ —Å –ø–æ–∏—Å–∫–æ–º
- –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–ë—É–¥—É—â–∏–µ —Ñ–∞–∑—ã:**
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–¥–∞–Ω–∏–π
- –®–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞–Ω–∏–π
- –ì—Ä—É–ø–ø–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/WebApp/
‚îú‚îÄ‚îÄ teacher/                          # –ù–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —É—á–∏—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ index.html                    # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ WebApp —É—á–∏—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ create-assignment.html        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.css                  # –û–±—â–∏–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ form.css                  # –°—Ç–∏–ª–∏ —Ñ–æ—Ä–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components.css            # –°—Ç–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.js                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js                    # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js                   # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Telegram
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AssignmentForm.js     # –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QuestionBrowser.js    # –ë—Ä–∞—É–∑–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StudentSelector.js    # –í—ã–±–æ—Ä —É—á–µ–Ω–∏–∫–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModuleSelector.js     # –í—ã–±–æ—Ä –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PreviewModal.js       # –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ storage.js            # LocalStorage helpers
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ validation.js         # –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ formatters.js         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ rollup.config.js              # Bundler –∫–æ–Ω—Ñ–∏–≥
‚îÇ
‚îú‚îÄ‚îÄ api/                              # Backend API (Python)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ app.py                        # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assignments.py            # –†–æ—É—Ç—ã –¥–ª—è –∑–∞–¥–∞–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ questions.py              # –†–æ—É—Ç—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ students.py               # –†–æ—É—Ç—ã –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram_auth.py          # –í–∞–ª–∏–¥–∞—Ü–∏—è initData
‚îÇ   ‚îî‚îÄ‚îÄ schemas/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ assignment.py             # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ       ‚îî‚îÄ‚îÄ question.py
‚îÇ
‚îú‚îÄ‚îÄ index.html                        # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π WebApp (—Å—Ç—É–¥–µ–Ω—Ç—ã)
‚îú‚îÄ‚îÄ navigation.js
‚îú‚îÄ‚îÄ script.js
‚îú‚îÄ‚îÄ style.css
‚îî‚îÄ‚îÄ ...
```

---

## üîå API Endpoints

### –ë–∞–∑–æ–≤—ã–π URL
```
/api/teacher/
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å header:
```http
X-Telegram-Init-Data: <initData –æ—Ç Telegram.WebApp>
```

### Endpoints

#### 1Ô∏è‚É£ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —É—á–∏—Ç–µ–ª—è
```http
GET /api/teacher/profile
```

**Response:**
```json
{
  "teacher_id": 123,
  "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
  "subscription": {
    "tier": "premium",
    "expires_at": "2025-12-31T23:59:59Z"
  },
  "stats": {
    "total_students": 45,
    "total_assignments": 120,
    "active_assignments": 15
  }
}
```

---

#### 2Ô∏è‚É£ –°–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤
```http
GET /api/teacher/students?search=<query>&limit=50&offset=0
```

**Query Parameters:**
- `search` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (default: 50)
- `offset` - —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**Response:**
```json
{
  "total": 45,
  "students": [
    {
      "id": 1,
      "user_id": 987654321,
      "name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
      "username": "@maria_p",
      "connected_at": "2024-09-01T10:00:00Z",
      "stats": {
        "completed_assignments": 12,
        "average_score": 85.5
      }
    }
  ]
}
```

---

#### 3Ô∏è‚É£ –°–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π –∏ —Ç–µ–º
```http
GET /api/teacher/modules
```

**Response:**
```json
{
  "modules": [
    {
      "code": "test_part",
      "name": "üìù –¢–µ—Å—Ç–æ–≤–∞—è —á–∞—Å—Ç—å (1-16)",
      "total_questions": 450,
      "description": "–í–æ–ø—Ä–æ—Å—ã –∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–π —á–∞—Å—Ç–∏ –ï–ì–≠"
    },
    {
      "code": "task19",
      "name": "üí° –ó–∞–¥–∞–Ω–∏–µ 19",
      "total_questions": 120,
      "description": "–ê–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–∏"
    }
  ]
}
```

---

#### 4Ô∏è‚É£ –ë—Ä–∞—É–∑–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤
```http
GET /api/teacher/questions?module=<module_code>&search=<query>&limit=20&offset=0
```

**Query Parameters:**
- `module` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –∫–æ–¥ –º–æ–¥—É–ª—è
- `search` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É –≤–æ–ø—Ä–æ—Å–∞
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
- `offset` - —Å–º–µ—â–µ–Ω–∏–µ

**Response:**
```json
{
  "total": 450,
  "questions": [
    {
      "id": "test_part_123",
      "module": "test_part",
      "number": 5,
      "text": "–í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä–Ω—ã–µ —Å—É–∂–¥–µ–Ω–∏—è –æ...",
      "type": "multiple_choice",
      "difficulty": "medium",
      "topic": "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"
    }
  ]
}
```

---

#### 5Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
```http
POST /api/teacher/assignments
```

**Request Body:**
```json
{
  "assignment_type": "mixed",
  "title": "–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ5",
  "description": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π",
  "deadline": "2025-01-15T23:59:59Z",
  "student_ids": [1, 2, 3],
  "modules": [
    {
      "module_code": "test_part",
      "selection_mode": "random",
      "question_count": 10
    },
    {
      "module_code": "task19",
      "selection_mode": "specific",
      "question_ids": ["task19_45", "task19_67"]
    }
  ]
}
```

**Response:**
```json
{
  "success": true,
  "assignment_id": 456,
  "created_at": "2025-12-29T15:30:00Z",
  "message": "–ó–∞–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ 3 —É—á–µ–Ω–∏–∫–∞–º",
  "students_notified": 3
}
```

**Errors:**
```json
{
  "success": false,
  "error": "validation_error",
  "details": {
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 3 –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤"
  }
}
```

---

#### 6Ô∏è‚É£ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
```http
POST /api/teacher/drafts
```

**Request Body:**
```json
{
  "draft_data": {
    "assignment_type": "mixed",
    "title": "–ù–µ–∑–∞–∫–æ–Ω—á–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ...",
    "modules": []
  }
}
```

**Response:**
```json
{
  "draft_id": "draft_789",
  "saved_at": "2025-12-29T15:35:00Z"
}
```

---

#### 7Ô∏è‚É£ –ü–æ–ª—É—á–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
```http
GET /api/teacher/drafts
```

**Response:**
```json
{
  "drafts": [
    {
      "draft_id": "draft_789",
      "created_at": "2025-12-29T15:35:00Z",
      "data": {
        "assignment_type": "mixed",
        "title": "–ù–µ–∑–∞–∫–æ–Ω—á–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ..."
      }
    }
  ]
}
```

---

## üé® –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

### 1. AssignmentForm (–ì–ª–∞–≤–Ω–∞—è —Ñ–æ—Ä–º–∞)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```html
<div class="assignment-form">
  <!-- –®–∞–≥ 1: –¢–∏–ø –∑–∞–¥–∞–Ω–∏—è -->
  <section class="form-section">
    <h3>1. –¢–∏–ø –∑–∞–¥–∞–Ω–∏—è</h3>
    <div class="assignment-types">
      <button class="type-card" data-type="test_part">
        üìù –¢–µ—Å—Ç–æ–≤–∞—è —á–∞—Å—Ç—å
      </button>
      <button class="type-card" data-type="mixed">
        üîÄ –°–º–µ—à–∞–Ω–Ω–æ–µ
      </button>
      <!-- ... -->
    </div>
  </section>

  <!-- –®–∞–≥ 2: –í—ã–±–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞) -->
  <section class="form-section" id="question-selection">
    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è -->
  </section>

  <!-- –®–∞–≥ 3: –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞–Ω–∏—è -->
  <section class="form-section">
    <h3>3. –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞–Ω–∏—è</h3>
    <input type="text" id="assignment-title"
           placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è"
           minlength="3" maxlength="100">
    <textarea id="assignment-description"
              placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"></textarea>
  </section>

  <!-- –®–∞–≥ 4: –£—á–µ–Ω–∏–∫–∏ -->
  <section class="form-section">
    <h3>4. –í—ã–±–æ—Ä —É—á–µ–Ω–∏–∫–æ–≤</h3>
    <div id="student-selector"></div>
  </section>

  <!-- –®–∞–≥ 5: –î–µ–¥–ª–∞–π–Ω -->
  <section class="form-section">
    <h3>5. –î–µ–¥–ª–∞–π–Ω</h3>
    <input type="datetime-local" id="deadline">
    <label>
      <input type="checkbox" id="no-deadline">
      –ë–µ–∑ –¥–µ–¥–ª–∞–π–Ω–∞
    </label>
  </section>

  <!-- –î–µ–π—Å—Ç–≤–∏—è -->
  <div class="form-actions">
    <button class="btn-secondary" id="save-draft">
      üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫
    </button>
    <button class="btn-primary" id="preview">
      üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
    </button>
    <button class="btn-primary" id="create" disabled>
      ‚úÖ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
    </button>
  </div>
</div>
```

**JavaScript API:**
```javascript
class AssignmentForm {
  constructor(container) {
    this.container = container;
    this.state = {
      assignmentType: null,
      modules: [],
      title: '',
      description: '',
      studentIds: [],
      deadline: null
    };
  }

  async init() {
    await this.loadDraft(); // –ò–∑ LocalStorage
    this.render();
    this.attachEventListeners();
    this.startAutoSave();
  }

  validate() {
    const errors = {};
    if (!this.state.title || this.state.title.length < 3) {
      errors.title = '–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 3 –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤';
    }
    if (this.state.studentIds.length === 0) {
      errors.students = '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞';
    }
    return errors;
  }

  async submit() {
    const errors = this.validate();
    if (Object.keys(errors).length > 0) {
      this.showErrors(errors);
      return;
    }

    const response = await API.createAssignment(this.state);
    if (response.success) {
      this.clearDraft();
      Telegram.WebApp.showAlert('–ó–∞–¥–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ!');
      Telegram.WebApp.close();
    }
  }
}
```

---

### 2. QuestionBrowser (–ë—Ä–∞—É–∑–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤)

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è (–ø–æ 20 –≤–æ–ø—Ä–æ—Å–æ–≤)
- –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
- –§–∏–ª—å—Ç—Ä—ã (—Å–ª–æ–∂–Ω–æ—Å—Ç—å, —Ç–µ–º–∞)
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
- –°—á–µ—Ç—á–∏–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

**UI:**
```html
<div class="question-browser">
  <!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
  <div class="browser-controls">
    <input type="search" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É..."
           id="question-search">
    <select id="difficulty-filter">
      <option value="">–í—Å–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</option>
      <option value="easy">–õ–µ–≥–∫–∏–µ</option>
      <option value="medium">–°—Ä–µ–¥–Ω–∏–µ</option>
      <option value="hard">–°–ª–æ–∂–Ω—ã–µ</option>
    </select>
  </div>

  <!-- –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ -->
  <div class="question-list" id="question-list">
    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è -->
  </div>

  <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
  <div class="pagination">
    <button id="prev-page" disabled>‚Üê –ù–∞–∑–∞–¥</button>
    <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ <span id="current-page">1</span> –∏–∑ <span id="total-pages">23</span></span>
    <button id="next-page">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
  </div>

  <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
  <div class="browser-info">
    –í—ã–±—Ä–∞–Ω–æ –≤–æ–ø—Ä–æ—Å–æ–≤: <strong id="selected-count">0</strong>
  </div>
</div>
```

**JavaScript:**
```javascript
class QuestionBrowser {
  constructor(moduleCode) {
    this.moduleCode = moduleCode;
    this.currentPage = 1;
    this.pageSize = 20;
    this.selectedIds = new Set();
    this.searchQuery = '';
  }

  async loadQuestions() {
    const response = await API.getQuestions({
      module: this.moduleCode,
      search: this.searchQuery,
      limit: this.pageSize,
      offset: (this.currentPage - 1) * this.pageSize
    });

    this.totalPages = Math.ceil(response.total / this.pageSize);
    this.render(response.questions);
  }

  render(questions) {
    const html = questions.map(q => `
      <div class="question-card ${this.selectedIds.has(q.id) ? 'selected' : ''}">
        <input type="checkbox"
               data-id="${q.id}"
               ${this.selectedIds.has(q.id) ? 'checked' : ''}>
        <div class="question-content">
          <span class="question-number">#${q.number}</span>
          <p class="question-text">${q.text}</p>
          <span class="question-topic">${q.topic}</span>
        </div>
      </div>
    `).join('');

    document.getElementById('question-list').innerHTML = html;
  }

  toggleSelection(questionId) {
    if (this.selectedIds.has(questionId)) {
      this.selectedIds.delete(questionId);
    } else {
      this.selectedIds.add(questionId);
    }
    this.updateCounter();
  }
}
```

---

### 3. StudentSelector (–í—ã–±–æ—Ä —É—á–µ–Ω–∏–∫–æ–≤)

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/username
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
- –ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–≤—Å–µ, –Ω–∏–∫–æ–≥–æ, –ø–æ—Å–ª–µ–¥–Ω–∏–µ)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —É—á–µ–Ω–∏–∫–∞

**UI:**
```html
<div class="student-selector">
  <!-- –ü–æ–∏—Å–∫ -->
  <input type="search" placeholder="üîç –ü–æ–∏—Å–∫ —É—á–µ–Ω–∏–∫–æ–≤..."
         id="student-search">

  <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
  <div class="quick-actions">
    <button id="select-all">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ—Ö</button>
    <button id="select-none">–°–Ω—è—Ç—å –≤—ã–±–æ—Ä</button>
  </div>

  <!-- –°–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤ -->
  <div class="student-list" id="student-list">
    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è -->
  </div>

  <!-- –°—á–µ—Ç—á–∏–∫ -->
  <div class="selector-info">
    –í—ã–±—Ä–∞–Ω–æ —É—á–µ–Ω–∏–∫–æ–≤: <strong id="selected-students-count">0</strong>
  </div>
</div>
```

---

### 4. PreviewModal (–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä)

**–§—É–Ω–∫—Ü–∏—è:**
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.

**UI:**
```html
<div class="preview-modal" id="preview-modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞–Ω–∏—è</h2>
      <button class="close-btn">√ó</button>
    </div>

    <div class="modal-body">
      <h3 id="preview-title"></h3>
      <p id="preview-description"></p>

      <div class="preview-info">
        <div class="info-item">
          <span class="label">–¢–∏–ø:</span>
          <span id="preview-type"></span>
        </div>
        <div class="info-item">
          <span class="label">–í–æ–ø—Ä–æ—Å–æ–≤:</span>
          <span id="preview-questions-count"></span>
        </div>
        <div class="info-item">
          <span class="label">–£—á–µ–Ω–∏–∫–æ–≤:</span>
          <span id="preview-students-count"></span>
        </div>
        <div class="info-item">
          <span class="label">–î–µ–¥–ª–∞–π–Ω:</span>
          <span id="preview-deadline"></span>
        </div>
      </div>

      <div class="preview-questions">
        <h4>–í–æ–ø—Ä–æ—Å—ã:</h4>
        <ul id="preview-questions-list"></ul>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn-secondary" id="preview-cancel">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</button>
      <button class="btn-primary" id="preview-confirm">‚úÖ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
    </div>
  </div>
</div>
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Telegram

**Frontend (auth.js):**
```javascript
class TelegramAuth {
  static getInitData() {
    if (!window.Telegram?.WebApp) {
      throw new Error('Telegram WebApp –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
    }
    return window.Telegram.WebApp.initData;
  }

  static getUserInfo() {
    return window.Telegram.WebApp.initDataUnsafe.user;
  }

  static isTeacher() {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    return true;
  }
}
```

**Backend (telegram_auth.py):**
```python
from fastapi import Header, HTTPException
from hashlib import sha256
import hmac
from urllib.parse import parse_qsl

def verify_telegram_webapp(init_data: str = Header(alias="X-Telegram-Init-Data")):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å Telegram WebApp initData.

    –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://core.telegram.org/bots/webapps#validating-data-received-via-the-mini-app
    """
    if not init_data:
        raise HTTPException(status_code=401, detail="Missing init data")

    # –ü–∞—Ä—Å–∏–º initData
    data_dict = dict(parse_qsl(init_data))

    # –ò–∑–≤–ª–µ–∫–∞–µ–º hash
    received_hash = data_dict.pop('hash', None)
    if not received_hash:
        raise HTTPException(status_code=401, detail="Missing hash")

    # –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–æ–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
    data_check_string = '\n'.join(
        f'{k}={v}' for k, v in sorted(data_dict.items())
    )

    # –í—ã—á–∏—Å–ª—è–µ–º –æ–∂–∏–¥–∞–µ–º—ã–π hash
    secret_key = hmac.new(
        b"WebAppData",
        BOT_TOKEN.encode(),
        sha256
    ).digest()

    expected_hash = hmac.new(
        secret_key,
        data_check_string.encode(),
        sha256
    ).hexdigest()

    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º
    if not hmac.compare_digest(received_hash, expected_hash):
        raise HTTPException(status_code=401, detail="Invalid hash")

    # –ò–∑–≤–ª–µ–∫–∞–µ–º user_id
    user_data = json.loads(data_dict.get('user', '{}'))
    user_id = user_data.get('id')

    if not user_id:
        raise HTTPException(status_code=401, detail="Missing user ID")

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —É—á–∏—Ç–µ–ª—å
    teacher = TeacherProfile.query.filter_by(user_id=user_id).first()
    if not teacher:
        raise HTTPException(status_code=403, detail="Not a teacher")

    return teacher
```

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**Pydantic —Å—Ö–µ–º—ã (schemas/assignment.py):**
```python
from pydantic import BaseModel, Field, validator
from typing import List, Optional
from datetime import datetime

class ModuleSelection(BaseModel):
    module_code: str = Field(..., regex=r'^(test_part|task19|task20|task24|task25)$')
    selection_mode: str = Field(..., regex=r'^(all|random|specific|by_topics)$')
    question_count: Optional[int] = Field(None, ge=1, le=100)
    question_ids: Optional[List[str]] = None

    @validator('question_ids')
    def validate_question_ids(cls, v, values):
        if values.get('selection_mode') == 'specific' and not v:
            raise ValueError('question_ids required for specific selection mode')
        return v

class CreateAssignmentRequest(BaseModel):
    assignment_type: str = Field(..., regex=r'^(test_part|task19|task20|task24|task25|full_exam|mixed|custom)$')
    title: str = Field(..., min_length=3, max_length=100)
    description: Optional[str] = Field(None, max_length=500)
    deadline: Optional[datetime] = None
    student_ids: List[int] = Field(..., min_items=1, max_items=100)
    modules: List[ModuleSelection] = Field(..., min_items=1, max_items=5)

    @validator('deadline')
    def validate_deadline(cls, v):
        if v and v < datetime.utcnow():
            raise ValueError('Deadline cannot be in the past')
        return v
```

### 3. Rate Limiting

```python
from fastapi_limiter import FastAPILimiter
from fastapi_limiter.depends import RateLimiter

@app.post(
    "/api/teacher/assignments",
    dependencies=[Depends(RateLimiter(times=20, hours=1))]
)
async def create_assignment(...):
    # –ú–∞–∫—Å–∏–º—É–º 20 –∑–∞–¥–∞–Ω–∏–π –≤ —á–∞—Å
    pass
```

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è (–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª)

```mermaid
sequenceDiagram
    participant U as User (Teacher)
    participant W as WebApp
    participant L as LocalStorage
    participant A as API
    participant D as Database
    participant T as Telegram Bot

    U->>W: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è
    W->>L: –ó–∞–≥—Ä—É–∂–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å)
    L-->>W: –î–∞–Ω–Ω—ã–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
    W->>A: GET /api/teacher/students
    A->>D: Query students
    D-->>A: Students list
    A-->>W: Students data
    W->>A: GET /api/teacher/modules
    A-->>W: Modules list

    U->>W: –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É
    W->>L: –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫)

    U->>W: –ö–ª–∏–∫ "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä"
    W->>W: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
    W-->>U: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç preview modal

    U->>W: –ö–ª–∏–∫ "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ"
    W->>A: POST /api/teacher/assignments
    A->>A: –í–∞–ª–∏–¥–∞—Ü–∏—è (Pydantic)
    A->>D: Create assignment
    A->>T: Send notifications to students
    T-->>Students: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤–æ–º –∑–∞–¥–∞–Ω–∏–∏
    A-->>W: Success response
    W->>L: –£–¥–∞–ª—è–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫
    W-->>U: Success message
    W->>TG: Telegram.WebApp.close()
```

### –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞

```javascript
class AssignmentForm {
  startAutoSave() {
    this.autoSaveInterval = setInterval(() => {
      this.saveDraft();
    }, 30000); // –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
  }

  saveDraft() {
    const draft = {
      timestamp: Date.now(),
      data: this.state
    };
    localStorage.setItem('assignment_draft', JSON.stringify(draft));
  }

  loadDraft() {
    const draft = localStorage.getItem('assignment_draft');
    if (!draft) return null;

    const parsed = JSON.parse(draft);

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–ª–∏—à–∫–æ–º –ª–∏ —Å—Ç–∞—Ä—ã–π —á–µ—Ä–Ω–æ–≤–∏–∫ (24 —á–∞—Å–∞)
    const age = Date.now() - parsed.timestamp;
    if (age > 24 * 60 * 60 * 1000) {
      localStorage.removeItem('assignment_draft');
      return null;
    }

    return parsed.data;
  }
}
```

---

## üé® –î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞

### –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (Telegram Variables)

```css
:root {
  /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Telegram */
  --tg-theme-bg-color: var(--tg-theme-bg-color, #ffffff);
  --tg-theme-text-color: var(--tg-theme-text-color, #000000);
  --tg-theme-hint-color: var(--tg-theme-hint-color, #999999);
  --tg-theme-link-color: var(--tg-theme-link-color, #2481cc);
  --tg-theme-button-color: var(--tg-theme-button-color, #2481cc);
  --tg-theme-button-text-color: var(--tg-theme-button-text-color, #ffffff);
  --tg-theme-secondary-bg-color: var(--tg-theme-secondary-bg-color, #f1f1f1);

  /* –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ */
  --color-success: #4caf50;
  --color-error: #f44336;
  --color-warning: #ff9800;
  --color-info: #2196f3;
}
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```css
/* –ö–Ω–æ–ø–∫–∏ */
.btn-primary {
  background: var(--tg-theme-button-color);
  color: var(--tg-theme-button-text-color);
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  transition: opacity 0.2s;
}

.btn-primary:hover {
  opacity: 0.9;
}

.btn-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∏ */
.card {
  background: var(--tg-theme-secondary-bg-color);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 12px;
}

/* –§–æ—Ä–º—ã */
input[type="text"],
input[type="search"],
textarea {
  background: var(--tg-theme-bg-color);
  color: var(--tg-theme-text-color);
  border: 1px solid var(--tg-theme-hint-color);
  border-radius: 8px;
  padding: 12px;
  font-size: 16px;
  width: 100%;
}

input:focus,
textarea:focus {
  outline: none;
  border-color: var(--tg-theme-button-color);
}

/* –ß–µ–∫–±–æ–∫—Å—ã */
.checkbox-label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}
```

---

## üì± Responsive Design

```css
/* Mobile First –ø–æ–¥—Ö–æ–¥ */
.assignment-form {
  padding: 16px;
}

.form-section {
  margin-bottom: 24px;
}

/* Tablet (768px+) */
@media (min-width: 768px) {
  .assignment-form {
    max-width: 600px;
    margin: 0 auto;
  }
}

/* Desktop (1024px+) */
@media (min-width: 1024px) {
  .assignment-form {
    max-width: 800px;
  }

  .question-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
}
```

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **Lazy Loading:** –í–æ–ø—Ä–æ—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
2. **Debouncing:** –ü–æ–∏—Å–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 300ms –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–≤–æ–¥–∞
3. **Pagination:** –ü–æ 20 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
4. **LocalStorage:** –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
5. **–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è:** Rollup –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç bundle

```javascript
// Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞
function debounce(func, wait) {
  let timeout;
  return function(...args) {
    clearTimeout(timeout);
    timeout = setTimeout(() => func.apply(this, args), wait);
  };
}

const searchHandler = debounce(async (query) => {
  await browser.loadQuestions(query);
}, 300);
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Unit —Ç–µ—Å—Ç—ã:**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
   - –£—Ç–∏–ª–∏—Ç—ã (formatters, storage)
   - API –∫–ª–∏–µ–Ω—Ç

2. **Integration —Ç–µ—Å—Ç—ã:**
   - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è end-to-end
   - –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
   - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

3. **Manual —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - iOS Safari
   - Android Chrome
   - Desktop Telegram

### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞

```javascript
// tests/validation.test.js
import { validateAssignmentForm } from '../utils/validation.js';

describe('Assignment Form Validation', () => {
  test('validates title length', () => {
    const state = {
      title: 'AB', // –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ
      studentIds: [1],
      modules: [{ module_code: 'task19' }]
    };

    const errors = validateAssignmentForm(state);
    expect(errors.title).toBe('–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 3 –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤');
  });

  test('requires at least one student', () => {
    const state = {
      title: 'Valid Title',
      studentIds: [],
      modules: [{ module_code: 'task19' }]
    };

    const errors = validateAssignmentForm(state);
    expect(errors.students).toBe('–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞');
  });
});
```

---

## üöÄ Deployment

### Build –ø—Ä–æ—Ü–µ—Å—Å

```bash
# Frontend
cd WebApp/teacher
npm install
npm run build  # –°–æ–∑–¥–∞–µ—Ç bundle.js

# Backend
cd api
pip install -r requirements.txt
uvicorn app:app --reload
```

### Environment Variables

```bash
# .env
BOT_TOKEN=your_bot_token
DATABASE_URL=sqlite:///ege_bot.db
WEBAPP_URL=https://yourdomain.com/WebApp/teacher
ALLOWED_ORIGINS=https://t.me,https://web.telegram.org
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ WebApp –±—É–¥–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:

1. **Adoption Rate:** % —É—á–∏—Ç–µ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö WebApp vs —Å—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. **Time to Create:** –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
3. **Completion Rate:** % –Ω–∞—á–∞—Ç—ã—Ö —Ñ–æ—Ä–º, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã
4. **Error Rate:** –ß–∞—Å—Ç–æ—Ç–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
5. **User Satisfaction:** Feedback –æ—Ç —É—á–∏—Ç–µ–ª–µ–π

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –§–∞–∑–∞ 2: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ì—Ä–∞—Ñ–∏–∫–∏ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ (Chart.js)
- –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV/Excel
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–æ–≤
- –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ø–æ —Ç–µ–º–∞–º

### –§–∞–∑–∞ 3: –®–∞–±–ª–æ–Ω—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –∫–∞–∫ —à–∞–±–ª–æ–Ω—ã
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π
- –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π

### –§–∞–∑–∞ 4: Collaboration
- –ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è
- –û–±–º–µ–Ω –∑–∞–¥–∞–Ω–∏—è–º–∏ –º–µ–∂–¥—É —É—á–∏—Ç–µ–ª—è–º–∏
- –ü—É–±–ª–∏—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞

---

## üìö –†–µ—Å—É—Ä—Å—ã

- [Telegram WebApp API](https://core.telegram.org/bots/webapps)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [Pydantic Documentation](https://docs.pydantic.dev/)
- [Rollup Documentation](https://rollupjs.org/)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-29
**–í–µ—Ä—Å–∏—è:** 1.0
**–ê–≤—Ç–æ—Ä:** Claude Code
